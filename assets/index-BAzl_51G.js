import{r as a,j as e}from"./react-CiCIRML4.js";import{c as ke}from"./react-dom-BXK7F1gW.js";import{a as $}from"./axios-CCb-kr4I.js";import{S as he}from"./react-select-D9fJaPut.js";import{H as Ne}from"./html5-qrcode-CAPQZwmQ.js";import{Q as me,M as Se,C as Ce,F as Be,a as Le,D as Ae,B as Re,U as Ee,b as $e}from"./lucide-react-CmvjbUfQ.js";import{T as qe,a as Pe,b as te,c as oe}from"./@radix-ui-RXZpdv1W.js";import"./hoist-non-react-statics-DUIF_pJT.js";import"./react-is-8JwjhRSi.js";import"./scheduler-CzFDRTuY.js";import"./@babel-CabbEptY.js";import"./@emotion-BixImYM8.js";import"./stylis-YPZU7XtI.js";import"./@floating-ui-Dqirgmo9.js";import"./use-isomorphic-layout-effect-CicGjkJe.js";import"./memoize-one-BdPwpGay.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))d(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const y of h.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&d(y)}).observe(document,{childList:!0,subtree:!0});function l(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function d(u){if(u.ep)return;u.ep=!0;const h=l(u);fetch(u.href,h)}})();const ge="/icm_lib/assets/img-Dm6ee46N.png",q="https://religious-cherianne-dbprops-ef8ee171.koyeb.app",De=({onLogin:r})=>{const[s,l]=a.useState(""),[d,u]=a.useState(""),[h,y]=a.useState(""),k=async w=>{w.preventDefault();try{const v=await $.post(`${q}/api/login`,{username:s,password:d});v.status===200&&(localStorage.setItem("authToken",v.data.token),r())}catch{y("Invalid username or password.")}};return e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:e.jsxs("form",{onSubmit:k,className:"bg-white p-6 rounded shadow-md w-80",children:[e.jsx("img",{src:ge,alt:"ICM Library Logo",className:"max-h-16 sm:max-h-20 mx-auto mb-4"}),e.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Login"}),h&&e.jsx("div",{className:"text-red-500 text-sm mb-2",children:h}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Username"}),e.jsx("input",{type:"text",className:"w-full p-2 border rounded",value:s,onChange:w=>l(w.target.value)})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Password"}),e.jsx("input",{type:"password",className:"w-full p-2 border rounded",value:d,onChange:w=>u(w.target.value)})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 rounded",children:"Login"})]})})},T=$.create({baseURL:q});T.interceptors.request.use(r=>{const s=localStorage.getItem("authToken");return console.log("Token in localStorage:",s),s&&(r.headers.Authorization=s),r},r=>Promise.reject(r));T.interceptors.response.use(r=>r,r=>(r.response&&r.response.status===403&&(localStorage.removeItem("authToken"),alert("Session expired. Please log in again."),window.location.reload()),Promise.reject(r)));const Ie=async r=>{try{return(await T.post("/api/members",r)).data}catch{throw new Error("Failed to add member.")}},_e=async()=>{try{return(await T.get("/api/members")).data}catch(r){throw console.error("Error fetching members:",r),r}},Me=async(r="desc")=>{try{return(await $.get(`${q}/api/books?order_by=${r}`)).data}catch(s){throw console.error("Error fetching books:",s),s}},Te=async r=>{try{return(await T.post("/api/books",r,{headers:{"Content-Type":"application/json"}})).data}catch(s){throw console.error("Error adding book:",s),new Error("Failed to add book.")}},Fe=async r=>{try{const s=await $.get(`${q}/api/qr_codes/${r}`,{responseType:"blob"}),l=window.URL.createObjectURL(new Blob([s.data])),d=document.createElement("a");d.href=l,d.setAttribute("download",r),document.body.appendChild(d),d.click(),d.remove()}catch(s){throw console.error("Error downloading QR code:",s),s}},xe=a.createContext(),He=({children:r})=>{const[s,l]=a.useState("he"),d=h=>h==="he"?"rtl":"ltr",u=()=>{l(h=>h==="en"?"he":"en")};return e.jsx(xe.Provider,{value:{language:s,setLanguage:l,toggleLanguage:u,direction:d(s)},children:r})},z=()=>a.useContext(xe),Qe={by:"by",app_title:"The Library of the Israeli Community of Madrid",title:"Book Title",author:"Author",description:"Description",year_of_publication:"Year of Publication",cover_type:"Cover Type",pages:"Pages",borrowing_child:"Borrowing Child's Name",borrowed_by:"Borrowed By",borrower:"Borrower",borrow:"Borrow Book",delivery_status:"Delivery Status",delivering_parent:"Delivering Parent",recommended_age:"Recommended Age",borrow_date:"Borrow Date",return_date:"Return Date",NotReturned:"Not Returned",add_book_label:"Add New Book",books:"Books",members:"Members",loans:"Loans",ShowAllLoans:"Show History",Hide_Details:"Hide Details",More_Details:"More Details",loan_status:"Availability",sort_by:"Sort By",ascending:"Ascending",descending:"Descending",Hide_Add_Book:"Hide Add Book",Add_Book:"Add Book",return:"Return Book",Select_Book:"Select Book",Select_Book_State:"Select Book State",ScanQR:"Scan QR Code",download_qr_code:"Download QR Code",SendReminders:"Send Reminders",last_reminder:"last reminder at",error_generating_report:"Failed to generate report. Please try again.",reports:"Reports",generate_report_button:"Generate report",select_borrower:"Select Borrower",add_member_button:"Add Member",close_add_member_button:"Close Add Member",add_member_form_title:"Add New Member",search_placeholder:"Search members by name",members_list_title:"Library Members",no_members_found:"No members found",parent_name_placeholder:"Parent's Name",kid_name_placeholder:"Kid's Name",email_placeholder:"Email Address",error_parent_name_required:"Parent's name is required.",error_kid_name_required:"Kid's name is required.",error_email_required:"Email address is required.",error_email_invalid:"Invalid email address.",success_member_added:"Member added successfully!",parent_name_label:"Parent Name",kid_name_label:"Child Name",email_label:"Email",inventory_list_title:"Library Inventory",add_book_button:"Add Book",close_add_book_button:"Close Add Book",search_books_placeholder:"Search books by title",no_books_found:"No books found",placeholder_book_title:"Enter Book Title",placeholder_book_author:"Enter Author Name",placeholder_book_description:"Enter Description",placeholder_book_year:"Enter Year of Publication",placeholder_book_pages:"Enter Number of Pages",placeholder_book_recommended_age:"Enter Recommended Age",select_condition:"Select Condition",select_loan_status:"Select loan status",select_parent:"Select Parent",select_cover_type:"format",soft_cover:"Soft Cover",hard_cover:"Hard Cover",rigid_pages:"Rigid Pages",battery_book:"Book with Battery",new:"New",good:"Good",worn:"Worn",available:"Available",borrowed:"Borrowed",error_book_title_required:"Book title is required.",error_book_author_required:"Author name is required.",error_book_description_required:"Description is required.",error_book_year_required:"Year of publication is required.",error_book_pages_required:"Number of pages is required.",inventory_report:"Inventory Report",loans_report:"Loans Report",select_report_type:"Select Report Type",report_options:"Report Options",select_field:"Select Field",book_title:"Book Title",id:"ID",order:"Order",include_history:"Include Historical Loans",include_borrowed:"Include Currently Borrowed Books"},Oe={by:"על ידי",app_title:"ספריית הקהילה הישראלית במדריד",title:"שם הספר",author:"שם המחבר",description:"תיאור",year_of_publication:"שנת הוצאה",cover_type:"סוג כריכה",pages:"עמודים",borrowing_child:"שם הילד המשאיל",borrowed_by:"הושאל על ידי",borrower:"המשאיל",borrow:"השאל ספר",delivery_status:"מצב מסירה",delivering_parent:"שם ההורה המוסר",recommended_age:"גיל מומלץ",borrow_date:"תאריך השאלה",return_date:"תאריך החזרה",NotReturned:"לא הוחזר",add_book_label:"הוסף ספר חדש",books:"ספרים",members:"חברים",loans:"השאלות",ShowAllLoans:"הצג היסטוריה",Hide_Details:"הסתר פרטים",More_Details:"עוד פרטים",loan_status:"זמינות",sort_by:"סדר",ascending:"עולה",descending:"יורד",Hide_Add_Book:"הסתר הוספת ספר",Add_Book:"הוסף ספר",return:"החזר ספר",Select_Book:"בחר ספר",Select_Book_State:"מצב הספר",ScanQR:"סרוק ברקוד",download_qr_code:"הורד ברקוד",SendReminders:"שלח תזכורת",last_reminder:"תזכורת אחרונה ב",error_generating_report:"הפקת הדוח נכשלה, נסה שנית בבקשה.",reports:"דוחות",generate_report_button:"הפק דוח",select_borrower:"בחר משאיל",add_member_button:"הוסף חבר",close_add_member_button:"סגור הוספת חבר",add_member_form_title:"הוספת חבר חדש",search_placeholder:"חפש חברים לפי שם",members_list_title:"חברי הספרייה",no_members_found:"לא נמצאו חברים",parent_name_placeholder:"שם ההורה",kid_name_placeholder:"שם הילד",email_placeholder:"כתובת אימייל",error_parent_name_required:"נדרש שם הורה.",error_kid_name_required:"נדרש שם ילד.",error_email_required:"נדרשת כתובת אימייל.",error_email_invalid:"כתובת אימייל לא תקינה.",success_member_added:"החבר נוסף בהצלחה!",parent_name_label:"שם ההורה",kid_name_label:"שם הילד",email_label:"אימייל",inventory_list_title:"מלאי הספרייה",add_book_button:"הוסף ספר",close_add_book_button:"סגור הוספת ספר",search_books_placeholder:"חפש ספרים לפי שם",no_books_found:"לא נמצאו ספרים",placeholder_book_title:"הכנס שם הספר",placeholder_book_author:"הכנס שם המחבר",placeholder_book_description:"הכנס תיאור",placeholder_book_year:"הכנס שנת הוצאה",placeholder_book_pages:"הכנס מספר עמודים",placeholder_book_recommended_age:"הכנס גיל מומלץ",select_condition:"מצב מסירה",select_loan_status:"זמינות",select_parent:"שם ההורה",select_cover_type:"פורמט",soft_cover:"כריכה רכה",hard_cover:"כריכה קשה",rigid_pages:"עמודים קשיחים",battery_book:"ספר עם בטריה",new:"חדש",good:"טוב",worn:"בלוי",available:"זמין",borrowed:"מושאל",error_book_title_required:"נדרש שם ספר.",error_book_author_required:"נדרש שם מחבר.",error_book_description_required:"נדרש תיאור.",error_book_year_required:"נדרשת שנת הוצאה.",error_book_pages_required:"נדרש מספר עמודים.",inventory_report:"דוח מלאי",loans_report:"דוח השאלות",select_report_type:"בחר סוג דוח",report_options:"אפשרויות דוח",select_field:"בחר שדה",book_title:"כותרת הספר",id:"מזהה",order:"סדר",include_history:"כלול היסטורית השאלות",include_borrowed:"כלול ספרים מושאלים"},V=r=>r==="he"?Oe:Qe,Ue=()=>{const[r,s]=a.useState([]),[l,d]=a.useState("desc"),[u,h]=a.useState(""),[y,k]=a.useState(""),[w,v]=a.useState(""),[m,_]=a.useState(""),[j,S]=a.useState(""),[R,p]=a.useState(""),[B,L]=a.useState(""),[U,f]=a.useState(""),[P]=a.useState("available"),[A,E]=a.useState(""),[Q,b]=a.useState([]),[D,se]=a.useState(!1),[I,Y]=a.useState(""),[G,M]=a.useState({}),{language:F,toggleLanguage:J,direction:X}=z(),c=V(F),Z=[{value:"כריכה רכה",label:c.soft_cover},{value:"כריכה קשה",label:c.hard_cover},{value:"עמודים קשיחים",label:c.rigid_pages},{value:"ספר עם בטריה",label:c.battery_book}],ae=[{value:"new",label:c.new},{value:"good",label:c.good},{value:"worn",label:c.worn}];a.useEffect(()=>{x(),ne()},[l]);const x=async()=>{try{const o=await Me(l);Array.isArray(o)?s(o):(console.error("Unexpected response format:",o),s([]))}catch(o){console.error("Failed to load books:",o),s([])}},ne=async()=>{try{const o=await _e();b(o)}catch(o){console.error("Error fetching members:",o)}},le=async o=>{o.preventDefault();try{await Te({title:u,author:y,description:w,year_of_publication:m,pages:j,cover_type:R,book_condition:B,recommended_age:U,loan_status:P,delivering_parent:A}),h(""),k(""),v(""),_(""),S(""),p(Z[0].value),L(ae[0].value),E(""),se(!1),await x()}catch(H){console.error("Error adding book:",H)}},de=o=>{M(H=>({...H,[o]:!H[o]}))},ce=o=>{Fe(o).then(()=>console.log("QR Code downloaded successfully")).catch(H=>console.error("Failed to download QR Code:",H))};return e.jsxs("div",{className:"w-full max-w-md mx-auto",children:[e.jsx("button",{className:"w-12 h-12 flex items-center justify-center rounded-full border border-teal-500 bg-white text-teal-500 shadow-md absolute top-4 left-4",onClick:J,children:F==="en"?"HE":"EN"}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("input",{id:"search_by_name",type:"text",placeholder:c.search_books_placeholder,value:I,onChange:o=>Y(o.target.value),className:"flex-1 mr-4 border border-gray-300 rounded-md py-2 px-4"}),e.jsxs("div",{className:"sorting-container",children:[e.jsxs("label",{htmlFor:"orderBy",className:"mr-2",children:[":",c.sort_by]}),e.jsxs("select",{id:"orderBy",value:l,onChange:o=>d(o.target.value),className:"border rounded p-1",children:[e.jsx("option",{value:"desc",children:c.descending}),e.jsx("option",{value:"asc",children:c.ascending})]})]})]}),e.jsx("button",{onClick:()=>se(!D),className:"w-full bg-blue-500 text-white font-semibold py-2 rounded-md hover:bg-blue-600 transition mb-4",children:D?`- ${c.close_add_book_button}`:`+ ${c.add_book_button}`}),D&&e.jsxs("form",{onSubmit:le,className:"mb-4",children:[e.jsx("input",{type:"text",value:u,onChange:o=>h(o.target.value),placeholder:c.placeholder_book_title,className:"input mb-2 w-full border border-gray-300 rounded-md py-2 px-4"}),e.jsx("input",{type:"text",value:y,onChange:o=>k(o.target.value),placeholder:c.placeholder_book_author,className:"input mb-2 w-full border border-gray-300 rounded-md py-2 px-4"}),e.jsx("textarea",{value:w,onChange:o=>v(o.target.value),onInput:o=>{o.target.style.height="auto",o.target.style.height=`${o.target.scrollHeight}px`},placeholder:c.placeholder_book_description,className:"input mb-2 w-full border border-gray-300 rounded-md py-2 px-4"}),e.jsx("input",{type:"number",value:m,onChange:o=>_(o.target.value),placeholder:c.placeholder_book_year,className:"input mb-2 w-full border border-gray-300 rounded-md py-2 px-4"}),e.jsxs("select",{value:R,onChange:o=>p(o.target.value),className:"input mb-2 w-full border border-gray-300 rounded-md py-2 px-4",children:[e.jsx("option",{value:"",children:c.select_cover_type}),Z.map(o=>e.jsx("option",{value:o.value,children:o.label},o.value))]}),e.jsx("input",{type:"number",value:j,onChange:o=>S(o.target.value),placeholder:c.placeholder_book_pages,className:"input mb-2 w-full border border-gray-300 rounded-md py-2 px-4"}),e.jsx("input",{type:"number",value:U,onChange:o=>f(o.target.value),placeholder:c.placeholder_book_recommended_age,className:"input mb-2 w-full border border-gray-300 rounded-md py-2 px-4"}),e.jsxs("select",{value:B,onChange:o=>L(o.target.value),className:"input mb-2 w-full border border-gray-300 rounded-md py-2 px-4",children:[e.jsx("option",{value:"",children:c.select_condition}),ae.map(o=>e.jsx("option",{value:o.value,children:o.label},o.value))]}),e.jsxs("select",{value:A,onChange:o=>E(o.target.value),className:"input mb-2 w-full border border-gray-300 rounded-md py-2 px-4",children:[e.jsx("option",{value:"",children:c.select_parent}),Q.map(o=>e.jsx("option",{value:o.parent_name,children:o.parent_name},o.id))]}),e.jsx("button",{type:"submit",className:"w-full bg-green-500 text-white font-semibold py-2 rounded-md hover:bg-green-600 transition",children:c.add_book_button})]}),e.jsx("div",{dir:X,children:e.jsx("div",{className:"overflow-y-auto max-h-screen border-t pt-4",children:r.filter(o=>o.title.toLowerCase().includes(I.toLowerCase())||o.author.toLowerCase().includes(I.toLowerCase())).map(o=>e.jsxs("div",{className:"bg-gray-50 shadow-sm rounded-lg p-4 mb-2",children:[e.jsx("h2",{className:"font-bold text-gray-800",children:o.title}),e.jsx("p",{className:"text-sm text-gray-500",children:o.author}),e.jsxs("p",{className:"text-sm",children:[" ",e.jsx("span",{className:o.loan_status==="available"?"text-green-500":"text-red-500",children:o.loan_status==="borrowed"?c.borrowed:c.available}),o.loan_status==="borrowed"&&e.jsxs("span",{children:[" ",c.by," ",o.borrowing_child]})]}),e.jsx("p",{children:e.jsx("button",{onClick:()=>ce(`${o.qr_code}.png`),className:"text-blue-500 text-sm mt-2 hover:underline",children:c.download_qr_code})}),e.jsx("button",{onClick:()=>de(o.qr_code),className:"text-blue-500 text-sm mt-2 hover:underline",children:G[o.qr_code]?c.Hide_Details:c.More_Details}),G[o.qr_code]&&e.jsxs("div",{className:"mt-2 text-gray-600",children:[e.jsxs("p",{children:[e.jsxs("strong",{children:[c.description,":"]})," ",o.description||"N/A"]}),e.jsxs("p",{children:[e.jsxs("strong",{children:[c.year_of_publication,":"]})," ",o.year_of_publication||"N/A"]}),e.jsxs("p",{children:[e.jsxs("strong",{children:[c.cover_type,":"]})," ",o.cover_type||"N/A"]}),e.jsxs("p",{children:[e.jsxs("strong",{children:[c.pages,":"]})," ",o.pages||"N/A"]}),e.jsxs("p",{children:[e.jsxs("strong",{children:[c.recommended_age,":"]})," ",o.recommended_age||"N/A"]}),e.jsxs("p",{children:[e.jsxs("strong",{children:[c.select_condition,":"]})," ",o.book_condition||"N/A"]}),e.jsxs("p",{children:[e.jsxs("strong",{children:[c.delivering_parent,":"]})," ",o.delivering_parent||"N/A"]})]})]},o.qr_code))})})]})};function Ke(){const[r,s]=a.useState([]),[l,d]=a.useState(""),[u,h]=a.useState(""),[y,k]=a.useState(""),[w,v]=a.useState(!1),[m,_]=a.useState(""),[j,S]=a.useState({}),[R,p]=a.useState(""),{language:B,toggleLanguage:L,direction:U}=z(),f=V(B),P=()=>{const b={};return l.trim()||(b.parentName=f.error_parent_name_required),u.trim()||(b.kidName=f.error_kid_name_required),y.trim()?/\S+@\S+\.\S+/.test(y)||(b.email=f.error_email_invalid):b.email=f.error_email_required,S(b),Object.keys(b).length===0},A=async b=>{if(b.preventDefault(),!!P())try{await Ie({parent_name:l,kid_name:u,email:y}),d(""),h(""),k(""),S({}),p(f.success_member_added),await E()}catch(D){console.error("Error adding member:",D),p("")}},E=async()=>{try{const b=await _e();Array.isArray(b)?s(b):(console.error("Unexpected response format:",b),s([]))}catch(b){console.error("Failed to load members:",b),s([])}};a.useEffect(()=>{E()},[]);const Q=Array.isArray(r)?r.filter(b=>b.parent_name.toLowerCase().includes(m.toLowerCase())||b.kid_name.toLowerCase().includes(m.toLowerCase())):[];return e.jsxs("div",{className:"w-full max-w-md mx-auto",children:[e.jsx("button",{className:"w-12 h-12 flex items-center justify-center rounded-full border border-teal-500 bg-white text-teal-500 shadow-md absolute top-4 left-4",onClick:L,children:B==="en"?"HE":"EN"}),e.jsx("h1",{className:"text-xl font-semibold mb-4",children:f.members_list_title}),e.jsx("button",{onClick:()=>v(!w),className:"w-full bg-blue-500 text-white font-semibold py-2 rounded-md hover:bg-blue-600 transition mb-4",children:w?`- ${f.close_add_member_button}`:`+ ${f.add_member_button}`}),w&&e.jsxs("form",{onSubmit:A,className:"mb-4",children:[e.jsx("input",{type:"text",placeholder:f.parent_name_placeholder,value:l,onChange:b=>d(b.target.value),className:"input mb-2 w-full border border-gray-300 rounded-md py-2 px-4"}),j.parentName&&e.jsx("p",{className:"text-red-500 text-sm",children:j.parentName}),e.jsx("input",{type:"text",placeholder:f.kid_name_placeholder,value:u,onChange:b=>h(b.target.value),className:"input mb-2 w-full border border-gray-300 rounded-md py-2 px-4"}),j.kidName&&e.jsx("p",{className:"text-red-500 text-sm",children:j.kidName}),e.jsx("input",{type:"email",placeholder:f.email_placeholder,value:y,onChange:b=>k(b.target.value),className:"input mb-2 w-full border border-gray-300 rounded-md py-2 px-4"}),j.email&&e.jsx("p",{className:"text-red-500 text-sm",children:j.email}),e.jsx("button",{type:"submit",className:"w-full bg-green-500 text-white font-semibold py-2 rounded-md hover:bg-green-600 transition",children:f.add_member_button}),R&&e.jsx("p",{className:"text-green-500 text-sm mt-2",children:R})]}),e.jsx("input",{type:"text",placeholder:f.search_placeholder,value:m,onChange:b=>_(b.target.value),className:"input w-full border border-gray-300 rounded-md py-2 px-4 mb-4"}),e.jsx("div",{dir:U,children:e.jsx("div",{className:"overflow-y-auto max-h-96 border-t pt-4",children:Q.length>0?Q.map(b=>e.jsxs("div",{className:"bg-gray-50 shadow-sm rounded-lg p-4 mb-2",children:[e.jsxs("h2",{className:"font-bold text-gray-800",children:[f.parent_name_label,": ",b.parent_name]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[f.kid_name_label,": ",b.kid_name]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[f.email_label,": ",b.email]})]},b.id)):e.jsx("p",{className:"text-sm text-gray-500",children:Q.length===0&&f.no_members_found})})})]})}async function be(){return await(await $.get(`${q}/api/available_books`)).data}async function ue(){return await(await $.get(`${q}/api/borrowed_books`)).data}async function Ye(r){return await(await $.get(`${q}/api/book/${r}`)).data}async function Ge(){const r=await T.get("/api/members");return console.log("API Response:",r.data),r.data.members||r.data}const We=async(r,s,l)=>{try{return(await T.post("/api/book/borrow",{qr_code:r,member_id:s,book_state:l})).data}catch(d){throw console.error("Error borrowing book:",d.response||d),d}},ze=async r=>{try{return(await T.post("/api/book/return",{qr_code:r})).data}catch(s){throw console.error("Error returning book:",s),s}};async function W(r,s){return(await $.get(`${q}/api/loans/history`,{params:{qr_code:r||"",show_all:s?"true":"false"}})).data}const Ve=async(r,s,l)=>{var d,u;try{return(await T.post("/api/send-reminder",{loan_id:r,subject:s,loan_details:l})).data}catch(h){return console.error(`Error sending reminder for loan_id ${r}:`,h),{success:!1,error:((u=(d=h.response)==null?void 0:d.data)==null?void 0:u.error)||h.message||"Unknown error"}}},pe=async r=>{try{const s=await $.get(`${q}/api/reminders/last/${r}`),{sent_at:l}=s.data;return{sent_at:l}}catch(s){return console.error(`Error fetching last reminder for loan_id ${r}:`,s),null}},Je=({onScanSuccess:r,onScanError:s,onScanCancel:l})=>{const[d,u]=a.useState(!1),h=async(k,w,v={})=>{try{const m=await k.scanFile(w,!0,v);return console.log("Scan attempt succeeded:",m),m}catch(m){throw console.log("Scan attempt failed:",m),m}},y=async k=>{const w=k.target.files[0];if(!w)return;u(!0);const v=new Ne("qr-reader");try{const m=[{},{bindSearchRegion:!0,maxLength:512,minLength:1},{returnDetailedScanResult:!0,maxLength:512,minLength:1},{experimentalFeatures:{useBarCodeDetectorIfSupported:!1},maxLength:512,minLength:1}];for(let _=0;_<m.length;_++)try{console.log(`Attempting scan with config ${_+1}:`,m[_]);const j=await h(v,w,m[_]);if(j){v.clear(),r(j);return}}catch(j){console.log(`Config ${_+1} failed:`,j)}throw new Error("Unable to scan QR code with any configuration")}catch(m){console.error("Final error:",m),s(m)}finally{try{await v.clear()}catch(m){console.error("Error clearing scanner:",m)}u(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-md w-full",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Scan QR Code"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{id:"qr-reader",style:{display:"none"}}),e.jsx("div",{className:"flex flex-col items-center",children:e.jsxs("label",{className:"w-full flex flex-col items-center px-4 py-6 bg-coral text-blue rounded-lg shadow-lg tracking-wide uppercase border border-blue cursor-pointer hover:bg-blue hover:text-white",children:[e.jsx("span",{className:"mt-2 text-base leading-normal",children:"Select an image"}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:y,disabled:d})]})}),d&&e.jsx("div",{className:"text-center text-gray-600",children:"Processing image..."}),e.jsx("button",{onClick:l,className:"w-full mt-4 px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300",children:"Cancel"})]})]})})},N={coral:"#F38181",teal:"#4ECAC7",yellow:"#FEC43C"};function Xe(){const[r,s]=a.useState(""),[l,d]=a.useState([]),[u,h]=a.useState([]),[y,k]=a.useState(""),[w,v]=a.useState(""),[m,_]=a.useState(null),[j,S]=a.useState(""),[R,p]=a.useState([]),[B,L]=a.useState(""),[U,f]=a.useState(null);a.useState([]);const[P,A]=a.useState([]),[E,Q]=a.useState(!1),[b,D]=a.useState(!1),[se,I]=a.useState(!1),[Y,G]=a.useState(!1),[M,F]=a.useState([]),[J,X]=a.useState(!1),{language:c,toggleLanguage:Z,direction:ae}=z(),x=V(c);a.useEffect(()=>{(async()=>{try{const[n,i,g]=await Promise.all([Ge(),be(),ue()]);d(n),h(i),p(g)}catch(n){console.error("Error loading initial data:",n)}})()},[]),a.useEffect(()=>{(async()=>{try{let n=null;r==="return"?n=B||null:r==="borrow"&&(n=w||null);const i=await W(n,E),g=await Promise.all(i.map(async C=>{try{const K=await pe(C.id);return{...C,last_reminder_date:K?K.sent_at:null}}catch(K){return console.error(`Failed to fetch reminder for loan_id ${C.id}:`,K),{...C,last_reminder_date:null}}}));A(ee(g))}catch(n){console.error("Error fetching loan history:",n),A([])}})()},[E,r,B,w]);const ne=l.map(t=>({value:t.id,label:t.parent_name})),le=u.map(t=>({value:t.qr_code,label:t.title})),de=async()=>{X(!0);try{const t=await Promise.all(M.map(async g=>{try{const C=await Ve(g.id,"Book Return Reminder",{borrower_name:g.borrower_name,book_title:g.book_title,borrowed_at:g.borrowed_at});if(C.success){console.log(`Reminder sent successfully for loan_id: ${g.id}`);const K=new Date().toISOString().slice(0,19).replace("T"," ");A(ie=>ie.map(O=>O.id===g.id?{...O,last_reminder_date:K}:O));const re=await pe(g.id);re!=null&&re.sent_at&&A(ie=>ie.map(O=>O.id===g.id?{...O,last_reminder_date:re.sent_at}:O))}else console.error(`Failed to send reminder for loan_id: ${g.id} - ${C.error}`);return{success:C.success,loanId:g.id,error:C.error}}catch(C){return console.error(`Error sending reminder for loan_id ${g.id}:`,C),{success:!1,loanId:g.id,error:C.message}}})),n=t.filter(g=>g.success).length,i=t.filter(g=>!g.success);if(n>0&&alert(`Sent ${n} reminders successfully!`),i.length>0){const g=i.map(C=>`Loan ID: ${C.loanId} - ${C.error}`).join(`
`);alert(`Failed to send ${i.length} reminders.

${g}`)}F([]),G(!1)}catch(t){console.error("Failed to send reminders:",t),alert("Failed to send reminders. Please check your email service configuration.")}finally{X(!1)}},ce=async t=>{const n=t.target.checked;Q(n);try{let i=null;r==="return"?i=B||null:r==="borrow"&&(i=w||null);const g=await W(i,n);A(ee(g))}catch(i){console.error("Error fetching loan history:",i),A([])}},o=async()=>{I(!0),D(!0)},H=async t=>{try{console.log("Handling scan result..."),D(!1),I(!0);const n=await Ye(t);if(n)if(r==="borrow"?(v(t),_(n)):r==="return"&&(L(t),f(n),_(n),f(n)),S(n.delivery_status),n.loan_status==="borrowed"){const i=await W(t);if(i&&i.length>0){const g=i[0];alert(`The book "${n.title}" was borrowed by ${g.borrower_name} on ${g.borrowed_at}.`)}else alert(`The book "${n.title}" is marked as borrowed, but no loan history is available.`)}else alert(`The book "${n.title}" is available.`);else alert("Book not found for the given QR code.")}catch(n){console.error("Error processing scan result:",n),alert("An error occurred while processing the QR code.")}finally{I(!1)}},fe=t=>{console.error("QR Scan Error:",t),D(!1),I(!1),alert("Failed to scan QR code. Please try again.")},we=()=>{D(!1),I(!1)},ve=async()=>{if(y&&m&&j)try{if((await We(m.qr_code,y.id,j)).message){alert("Book borrowed successfully!"),_(null),k(null),S("");const n=await be(),i=await ue(),g=await W(null,E);h(n),p(i),A(ee(g))}else alert("Error borrowing book.")}catch(t){console.error("Failed to borrow book:",t)}else alert("Please select a borrower, book, and book state.")},je=async()=>{if(!B){alert("Please select a book to return.");return}try{if((await ze(B)).success){alert("Book returned successfully!"),f(null),L(""),_(null),S("");const n=await ue(),i=await W(null,E);p(n),A(ee(i))}else alert("Failed to return the book. Please try again.")}catch(t){console.error("Error returning book:",t),alert("An error occurred while returning the book. Please try again.")}},ee=t=>t.sort((n,i)=>!n.return_date&&i.return_date?-1:n.return_date&&!i.return_date?1:new Date(i.loan_start_date)-new Date(n.loan_start_date));return e.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6",children:[b&&e.jsx("div",{className:"scanner-modal",children:e.jsx(Je,{onScanSuccess:H,onScanError:fe,onScanCancel:we})}),e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx("button",{className:"w-12 h-12 flex items-center justify-center rounded-full border border-teal-500 bg-white text-teal-500 shadow-md",onClick:Z,children:c==="en"?"HE":"EN"})}),e.jsx("button",{className:`flex-1 py-2 px-4 rounded ${r==="borrow"?"text-white":"text-gray-800"}`,style:{backgroundColor:r==="borrow"?N.coral:"transparent",borderColor:N.coral,borderWidth:"1px"},onClick:()=>s("borrow"),children:x.borrow}),e.jsx("button",{className:`flex-1 py-2 px-4 rounded ${r==="return"?"text-white":"text-gray-800"}`,style:{backgroundColor:r==="return"?N.coral:"transparent",borderColor:N.coral,borderWidth:"1px"},onClick:()=>s("return"),children:x.return})]}),r==="borrow"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx(he,{options:ne,placeholder:x.borrower,value:y?{value:y.id,label:y.parent_name}:null,onChange:t=>{if(t){const n=l.find(i=>i.id===t.value);k(n)}else k(null)},isClearable:!0,styles:{control:t=>({...t,borderColor:N.coral,borderRadius:"4px",boxShadow:"none","&:hover":{borderColor:N.teal}})},className:"w-full",classNamePrefix:"borrower-select"}),e.jsx(he,{options:le,placeholder:x.Select_Book,value:m?{value:m.qr_code,label:m.title}:null,onChange:t=>{if(t){const n=u.find(i=>i.qr_code===t.value);_(n),v(t.value),n&&S(n.delivery_status||"")}else _(null),v("")},isClearable:!0,styles:{control:t=>({...t,borderColor:N.coral,borderRadius:"4px",boxShadow:"none","&:hover":{borderColor:N.teal}})},className:"w-full",classNamePrefix:"book-select"})]}),m&&e.jsxs("select",{className:"w-full p-2 border rounded mt-2",style:{borderColor:N.coral},onChange:t=>S(t.target.value),value:j,children:[e.jsx("option",{value:"",children:x.Select_Book_State}),e.jsx("option",{value:"כמו חדש",children:"כמו חדש"}),e.jsx("option",{value:"מצויין - בלאי בלתי מורגש",children:"מצויין - בלאי בלתי מורגש"}),e.jsx("option",{value:"טוב - בלאי קל",children:"טוב - בלאי קל"})]}),m&&e.jsxs("div",{className:"bg-gray-100 p-4 rounded mt-4",children:[e.jsx("h3",{className:"font-bold text-lg",children:m.title}),e.jsxs("p",{className:"text-sm",children:[x.author,": ",m.author]}),e.jsxs("p",{className:"text-sm",children:[x.year_of_publication,": ",m.year_of_publication]}),e.jsxs("p",{className:"text-sm",children:[x.cover_type,": ",m.cover_type]}),e.jsxs("p",{className:"text-sm",children:[x.pages,": ",m.pages]}),e.jsxs("p",{className:"text-sm",children:[x.recommended_age,": ",m.recommended_age]}),e.jsxs("p",{className:"text-sm",children:[x.Select_Book_State,": ",m.book_condition]})]}),e.jsxs("button",{className:"w-full flex items-center justify-center py-2 px-4 rounded text-white",style:{backgroundColor:N.coral},onClick:o,children:[e.jsx(me,{className:"w-4 h-4 mr-2"}),x.ScanQR]}),e.jsx("button",{className:"w-full py-2 px-4 rounded text-white mt-2",style:{backgroundColor:N.coral},onClick:ve,children:x.borrow}),e.jsx("div",{className:`loan-history-container ${c==="he"?"rtl":""}`,children:P.map(t=>e.jsxs("div",{className:`loan-history-card ${t.returned_at?"":"active-loan flex items-center"} ${c==="he"?"rtl":""}`,children:[e.jsx("div",{className:"loan-history-card-title",children:t.book_title}),e.jsxs("div",{className:"loan-history-card-detail",children:[x.borrowed_by,": ",t.borrower_name]}),e.jsxs("div",{className:"loan-history-card-detail",children:[x.borrow_date,": ",t.borrowed_at]}),e.jsxs("div",{className:"loan-history-card-detail",children:[x.return_date,": ",t.returned_at||"Not Returned"]}),e.jsxs("div",{className:"loan-history-card-detail",children:[x.delivery_status,": ",t.book_state||"N/A"]})]},t.id))})]}),r==="return"&&e.jsxs("div",{className:"mt-6",children:[e.jsx("div",{className:"mt-4",children:e.jsxs("select",{value:B||"",onChange:t=>{const n=t.target.value;L(n);const i=R.find(g=>g.qr_code===n);i&&(_(i),S(i.delivery_status||""))},className:"w-full p-2 border rounded",style:{borderColor:N.coral},children:[e.jsx("option",{value:"",children:x.Select_Book}),R.map(t=>e.jsx("option",{value:t.qr_code,children:t.title},t.qr_code))]})}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("button",{className:"w-full flex items-center justify-center py-2 px-4 rounded text-white",style:{backgroundColor:N.coral},onClick:o,children:[e.jsx(me,{className:"w-4 h-4 mr-2"}),x.ScanQR]}),e.jsx("button",{className:"w-full py-2 px-4 rounded text-white mt-2",style:{backgroundColor:N.coral},onClick:je,disabled:!U,children:x.return}),e.jsxs("button",{className:"w-full flex items-center justify-center py-2 px-4 rounded text-white mt-2",style:{backgroundColor:N.teal},onClick:()=>G(!Y),children:[e.jsx(Se,{className:"w-4 h-4 mr-2"}),x.SendReminders]})]}),e.jsx("div",{className:"flex items-center my-4",children:e.jsxs("label",{className:"ml-4 flex items-center",children:[e.jsx("input",{id:"checkbox_showall",type:"checkbox",checked:E,onChange:ce,className:"mr-2"}),x.ShowAllLoans]})}),Y&&P.filter(t=>!t.returned_at).length>0&&e.jsxs("div",{className:"reminder-section bg-gray-100 p-4 rounded-lg mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Send Reminders"}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:M.length===P.filter(t=>!t.returned_at).length,onChange:t=>{if(t.target.checked){const n=P.filter(i=>!i.returned_at);F(n)}else F([])},className:"mr-2"}),"Select All"]})]}),e.jsx("button",{className:"w-full py-2 px-4 rounded text-white",style:{backgroundColor:N.coral},onClick:de,disabled:M.length===0||J,children:J?"Sending...":`Send ${M.length} Reminders`})]}),P.length>0&&e.jsx("div",{className:`loan-history-container ${c==="he"?"rtl":""}`,children:P.map(t=>e.jsxs("div",{className:`loan-history-card ${t.returned_at?"":"active-loan"} ${c==="he"?"rtl":""}`,onClick:()=>{if(!t.returned_at){console.log("Current loan:",t),console.log("All borrowed books:",R);const n=R.find(i=>(console.log("Comparing book:",{"loan book_id":t.book_id,"book id":i.id,match:i.id===t.book_id}),i.id===t.book_id));console.log("Matching book result:",n),n?(f(n),L(n.qr_code),_(n),S(n.delivery_status||"")):alert("Book not found in borrowed books."),window.scrollTo({top:0,behavior:"smooth"})}},style:{cursor:"pointer"},children:[Y&&!t.returned_at&&e.jsx("input",{type:"checkbox",checked:M.some(n=>n.id===t.id),onChange:n=>{n.target.checked?F([...M,t]):F(M.filter(i=>i.id!==t.id)),n.stopPropagation()},className:"mr-2 ml-2 flex-shrink-0"}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("div",{className:"loan-history-card-title",children:t.book_title}),e.jsxs("div",{className:"loan-history-card-detail",children:[x.borrowed_by,": ",t.borrower_name]}),e.jsxs("div",{className:"loan-history-card-detail",children:[x.borrow_date,": ",t.borrowed_at]}),e.jsxs("div",{className:"loan-history-card-detail",children:[x.return_date,": ",t.returned_at||"Not Returned"]}),e.jsxs("div",{className:"loan-history-card-detail",children:[x.delivery_status,": ",t.book_state||"N/A"]}),e.jsxs("div",{className:"loan-history-card-detail",children:[x.last_reminder,": ",t.last_reminder_date||"No Reminders Sent"]})]})]},t.id))})]})]})}const ye=navigator.language||"en-US",Ze=async(r="desc",s="title",l=!0)=>{try{const d=new URLSearchParams({order_by:r,sort_column:s,include_history:l.toString()});return(await $.get(`${q}/api/generate_books_report?${d.toString()}`,{headers:{"Accept-Language":ye},responseType:"blob"})).data}catch(d){throw console.error("Error generating books report:",d),d}},er=async(r="desc",s="title",l=!1)=>{try{const d=new URLSearchParams({order_by:r,sort_column:s,include_borrowed:l.toString()});return(await $.get(`${q}/api/generate_inventory_report?${d.toString()}`,{headers:{"Accept-Language":ye},responseType:"blob"})).data}catch(d){throw console.error("Error generating inventory report:",d),d}},rr=()=>{const{language:r,toggleLanguage:s}=z(),l=V(r),[d,u]=a.useState(!1),[h,y]=a.useState(!0),[k,w]=a.useState("desc"),[v,m]=a.useState(""),[_,j]=a.useState(""),S={inventory:[{value:"title",label:l.book_title},{value:"author",label:l.author},{value:"id",label:l.id},{value:"loan_status",label:l.loan_status}],loans:[{value:"title",label:l.book_title},{value:"author",label:l.author},{value:"id",label:l.id}]},R=async()=>{try{let p;_==="inventory"?p=await er(k,v,h):_==="loans"&&(p=await Ze(k,v,d));const B=window.URL.createObjectURL(new Blob([p])),L=document.createElement("a");L.href=B,L.setAttribute("download",`${_}_report.xlsx`),document.body.appendChild(L),L.click()}catch(p){console.error("Error generating report:",p),alert(l.error_generating_report)}};return e.jsxs("div",{className:`report-container ${r==="he"?"rtl":""}`,children:[e.jsx("button",{className:"w-12 h-12 flex items-center justify-center rounded-full border border-teal-500 bg-white text-teal-500 shadow-md absolute top-4 left-4",onClick:s,children:r==="en"?"HE":"EN"}),e.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-md",children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx(Ce,{className:"w-6 h-6 mr-2 text-teal-500"}),e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:l.reports})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("h3",{className:"text-md font-semibold text-teal-600 mb-3 flex items-center",children:[e.jsx(Be,{className:"w-4 h-4 mr-2"}),l.select_report_type]}),e.jsx("div",{className:"space-y-2",children:["inventory","loans"].map(p=>e.jsx("button",{onClick:()=>j(p),className:`w-full p-2 rounded-lg text-left text-sm ${_===p?"bg-teal-500 text-white shadow-md":"bg-white text-gray-700 hover:bg-gray-100 border border-gray-200"}`,children:p==="inventory"?l.inventory_report:l.loans_report},p))})]}),e.jsx("div",{className:`bg-white p-4 rounded-lg border border-gray-100 ${_?"":"opacity-50 pointer-events-none"}`,children:_&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-md font-semibold text-teal-600 mb-3 flex items-center",children:[e.jsx(Le,{className:"w-4 h-4 mr-2"}),l.report_options]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[_==="loans"&&e.jsxs("div",{className:"flex items-center col-span-2",children:[e.jsx("input",{type:"checkbox",checked:d,onChange:p=>u(p.target.checked),className:"mr-2"}),e.jsx("label",{children:l.include_history})]}),_==="inventory"&&e.jsxs("div",{className:"flex items-center col-span-2",children:[e.jsx("input",{type:"checkbox",checked:h,onChange:p=>y(p.target.checked),className:"mr-2"}),e.jsx("label",{children:l.include_borrowed})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{children:l.sort_by}),e.jsxs("select",{value:v,onChange:p=>m(p.target.value),className:"border rounded-md",children:[e.jsx("option",{value:"",children:l.select_field}),S[_].map(p=>e.jsx("option",{value:p.value,children:p.label},p.value))]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{children:l.order}),e.jsxs("select",{value:k,onChange:p=>w(p.target.value),className:"border rounded-md",children:[e.jsx("option",{value:"asc",children:l.ascending}),e.jsx("option",{value:"desc",children:l.descending})]})]})]}),e.jsxs("button",{onClick:R,disabled:!v,className:"w-full p-2 bg-teal-500 text-white rounded-md",children:[e.jsx(Ae,{className:"w-4 h-4 mr-2"}),l.generate_report_button]})]})})]})]})]})};function tr(){const[r,s]=a.useState(!1),l=()=>{s(!0)};return e.jsx(He,{children:r?e.jsx(or,{}):e.jsx(De,{onLogin:l})})}function or(){const{language:r}=z(),s=V(r);return e.jsxs("div",{className:"app-container min-h-screen bg-blend-screen max-w-md mx-auto",children:[e.jsx("header",{className:"bg-white",children:e.jsxs("div",{className:"max-w-md mx-auto flex items-start justify-items-center p-4",children:[e.jsx("img",{src:ge,alt:"ICM Library Logo",className:"max-h-16 sm:max-h-20"}),e.jsx("div",{className:"logo",children:e.jsx("p",{className:"text-sm text-gray-600",children:s.app_title})})]})}),e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs(qe,{defaultValue:"inventory",className:"w-full",children:[e.jsxs(Pe,{className:"tabs-list w-full bg-white shadow-md rounded-lg grid grid-cols-4",children:[e.jsxs(te,{value:"inventory",className:"tab-item flex items-center justify-center data-[state=active]:bg-teal-500 data-[state=active]:text-white text-gray-800 py-2 rounded-t-lg hover:bg-gray-100",children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),s.books]}),e.jsxs(te,{value:"members",className:"tab-item flex items-center justify-center data-[state=active]:bg-[#FDB813] data-[state=active]:text-white text-gray-800 py-2 rounded-t-lg hover:bg-gray-100",children:[e.jsx(Ee,{className:"w-4 h-4 mr-2"}),s.members]}),e.jsxs(te,{value:"loans",className:"tab-item flex items-center justify-center data-[state=active]:bg-red-500 data-[state=active]:text-white text-gray-800 py-2 rounded-t-lg hover:bg-gray-100",children:[e.jsx(me,{className:"w-4 h-4 mr-2"}),s.loans]}),e.jsxs(te,{value:"reports",className:"tab-item flex items-center justify-center data-[state=active]:bg-purple-500 data-[state=active]:text-white text-gray-800 py-2 rounded-t-lg hover:bg-gray-100",children:[e.jsx($e,{className:"w-4 h-4 mr-2"}),s.reports]})]}),e.jsx(oe,{value:"inventory",children:e.jsx(Ue,{})}),e.jsx(oe,{value:"members",children:e.jsx(Ke,{})}),e.jsx(oe,{value:"loans",children:e.jsx(Xe,{})}),e.jsx(oe,{value:"reports",children:e.jsx(rr,{})})]})})]})}ke(document.getElementById("root")).render(e.jsx(a.StrictMode,{children:e.jsx(tr,{})}));
