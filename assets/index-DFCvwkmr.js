function af(e,n){for(var i=0;i<n.length;i++){const a=n[i];if(typeof a!="string"&&!Array.isArray(a)){for(const u in a)if(u!=="default"&&!(u in e)){const f=Object.getOwnPropertyDescriptor(a,u);f&&Object.defineProperty(e,u,f.get?f:{enumerable:!0,get:()=>a[u]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const g of f.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&a(g)}).observe(document,{childList:!0,subtree:!0});function i(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(u){if(u.ep)return;u.ep=!0;const f=i(u);fetch(u.href,f)}})();var co=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var cf={exports:{}},Ra={},uf={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var es=Symbol.for("react.element"),q2=Symbol.for("react.portal"),Q2=Symbol.for("react.fragment"),$2=Symbol.for("react.strict_mode"),J2=Symbol.for("react.profiler"),eg=Symbol.for("react.provider"),tg=Symbol.for("react.context"),ng=Symbol.for("react.forward_ref"),rg=Symbol.for("react.suspense"),ig=Symbol.for("react.memo"),og=Symbol.for("react.lazy"),_1=Symbol.iterator;function sg(e){return e===null||typeof e!="object"?null:(e=_1&&e[_1]||e["@@iterator"],typeof e=="function"?e:null)}var ff={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},df=Object.assign,hf={};function Zi(e,n,i){this.props=e,this.context=n,this.refs=hf,this.updater=i||ff}Zi.prototype.isReactComponent={};Zi.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};Zi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function gf(){}gf.prototype=Zi.prototype;function nu(e,n,i){this.props=e,this.context=n,this.refs=hf,this.updater=i||ff}var ru=nu.prototype=new gf;ru.constructor=nu;df(ru,Zi.prototype);ru.isPureReactComponent=!0;var I1=Array.isArray,pf=Object.prototype.hasOwnProperty,iu={current:null},xf={key:!0,ref:!0,__self:!0,__source:!0};function mf(e,n,i){var a,u={},f=null,g=null;if(n!=null)for(a in n.ref!==void 0&&(g=n.ref),n.key!==void 0&&(f=""+n.key),n)pf.call(n,a)&&!xf.hasOwnProperty(a)&&(u[a]=n[a]);var m=arguments.length-2;if(m===1)u.children=i;else if(1<m){for(var y=Array(m),x=0;x<m;x++)y[x]=arguments[x+2];u.children=y}if(e&&e.defaultProps)for(a in m=e.defaultProps,m)u[a]===void 0&&(u[a]=m[a]);return{$$typeof:es,type:e,key:f,ref:g,props:u,_owner:iu.current}}function ag(e,n){return{$$typeof:es,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function ou(e){return typeof e=="object"&&e!==null&&e.$$typeof===es}function lg(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return n[i]})}var N1=/\/+/g;function yl(e,n){return typeof e=="object"&&e!==null&&e.key!=null?lg(""+e.key):n.toString(36)}function Us(e,n,i,a,u){var f=typeof e;(f==="undefined"||f==="boolean")&&(e=null);var g=!1;if(e===null)g=!0;else switch(f){case"string":case"number":g=!0;break;case"object":switch(e.$$typeof){case es:case q2:g=!0}}if(g)return g=e,u=u(g),e=a===""?"."+yl(g,0):a,I1(u)?(i="",e!=null&&(i=e.replace(N1,"$&/")+"/"),Us(u,n,i,"",function(x){return x})):u!=null&&(ou(u)&&(u=ag(u,i+(!u.key||g&&g.key===u.key?"":(""+u.key).replace(N1,"$&/")+"/")+e)),n.push(u)),1;if(g=0,a=a===""?".":a+":",I1(e))for(var m=0;m<e.length;m++){f=e[m];var y=a+yl(f,m);g+=Us(f,n,i,y,u)}else if(y=sg(e),typeof y=="function")for(e=y.call(e),m=0;!(f=e.next()).done;)f=f.value,y=a+yl(f,m++),g+=Us(f,n,i,y,u);else if(f==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return g}function Cs(e,n,i){if(e==null)return e;var a=[],u=0;return Us(e,a,"","",function(f){return n.call(i,f,u++)}),a}function cg(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var Xt={current:null},js={transition:null},ug={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:js,ReactCurrentOwner:iu};function wf(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:Cs,forEach:function(e,n,i){Cs(e,function(){n.apply(this,arguments)},i)},count:function(e){var n=0;return Cs(e,function(){n++}),n},toArray:function(e){return Cs(e,function(n){return n})||[]},only:function(e){if(!ou(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Re.Component=Zi;Re.Fragment=Q2;Re.Profiler=J2;Re.PureComponent=nu;Re.StrictMode=$2;Re.Suspense=rg;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ug;Re.act=wf;Re.cloneElement=function(e,n,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=df({},e.props),u=e.key,f=e.ref,g=e._owner;if(n!=null){if(n.ref!==void 0&&(f=n.ref,g=iu.current),n.key!==void 0&&(u=""+n.key),e.type&&e.type.defaultProps)var m=e.type.defaultProps;for(y in n)pf.call(n,y)&&!xf.hasOwnProperty(y)&&(a[y]=n[y]===void 0&&m!==void 0?m[y]:n[y])}var y=arguments.length-2;if(y===1)a.children=i;else if(1<y){m=Array(y);for(var x=0;x<y;x++)m[x]=arguments[x+2];a.children=m}return{$$typeof:es,type:e.type,key:u,ref:f,props:a,_owner:g}};Re.createContext=function(e){return e={$$typeof:tg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:eg,_context:e},e.Consumer=e};Re.createElement=mf;Re.createFactory=function(e){var n=mf.bind(null,e);return n.type=e,n};Re.createRef=function(){return{current:null}};Re.forwardRef=function(e){return{$$typeof:ng,render:e}};Re.isValidElement=ou;Re.lazy=function(e){return{$$typeof:og,_payload:{_status:-1,_result:e},_init:cg}};Re.memo=function(e,n){return{$$typeof:ig,type:e,compare:n===void 0?null:n}};Re.startTransition=function(e){var n=js.transition;js.transition={};try{e()}finally{js.transition=n}};Re.unstable_act=wf;Re.useCallback=function(e,n){return Xt.current.useCallback(e,n)};Re.useContext=function(e){return Xt.current.useContext(e)};Re.useDebugValue=function(){};Re.useDeferredValue=function(e){return Xt.current.useDeferredValue(e)};Re.useEffect=function(e,n){return Xt.current.useEffect(e,n)};Re.useId=function(){return Xt.current.useId()};Re.useImperativeHandle=function(e,n,i){return Xt.current.useImperativeHandle(e,n,i)};Re.useInsertionEffect=function(e,n){return Xt.current.useInsertionEffect(e,n)};Re.useLayoutEffect=function(e,n){return Xt.current.useLayoutEffect(e,n)};Re.useMemo=function(e,n){return Xt.current.useMemo(e,n)};Re.useReducer=function(e,n,i){return Xt.current.useReducer(e,n,i)};Re.useRef=function(e){return Xt.current.useRef(e)};Re.useState=function(e){return Xt.current.useState(e)};Re.useSyncExternalStore=function(e,n,i){return Xt.current.useSyncExternalStore(e,n,i)};Re.useTransition=function(){return Xt.current.useTransition()};Re.version="18.3.1";uf.exports=Re;var z=uf.exports;const Sr=lf(z),fg=af({__proto__:null,default:Sr},[z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dg=z,hg=Symbol.for("react.element"),gg=Symbol.for("react.fragment"),pg=Object.prototype.hasOwnProperty,xg=dg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mg={key:!0,ref:!0,__self:!0,__source:!0};function yf(e,n,i){var a,u={},f=null,g=null;i!==void 0&&(f=""+i),n.key!==void 0&&(f=""+n.key),n.ref!==void 0&&(g=n.ref);for(a in n)pg.call(n,a)&&!mg.hasOwnProperty(a)&&(u[a]=n[a]);if(e&&e.defaultProps)for(a in n=e.defaultProps,n)u[a]===void 0&&(u[a]=n[a]);return{$$typeof:hg,type:e,key:f,ref:g,props:u,_owner:xg.current}}Ra.Fragment=gg;Ra.jsx=yf;Ra.jsxs=yf;cf.exports=Ra;var T=cf.exports,Ef={exports:{}},xn={},Cf={exports:{}},Af={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(ie,me){var ae=ie.length;ie.push(me);e:for(;0<ae;){var We=ae-1>>>1,be=ie[We];if(0<u(be,me))ie[We]=me,ie[ae]=be,ae=We;else break e}}function i(ie){return ie.length===0?null:ie[0]}function a(ie){if(ie.length===0)return null;var me=ie[0],ae=ie.pop();if(ae!==me){ie[0]=ae;e:for(var We=0,be=ie.length,Tt=be>>>1;We<Tt;){var $=2*(We+1)-1,Zt=ie[$],he=$+1,Un=ie[he];if(0>u(Zt,ae))he<be&&0>u(Un,Zt)?(ie[We]=Un,ie[he]=ae,We=he):(ie[We]=Zt,ie[$]=ae,We=$);else if(he<be&&0>u(Un,ae))ie[We]=Un,ie[he]=ae,We=he;else break e}}return me}function u(ie,me){var ae=ie.sortIndex-me.sortIndex;return ae!==0?ae:ie.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;e.unstable_now=function(){return f.now()}}else{var g=Date,m=g.now();e.unstable_now=function(){return g.now()-m}}var y=[],x=[],v=1,S=null,R=3,L=!1,B=!1,k=!1,X=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(ie){for(var me=i(x);me!==null;){if(me.callback===null)a(x);else if(me.startTime<=ie)a(x),me.sortIndex=me.expirationTime,n(y,me);else break;me=i(x)}}function j(ie){if(k=!1,b(ie),!B)if(i(y)!==null)B=!0,De(K);else{var me=i(x);me!==null&&re(j,me.startTime-ie)}}function K(ie,me){B=!1,k&&(k=!1,O(q),q=-1),L=!0;var ae=R;try{for(b(me),S=i(y);S!==null&&(!(S.expirationTime>me)||ie&&!Ie());){var We=S.callback;if(typeof We=="function"){S.callback=null,R=S.priorityLevel;var be=We(S.expirationTime<=me);me=e.unstable_now(),typeof be=="function"?S.callback=be:S===i(y)&&a(y),b(me)}else a(y);S=i(y)}if(S!==null)var Tt=!0;else{var $=i(x);$!==null&&re(j,$.startTime-me),Tt=!1}return Tt}finally{S=null,R=ae,L=!1}}var Z=!1,P=null,q=-1,Y=5,Ee=-1;function Ie(){return!(e.unstable_now()-Ee<Y)}function pe(){if(P!==null){var ie=e.unstable_now();Ee=ie;var me=!0;try{me=P(!0,ie)}finally{me?Ae():(Z=!1,P=null)}}else Z=!1}var Ae;if(typeof I=="function")Ae=function(){I(pe)};else if(typeof MessageChannel<"u"){var Ue=new MessageChannel,W=Ue.port2;Ue.port1.onmessage=pe,Ae=function(){W.postMessage(null)}}else Ae=function(){X(pe,0)};function De(ie){P=ie,Z||(Z=!0,Ae())}function re(ie,me){q=X(function(){ie(e.unstable_now())},me)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ie){ie.callback=null},e.unstable_continueExecution=function(){B||L||(B=!0,De(K))},e.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<ie?Math.floor(1e3/ie):5},e.unstable_getCurrentPriorityLevel=function(){return R},e.unstable_getFirstCallbackNode=function(){return i(y)},e.unstable_next=function(ie){switch(R){case 1:case 2:case 3:var me=3;break;default:me=R}var ae=R;R=me;try{return ie()}finally{R=ae}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ie,me){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ae=R;R=ie;try{return me()}finally{R=ae}},e.unstable_scheduleCallback=function(ie,me,ae){var We=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?We+ae:We):ae=We,ie){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=ae+be,ie={id:v++,callback:me,priorityLevel:ie,startTime:ae,expirationTime:be,sortIndex:-1},ae>We?(ie.sortIndex=ae,n(x,ie),i(y)===null&&ie===i(x)&&(k?(O(q),q=-1):k=!0,re(j,ae-We))):(ie.sortIndex=be,n(y,ie),B||L||(B=!0,De(K))),ie},e.unstable_shouldYield=Ie,e.unstable_wrapCallback=function(ie){var me=R;return function(){var ae=R;R=me;try{return ie.apply(this,arguments)}finally{R=ae}}}})(Af);Cf.exports=Af;var wg=Cf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yg=z,pn=wg;function ee(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sf=new Set,Po={};function ui(e,n){Vi(e,n),Vi(e+"Capture",n)}function Vi(e,n){for(Po[e]=n,e=0;e<n.length;e++)Sf.add(n[e])}var ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ql=Object.prototype.hasOwnProperty,Eg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T1={},b1={};function Cg(e){return Ql.call(b1,e)?!0:Ql.call(T1,e)?!1:Eg.test(e)?b1[e]=!0:(T1[e]=!0,!1)}function Ag(e,n,i,a){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Sg(e,n,i,a){if(n===null||typeof n>"u"||Ag(e,n,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Yt(e,n,i,a,u,f,g){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=a,this.attributeNamespace=u,this.mustUseProperty=i,this.propertyName=e,this.type=n,this.sanitizeURL=f,this.removeEmptyString=g}var Bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Bt[e]=new Yt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];Bt[n]=new Yt(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Bt[e]=new Yt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Bt[e]=new Yt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Bt[e]=new Yt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Bt[e]=new Yt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Bt[e]=new Yt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Bt[e]=new Yt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Bt[e]=new Yt(e,5,!1,e.toLowerCase(),null,!1,!1)});var su=/[\-:]([a-z])/g;function au(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(su,au);Bt[n]=new Yt(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(su,au);Bt[n]=new Yt(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(su,au);Bt[n]=new Yt(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Bt[e]=new Yt(e,1,!1,e.toLowerCase(),null,!1,!1)});Bt.xlinkHref=new Yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Bt[e]=new Yt(e,1,!1,e.toLowerCase(),null,!0,!0)});function lu(e,n,i,a){var u=Bt.hasOwnProperty(n)?Bt[n]:null;(u!==null?u.type!==0:a||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(Sg(n,i,u,a)&&(i=null),a||u===null?Cg(n)&&(i===null?e.removeAttribute(n):e.setAttribute(n,""+i)):u.mustUseProperty?e[u.propertyName]=i===null?u.type===3?!1:"":i:(n=u.attributeName,a=u.attributeNamespace,i===null?e.removeAttribute(n):(u=u.type,i=u===3||u===4&&i===!0?"":""+i,a?e.setAttributeNS(a,n,i):e.setAttribute(n,i))))}var fr=yg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,As=Symbol.for("react.element"),Ai=Symbol.for("react.portal"),Si=Symbol.for("react.fragment"),cu=Symbol.for("react.strict_mode"),$l=Symbol.for("react.profiler"),vf=Symbol.for("react.provider"),_f=Symbol.for("react.context"),uu=Symbol.for("react.forward_ref"),Jl=Symbol.for("react.suspense"),ec=Symbol.for("react.suspense_list"),fu=Symbol.for("react.memo"),vr=Symbol.for("react.lazy"),If=Symbol.for("react.offscreen"),R1=Symbol.iterator;function uo(e){return e===null||typeof e!="object"?null:(e=R1&&e[R1]||e["@@iterator"],typeof e=="function"?e:null)}var st=Object.assign,El;function Co(e){if(El===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);El=n&&n[1]||""}return`
`+El+e}var Cl=!1;function Al(e,n){if(!e||Cl)return"";Cl=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(x){var a=x}Reflect.construct(e,[],n)}else{try{n.call()}catch(x){a=x}e.call(n.prototype)}else{try{throw Error()}catch(x){a=x}e()}}catch(x){if(x&&a&&typeof x.stack=="string"){for(var u=x.stack.split(`
`),f=a.stack.split(`
`),g=u.length-1,m=f.length-1;1<=g&&0<=m&&u[g]!==f[m];)m--;for(;1<=g&&0<=m;g--,m--)if(u[g]!==f[m]){if(g!==1||m!==1)do if(g--,m--,0>m||u[g]!==f[m]){var y=`
`+u[g].replace(" at new "," at ");return e.displayName&&y.includes("<anonymous>")&&(y=y.replace("<anonymous>",e.displayName)),y}while(1<=g&&0<=m);break}}}finally{Cl=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?Co(e):""}function vg(e){switch(e.tag){case 5:return Co(e.type);case 16:return Co("Lazy");case 13:return Co("Suspense");case 19:return Co("SuspenseList");case 0:case 2:case 15:return e=Al(e.type,!1),e;case 11:return e=Al(e.type.render,!1),e;case 1:return e=Al(e.type,!0),e;default:return""}}function tc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Si:return"Fragment";case Ai:return"Portal";case $l:return"Profiler";case cu:return"StrictMode";case Jl:return"Suspense";case ec:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _f:return(e.displayName||"Context")+".Consumer";case vf:return(e._context.displayName||"Context")+".Provider";case uu:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fu:return n=e.displayName||null,n!==null?n:tc(e.type)||"Memo";case vr:n=e._payload,e=e._init;try{return tc(e(n))}catch{}}return null}function _g(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tc(n);case 8:return n===cu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Fr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Nf(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ig(e){var n=Nf(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),a=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,f=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ss(e){e._valueTracker||(e._valueTracker=Ig(e))}function Tf(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),a="";return e&&(a=Nf(e)?e.checked?"true":"false":e.value),e=a,e!==i?(n.setValue(e),!0):!1}function Js(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function nc(e,n){var i=n.checked;return st({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function O1(e,n){var i=n.defaultValue==null?"":n.defaultValue,a=n.checked!=null?n.checked:n.defaultChecked;i=Fr(n.value!=null?n.value:i),e._wrapperState={initialChecked:a,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function bf(e,n){n=n.checked,n!=null&&lu(e,"checked",n,!1)}function rc(e,n){bf(e,n);var i=Fr(n.value),a=n.type;if(i!=null)a==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?ic(e,n.type,i):n.hasOwnProperty("defaultValue")&&ic(e,n.type,Fr(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function D1(e,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var a=n.type;if(!(a!=="submit"&&a!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,i||n===e.value||(e.value=n),e.defaultValue=n}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function ic(e,n,i){(n!=="number"||Js(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Ao=Array.isArray;function Bi(e,n,i,a){if(e=e.options,n){n={};for(var u=0;u<i.length;u++)n["$"+i[u]]=!0;for(i=0;i<e.length;i++)u=n.hasOwnProperty("$"+e[i].value),e[i].selected!==u&&(e[i].selected=u),u&&a&&(e[i].defaultSelected=!0)}else{for(i=""+Fr(i),n=null,u=0;u<e.length;u++){if(e[u].value===i){e[u].selected=!0,a&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function oc(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(ee(91));return st({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function k1(e,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(ee(92));if(Ao(i)){if(1<i.length)throw Error(ee(93));i=i[0]}n=i}n==null&&(n=""),i=n}e._wrapperState={initialValue:Fr(i)}}function Rf(e,n){var i=Fr(n.value),a=Fr(n.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),n.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),a!=null&&(e.defaultValue=""+a)}function M1(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Of(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sc(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Of(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vs,Df=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,a,u){MSApp.execUnsafeLocalFunction(function(){return e(n,i,a,u)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(vs=vs||document.createElement("div"),vs.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=vs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Lo(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var No={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ng=["Webkit","ms","Moz","O"];Object.keys(No).forEach(function(e){Ng.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),No[n]=No[e]})});function kf(e,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||No.hasOwnProperty(e)&&No[e]?(""+n).trim():n+"px"}function Mf(e,n){e=e.style;for(var i in n)if(n.hasOwnProperty(i)){var a=i.indexOf("--")===0,u=kf(i,n[i],a);i==="float"&&(i="cssFloat"),a?e.setProperty(i,u):e[i]=u}}var Tg=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ac(e,n){if(n){if(Tg[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(ee(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(ee(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(ee(61))}if(n.style!=null&&typeof n.style!="object")throw Error(ee(62))}}function lc(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cc=null;function du(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var uc=null,Pi=null,Li=null;function B1(e){if(e=rs(e)){if(typeof uc!="function")throw Error(ee(280));var n=e.stateNode;n&&(n=Ba(n),uc(e.stateNode,e.type,n))}}function Bf(e){Pi?Li?Li.push(e):Li=[e]:Pi=e}function Pf(){if(Pi){var e=Pi,n=Li;if(Li=Pi=null,B1(e),n)for(e=0;e<n.length;e++)B1(n[e])}}function Lf(e,n){return e(n)}function Ff(){}var Sl=!1;function Uf(e,n,i){if(Sl)return e(n,i);Sl=!0;try{return Lf(e,n,i)}finally{Sl=!1,(Pi!==null||Li!==null)&&(Ff(),Pf())}}function Fo(e,n){var i=e.stateNode;if(i===null)return null;var a=Ba(i);if(a===null)return null;i=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(ee(231,n,typeof i));return i}var fc=!1;if(ar)try{var fo={};Object.defineProperty(fo,"passive",{get:function(){fc=!0}}),window.addEventListener("test",fo,fo),window.removeEventListener("test",fo,fo)}catch{fc=!1}function bg(e,n,i,a,u,f,g,m,y){var x=Array.prototype.slice.call(arguments,3);try{n.apply(i,x)}catch(v){this.onError(v)}}var To=!1,ea=null,ta=!1,dc=null,Rg={onError:function(e){To=!0,ea=e}};function Og(e,n,i,a,u,f,g,m,y){To=!1,ea=null,bg.apply(Rg,arguments)}function Dg(e,n,i,a,u,f,g,m,y){if(Og.apply(this,arguments),To){if(To){var x=ea;To=!1,ea=null}else throw Error(ee(198));ta||(ta=!0,dc=x)}}function fi(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function jf(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function P1(e){if(fi(e)!==e)throw Error(ee(188))}function kg(e){var n=e.alternate;if(!n){if(n=fi(e),n===null)throw Error(ee(188));return n!==e?null:e}for(var i=e,a=n;;){var u=i.return;if(u===null)break;var f=u.alternate;if(f===null){if(a=u.return,a!==null){i=a;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===i)return P1(u),e;if(f===a)return P1(u),n;f=f.sibling}throw Error(ee(188))}if(i.return!==a.return)i=u,a=f;else{for(var g=!1,m=u.child;m;){if(m===i){g=!0,i=u,a=f;break}if(m===a){g=!0,a=u,i=f;break}m=m.sibling}if(!g){for(m=f.child;m;){if(m===i){g=!0,i=f,a=u;break}if(m===a){g=!0,a=f,i=u;break}m=m.sibling}if(!g)throw Error(ee(189))}}if(i.alternate!==a)throw Error(ee(190))}if(i.tag!==3)throw Error(ee(188));return i.stateNode.current===i?e:n}function Vf(e){return e=kg(e),e!==null?Hf(e):null}function Hf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Hf(e);if(n!==null)return n;e=e.sibling}return null}var zf=pn.unstable_scheduleCallback,L1=pn.unstable_cancelCallback,Mg=pn.unstable_shouldYield,Bg=pn.unstable_requestPaint,pt=pn.unstable_now,Pg=pn.unstable_getCurrentPriorityLevel,hu=pn.unstable_ImmediatePriority,Wf=pn.unstable_UserBlockingPriority,na=pn.unstable_NormalPriority,Lg=pn.unstable_LowPriority,Gf=pn.unstable_IdlePriority,Oa=null,Qn=null;function Fg(e){if(Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(Oa,e,void 0,(e.current.flags&128)===128)}catch{}}var Bn=Math.clz32?Math.clz32:Vg,Ug=Math.log,jg=Math.LN2;function Vg(e){return e>>>=0,e===0?32:31-(Ug(e)/jg|0)|0}var _s=64,Is=4194304;function So(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ra(e,n){var i=e.pendingLanes;if(i===0)return 0;var a=0,u=e.suspendedLanes,f=e.pingedLanes,g=i&268435455;if(g!==0){var m=g&~u;m!==0?a=So(m):(f&=g,f!==0&&(a=So(f)))}else g=i&~u,g!==0?a=So(g):f!==0&&(a=So(f));if(a===0)return 0;if(n!==0&&n!==a&&!(n&u)&&(u=a&-a,f=n&-n,u>=f||u===16&&(f&4194240)!==0))return n;if(a&4&&(a|=i&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=a;0<n;)i=31-Bn(n),u=1<<i,a|=e[i],n&=~u;return a}function Hg(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zg(e,n){for(var i=e.suspendedLanes,a=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes;0<f;){var g=31-Bn(f),m=1<<g,y=u[g];y===-1?(!(m&i)||m&a)&&(u[g]=Hg(m,n)):y<=n&&(e.expiredLanes|=m),f&=~m}}function hc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xf(){var e=_s;return _s<<=1,!(_s&4194240)&&(_s=64),e}function vl(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function ts(e,n,i){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Bn(n),e[n]=i}function Wg(e,n){var i=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<i;){var u=31-Bn(i),f=1<<u;n[u]=0,a[u]=-1,e[u]=-1,i&=~f}}function gu(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var a=31-Bn(i),u=1<<a;u&n|e[a]&n&&(e[a]|=n),i&=~u}}var ze=0;function Yf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Zf,pu,Kf,qf,Qf,gc=!1,Ns=[],Rr=null,Or=null,Dr=null,Uo=new Map,jo=new Map,Ir=[],Gg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function F1(e,n){switch(e){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":Uo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":jo.delete(n.pointerId)}}function ho(e,n,i,a,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:i,eventSystemFlags:a,nativeEvent:f,targetContainers:[u]},n!==null&&(n=rs(n),n!==null&&pu(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function Xg(e,n,i,a,u){switch(n){case"focusin":return Rr=ho(Rr,e,n,i,a,u),!0;case"dragenter":return Or=ho(Or,e,n,i,a,u),!0;case"mouseover":return Dr=ho(Dr,e,n,i,a,u),!0;case"pointerover":var f=u.pointerId;return Uo.set(f,ho(Uo.get(f)||null,e,n,i,a,u)),!0;case"gotpointercapture":return f=u.pointerId,jo.set(f,ho(jo.get(f)||null,e,n,i,a,u)),!0}return!1}function $f(e){var n=Qr(e.target);if(n!==null){var i=fi(n);if(i!==null){if(n=i.tag,n===13){if(n=jf(i),n!==null){e.blockedOn=n,Qf(e.priority,function(){Kf(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vs(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=pc(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);cc=a,i.target.dispatchEvent(a),cc=null}else return n=rs(i),n!==null&&pu(n),e.blockedOn=i,!1;n.shift()}return!0}function U1(e,n,i){Vs(e)&&i.delete(n)}function Yg(){gc=!1,Rr!==null&&Vs(Rr)&&(Rr=null),Or!==null&&Vs(Or)&&(Or=null),Dr!==null&&Vs(Dr)&&(Dr=null),Uo.forEach(U1),jo.forEach(U1)}function go(e,n){e.blockedOn===n&&(e.blockedOn=null,gc||(gc=!0,pn.unstable_scheduleCallback(pn.unstable_NormalPriority,Yg)))}function Vo(e){function n(u){return go(u,e)}if(0<Ns.length){go(Ns[0],e);for(var i=1;i<Ns.length;i++){var a=Ns[i];a.blockedOn===e&&(a.blockedOn=null)}}for(Rr!==null&&go(Rr,e),Or!==null&&go(Or,e),Dr!==null&&go(Dr,e),Uo.forEach(n),jo.forEach(n),i=0;i<Ir.length;i++)a=Ir[i],a.blockedOn===e&&(a.blockedOn=null);for(;0<Ir.length&&(i=Ir[0],i.blockedOn===null);)$f(i),i.blockedOn===null&&Ir.shift()}var Fi=fr.ReactCurrentBatchConfig,ia=!0;function Zg(e,n,i,a){var u=ze,f=Fi.transition;Fi.transition=null;try{ze=1,xu(e,n,i,a)}finally{ze=u,Fi.transition=f}}function Kg(e,n,i,a){var u=ze,f=Fi.transition;Fi.transition=null;try{ze=4,xu(e,n,i,a)}finally{ze=u,Fi.transition=f}}function xu(e,n,i,a){if(ia){var u=pc(e,n,i,a);if(u===null)Ml(e,n,a,oa,i),F1(e,a);else if(Xg(u,e,n,i,a))a.stopPropagation();else if(F1(e,a),n&4&&-1<Gg.indexOf(e)){for(;u!==null;){var f=rs(u);if(f!==null&&Zf(f),f=pc(e,n,i,a),f===null&&Ml(e,n,a,oa,i),f===u)break;u=f}u!==null&&a.stopPropagation()}else Ml(e,n,a,null,i)}}var oa=null;function pc(e,n,i,a){if(oa=null,e=du(a),e=Qr(e),e!==null)if(n=fi(e),n===null)e=null;else if(i=n.tag,i===13){if(e=jf(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return oa=e,null}function Jf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pg()){case hu:return 1;case Wf:return 4;case na:case Lg:return 16;case Gf:return 536870912;default:return 16}default:return 16}}var Tr=null,mu=null,Hs=null;function ed(){if(Hs)return Hs;var e,n=mu,i=n.length,a,u="value"in Tr?Tr.value:Tr.textContent,f=u.length;for(e=0;e<i&&n[e]===u[e];e++);var g=i-e;for(a=1;a<=g&&n[i-a]===u[f-a];a++);return Hs=u.slice(e,1<a?1-a:void 0)}function zs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ts(){return!0}function j1(){return!1}function mn(e){function n(i,a,u,f,g){this._reactName=i,this._targetInst=u,this.type=a,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(i=e[m],this[m]=i?i(f):f[m]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ts:j1,this.isPropagationStopped=j1,this}return st(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ts)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ts)},persist:function(){},isPersistent:Ts}),n}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wu=mn(Ki),ns=st({},Ki,{view:0,detail:0}),qg=mn(ns),_l,Il,po,Da=st({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==po&&(po&&e.type==="mousemove"?(_l=e.screenX-po.screenX,Il=e.screenY-po.screenY):Il=_l=0,po=e),_l)},movementY:function(e){return"movementY"in e?e.movementY:Il}}),V1=mn(Da),Qg=st({},Da,{dataTransfer:0}),$g=mn(Qg),Jg=st({},ns,{relatedTarget:0}),Nl=mn(Jg),ep=st({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),tp=mn(ep),np=st({},Ki,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rp=mn(np),ip=st({},Ki,{data:0}),H1=mn(ip),op={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ap={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lp(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=ap[e])?!!n[e]:!1}function yu(){return lp}var cp=st({},ns,{key:function(e){if(e.key){var n=op[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=zs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yu,charCode:function(e){return e.type==="keypress"?zs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),up=mn(cp),fp=st({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),z1=mn(fp),dp=st({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yu}),hp=mn(dp),gp=st({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),pp=mn(gp),xp=st({},Da,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mp=mn(xp),wp=[9,13,27,32],Eu=ar&&"CompositionEvent"in window,bo=null;ar&&"documentMode"in document&&(bo=document.documentMode);var yp=ar&&"TextEvent"in window&&!bo,td=ar&&(!Eu||bo&&8<bo&&11>=bo),W1=" ",G1=!1;function nd(e,n){switch(e){case"keyup":return wp.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vi=!1;function Ep(e,n){switch(e){case"compositionend":return rd(n);case"keypress":return n.which!==32?null:(G1=!0,W1);case"textInput":return e=n.data,e===W1&&G1?null:e;default:return null}}function Cp(e,n){if(vi)return e==="compositionend"||!Eu&&nd(e,n)?(e=ed(),Hs=mu=Tr=null,vi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return td&&n.locale!=="ko"?null:n.data;default:return null}}var Ap={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function X1(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ap[e.type]:n==="textarea"}function id(e,n,i,a){Bf(a),n=sa(n,"onChange"),0<n.length&&(i=new wu("onChange","change",null,i,a),e.push({event:i,listeners:n}))}var Ro=null,Ho=null;function Sp(e){pd(e,0)}function ka(e){var n=Ni(e);if(Tf(n))return e}function vp(e,n){if(e==="change")return n}var od=!1;if(ar){var Tl;if(ar){var bl="oninput"in document;if(!bl){var Y1=document.createElement("div");Y1.setAttribute("oninput","return;"),bl=typeof Y1.oninput=="function"}Tl=bl}else Tl=!1;od=Tl&&(!document.documentMode||9<document.documentMode)}function Z1(){Ro&&(Ro.detachEvent("onpropertychange",sd),Ho=Ro=null)}function sd(e){if(e.propertyName==="value"&&ka(Ho)){var n=[];id(n,Ho,e,du(e)),Uf(Sp,n)}}function _p(e,n,i){e==="focusin"?(Z1(),Ro=n,Ho=i,Ro.attachEvent("onpropertychange",sd)):e==="focusout"&&Z1()}function Ip(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ka(Ho)}function Np(e,n){if(e==="click")return ka(n)}function Tp(e,n){if(e==="input"||e==="change")return ka(n)}function bp(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ln=typeof Object.is=="function"?Object.is:bp;function zo(e,n){if(Ln(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),a=Object.keys(n);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var u=i[a];if(!Ql.call(n,u)||!Ln(e[u],n[u]))return!1}return!0}function K1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function q1(e,n){var i=K1(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=n&&a>=n)return{node:i,offset:n-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=K1(i)}}function ad(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ad(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ld(){for(var e=window,n=Js();n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=Js(e.document)}return n}function Cu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Rp(e){var n=ld(),i=e.focusedElem,a=e.selectionRange;if(n!==i&&i&&i.ownerDocument&&ad(i.ownerDocument.documentElement,i)){if(a!==null&&Cu(i)){if(n=a.start,e=a.end,e===void 0&&(e=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(e,i.value.length);else if(e=(n=i.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var u=i.textContent.length,f=Math.min(a.start,u);a=a.end===void 0?f:Math.min(a.end,u),!e.extend&&f>a&&(u=a,a=f,f=u),u=q1(i,f);var g=q1(i,a);u&&g&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(n=n.createRange(),n.setStart(u.node,u.offset),e.removeAllRanges(),f>a?(e.addRange(n),e.extend(g.node,g.offset)):(n.setEnd(g.node,g.offset),e.addRange(n)))}}for(n=[],e=i;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)e=n[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Op=ar&&"documentMode"in document&&11>=document.documentMode,_i=null,xc=null,Oo=null,mc=!1;function Q1(e,n,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;mc||_i==null||_i!==Js(a)||(a=_i,"selectionStart"in a&&Cu(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Oo&&zo(Oo,a)||(Oo=a,a=sa(xc,"onSelect"),0<a.length&&(n=new wu("onSelect","select",null,n,i),e.push({event:n,listeners:a}),n.target=_i)))}function bs(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Ii={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionend:bs("Transition","TransitionEnd")},Rl={},cd={};ar&&(cd=document.createElement("div").style,"AnimationEvent"in window||(delete Ii.animationend.animation,delete Ii.animationiteration.animation,delete Ii.animationstart.animation),"TransitionEvent"in window||delete Ii.transitionend.transition);function Ma(e){if(Rl[e])return Rl[e];if(!Ii[e])return e;var n=Ii[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in cd)return Rl[e]=n[i];return e}var ud=Ma("animationend"),fd=Ma("animationiteration"),dd=Ma("animationstart"),hd=Ma("transitionend"),gd=new Map,$1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,n){gd.set(e,n),ui(n,[e])}for(var Ol=0;Ol<$1.length;Ol++){var Dl=$1[Ol],Dp=Dl.toLowerCase(),kp=Dl[0].toUpperCase()+Dl.slice(1);jr(Dp,"on"+kp)}jr(ud,"onAnimationEnd");jr(fd,"onAnimationIteration");jr(dd,"onAnimationStart");jr("dblclick","onDoubleClick");jr("focusin","onFocus");jr("focusout","onBlur");jr(hd,"onTransitionEnd");Vi("onMouseEnter",["mouseout","mouseover"]);Vi("onMouseLeave",["mouseout","mouseover"]);Vi("onPointerEnter",["pointerout","pointerover"]);Vi("onPointerLeave",["pointerout","pointerover"]);ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ui("onBeforeInput",["compositionend","keypress","textInput","paste"]);ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mp=new Set("cancel close invalid load scroll toggle".split(" ").concat(vo));function J1(e,n,i){var a=e.type||"unknown-event";e.currentTarget=i,Dg(a,n,void 0,e),e.currentTarget=null}function pd(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],u=a.event;a=a.listeners;e:{var f=void 0;if(n)for(var g=a.length-1;0<=g;g--){var m=a[g],y=m.instance,x=m.currentTarget;if(m=m.listener,y!==f&&u.isPropagationStopped())break e;J1(u,m,x),f=y}else for(g=0;g<a.length;g++){if(m=a[g],y=m.instance,x=m.currentTarget,m=m.listener,y!==f&&u.isPropagationStopped())break e;J1(u,m,x),f=y}}}if(ta)throw e=dc,ta=!1,dc=null,e}function $e(e,n){var i=n[Ac];i===void 0&&(i=n[Ac]=new Set);var a=e+"__bubble";i.has(a)||(xd(n,e,2,!1),i.add(a))}function kl(e,n,i){var a=0;n&&(a|=4),xd(i,e,a,n)}var Rs="_reactListening"+Math.random().toString(36).slice(2);function Wo(e){if(!e[Rs]){e[Rs]=!0,Sf.forEach(function(i){i!=="selectionchange"&&(Mp.has(i)||kl(i,!1,e),kl(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Rs]||(n[Rs]=!0,kl("selectionchange",!1,n))}}function xd(e,n,i,a){switch(Jf(n)){case 1:var u=Zg;break;case 4:u=Kg;break;default:u=xu}i=u.bind(null,n,i,e),u=void 0,!fc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),a?u!==void 0?e.addEventListener(n,i,{capture:!0,passive:u}):e.addEventListener(n,i,!0):u!==void 0?e.addEventListener(n,i,{passive:u}):e.addEventListener(n,i,!1)}function Ml(e,n,i,a,u){var f=a;if(!(n&1)&&!(n&2)&&a!==null)e:for(;;){if(a===null)return;var g=a.tag;if(g===3||g===4){var m=a.stateNode.containerInfo;if(m===u||m.nodeType===8&&m.parentNode===u)break;if(g===4)for(g=a.return;g!==null;){var y=g.tag;if((y===3||y===4)&&(y=g.stateNode.containerInfo,y===u||y.nodeType===8&&y.parentNode===u))return;g=g.return}for(;m!==null;){if(g=Qr(m),g===null)return;if(y=g.tag,y===5||y===6){a=f=g;continue e}m=m.parentNode}}a=a.return}Uf(function(){var x=f,v=du(i),S=[];e:{var R=gd.get(e);if(R!==void 0){var L=wu,B=e;switch(e){case"keypress":if(zs(i)===0)break e;case"keydown":case"keyup":L=up;break;case"focusin":B="focus",L=Nl;break;case"focusout":B="blur",L=Nl;break;case"beforeblur":case"afterblur":L=Nl;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=V1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=$g;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=hp;break;case ud:case fd:case dd:L=tp;break;case hd:L=pp;break;case"scroll":L=qg;break;case"wheel":L=mp;break;case"copy":case"cut":case"paste":L=rp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=z1}var k=(n&4)!==0,X=!k&&e==="scroll",O=k?R!==null?R+"Capture":null:R;k=[];for(var I=x,b;I!==null;){b=I;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,O!==null&&(j=Fo(I,O),j!=null&&k.push(Go(I,j,b)))),X)break;I=I.return}0<k.length&&(R=new L(R,B,null,i,v),S.push({event:R,listeners:k}))}}if(!(n&7)){e:{if(R=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",R&&i!==cc&&(B=i.relatedTarget||i.fromElement)&&(Qr(B)||B[lr]))break e;if((L||R)&&(R=v.window===v?v:(R=v.ownerDocument)?R.defaultView||R.parentWindow:window,L?(B=i.relatedTarget||i.toElement,L=x,B=B?Qr(B):null,B!==null&&(X=fi(B),B!==X||B.tag!==5&&B.tag!==6)&&(B=null)):(L=null,B=x),L!==B)){if(k=V1,j="onMouseLeave",O="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(k=z1,j="onPointerLeave",O="onPointerEnter",I="pointer"),X=L==null?R:Ni(L),b=B==null?R:Ni(B),R=new k(j,I+"leave",L,i,v),R.target=X,R.relatedTarget=b,j=null,Qr(v)===x&&(k=new k(O,I+"enter",B,i,v),k.target=b,k.relatedTarget=X,j=k),X=j,L&&B)t:{for(k=L,O=B,I=0,b=k;b;b=Ci(b))I++;for(b=0,j=O;j;j=Ci(j))b++;for(;0<I-b;)k=Ci(k),I--;for(;0<b-I;)O=Ci(O),b--;for(;I--;){if(k===O||O!==null&&k===O.alternate)break t;k=Ci(k),O=Ci(O)}k=null}else k=null;L!==null&&e0(S,R,L,k,!1),B!==null&&X!==null&&e0(S,X,B,k,!0)}}e:{if(R=x?Ni(x):window,L=R.nodeName&&R.nodeName.toLowerCase(),L==="select"||L==="input"&&R.type==="file")var K=vp;else if(X1(R))if(od)K=Tp;else{K=Ip;var Z=_p}else(L=R.nodeName)&&L.toLowerCase()==="input"&&(R.type==="checkbox"||R.type==="radio")&&(K=Np);if(K&&(K=K(e,x))){id(S,K,i,v);break e}Z&&Z(e,R,x),e==="focusout"&&(Z=R._wrapperState)&&Z.controlled&&R.type==="number"&&ic(R,"number",R.value)}switch(Z=x?Ni(x):window,e){case"focusin":(X1(Z)||Z.contentEditable==="true")&&(_i=Z,xc=x,Oo=null);break;case"focusout":Oo=xc=_i=null;break;case"mousedown":mc=!0;break;case"contextmenu":case"mouseup":case"dragend":mc=!1,Q1(S,i,v);break;case"selectionchange":if(Op)break;case"keydown":case"keyup":Q1(S,i,v)}var P;if(Eu)e:{switch(e){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else vi?nd(e,i)&&(q="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(q="onCompositionStart");q&&(td&&i.locale!=="ko"&&(vi||q!=="onCompositionStart"?q==="onCompositionEnd"&&vi&&(P=ed()):(Tr=v,mu="value"in Tr?Tr.value:Tr.textContent,vi=!0)),Z=sa(x,q),0<Z.length&&(q=new H1(q,e,null,i,v),S.push({event:q,listeners:Z}),P?q.data=P:(P=rd(i),P!==null&&(q.data=P)))),(P=yp?Ep(e,i):Cp(e,i))&&(x=sa(x,"onBeforeInput"),0<x.length&&(v=new H1("onBeforeInput","beforeinput",null,i,v),S.push({event:v,listeners:x}),v.data=P))}pd(S,n)})}function Go(e,n,i){return{instance:e,listener:n,currentTarget:i}}function sa(e,n){for(var i=n+"Capture",a=[];e!==null;){var u=e,f=u.stateNode;u.tag===5&&f!==null&&(u=f,f=Fo(e,i),f!=null&&a.unshift(Go(e,f,u)),f=Fo(e,n),f!=null&&a.push(Go(e,f,u))),e=e.return}return a}function Ci(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function e0(e,n,i,a,u){for(var f=n._reactName,g=[];i!==null&&i!==a;){var m=i,y=m.alternate,x=m.stateNode;if(y!==null&&y===a)break;m.tag===5&&x!==null&&(m=x,u?(y=Fo(i,f),y!=null&&g.unshift(Go(i,y,m))):u||(y=Fo(i,f),y!=null&&g.push(Go(i,y,m)))),i=i.return}g.length!==0&&e.push({event:n,listeners:g})}var Bp=/\r\n?/g,Pp=/\u0000|\uFFFD/g;function t0(e){return(typeof e=="string"?e:""+e).replace(Bp,`
`).replace(Pp,"")}function Os(e,n,i){if(n=t0(n),t0(e)!==n&&i)throw Error(ee(425))}function aa(){}var wc=null,yc=null;function Ec(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Cc=typeof setTimeout=="function"?setTimeout:void 0,Lp=typeof clearTimeout=="function"?clearTimeout:void 0,n0=typeof Promise=="function"?Promise:void 0,Fp=typeof queueMicrotask=="function"?queueMicrotask:typeof n0<"u"?function(e){return n0.resolve(null).then(e).catch(Up)}:Cc;function Up(e){setTimeout(function(){throw e})}function Bl(e,n){var i=n,a=0;do{var u=i.nextSibling;if(e.removeChild(i),u&&u.nodeType===8)if(i=u.data,i==="/$"){if(a===0){e.removeChild(u),Vo(n);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=u}while(i);Vo(n)}function kr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function r0(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}var qi=Math.random().toString(36).slice(2),qn="__reactFiber$"+qi,Xo="__reactProps$"+qi,lr="__reactContainer$"+qi,Ac="__reactEvents$"+qi,jp="__reactListeners$"+qi,Vp="__reactHandles$"+qi;function Qr(e){var n=e[qn];if(n)return n;for(var i=e.parentNode;i;){if(n=i[lr]||i[qn]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=r0(e);e!==null;){if(i=e[qn])return i;e=r0(e)}return n}e=i,i=e.parentNode}return null}function rs(e){return e=e[qn]||e[lr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ni(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ee(33))}function Ba(e){return e[Xo]||null}var Sc=[],Ti=-1;function Vr(e){return{current:e}}function et(e){0>Ti||(e.current=Sc[Ti],Sc[Ti]=null,Ti--)}function qe(e,n){Ti++,Sc[Ti]=e.current,e.current=n}var Ur={},Vt=Vr(Ur),rn=Vr(!1),ii=Ur;function Hi(e,n){var i=e.type.contextTypes;if(!i)return Ur;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===n)return a.__reactInternalMemoizedMaskedChildContext;var u={},f;for(f in i)u[f]=n[f];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=u),u}function on(e){return e=e.childContextTypes,e!=null}function la(){et(rn),et(Vt)}function i0(e,n,i){if(Vt.current!==Ur)throw Error(ee(168));qe(Vt,n),qe(rn,i)}function md(e,n,i){var a=e.stateNode;if(n=n.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var u in a)if(!(u in n))throw Error(ee(108,_g(e)||"Unknown",u));return st({},i,a)}function ca(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ur,ii=Vt.current,qe(Vt,e),qe(rn,rn.current),!0}function o0(e,n,i){var a=e.stateNode;if(!a)throw Error(ee(169));i?(e=md(e,n,ii),a.__reactInternalMemoizedMergedChildContext=e,et(rn),et(Vt),qe(Vt,e)):et(rn),qe(rn,i)}var nr=null,Pa=!1,Pl=!1;function wd(e){nr===null?nr=[e]:nr.push(e)}function Hp(e){Pa=!0,wd(e)}function Hr(){if(!Pl&&nr!==null){Pl=!0;var e=0,n=ze;try{var i=nr;for(ze=1;e<i.length;e++){var a=i[e];do a=a(!0);while(a!==null)}nr=null,Pa=!1}catch(u){throw nr!==null&&(nr=nr.slice(e+1)),zf(hu,Hr),u}finally{ze=n,Pl=!1}}return null}var bi=[],Ri=0,ua=null,fa=0,An=[],Sn=0,oi=null,rr=1,ir="";function Kr(e,n){bi[Ri++]=fa,bi[Ri++]=ua,ua=e,fa=n}function yd(e,n,i){An[Sn++]=rr,An[Sn++]=ir,An[Sn++]=oi,oi=e;var a=rr;e=ir;var u=32-Bn(a)-1;a&=~(1<<u),i+=1;var f=32-Bn(n)+u;if(30<f){var g=u-u%5;f=(a&(1<<g)-1).toString(32),a>>=g,u-=g,rr=1<<32-Bn(n)+u|i<<u|a,ir=f+e}else rr=1<<f|i<<u|a,ir=e}function Au(e){e.return!==null&&(Kr(e,1),yd(e,1,0))}function Su(e){for(;e===ua;)ua=bi[--Ri],bi[Ri]=null,fa=bi[--Ri],bi[Ri]=null;for(;e===oi;)oi=An[--Sn],An[Sn]=null,ir=An[--Sn],An[Sn]=null,rr=An[--Sn],An[Sn]=null}var hn=null,dn=null,nt=!1,Mn=null;function Ed(e,n){var i=vn(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=e,n=e.deletions,n===null?(e.deletions=[i],e.flags|=16):n.push(i)}function s0(e,n){switch(e.tag){case 5:var i=e.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,hn=e,dn=kr(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,hn=e,dn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=oi!==null?{id:rr,overflow:ir}:null,e.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=vn(18,null,null,0),i.stateNode=n,i.return=e,e.child=i,hn=e,dn=null,!0):!1;default:return!1}}function vc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _c(e){if(nt){var n=dn;if(n){var i=n;if(!s0(e,n)){if(vc(e))throw Error(ee(418));n=kr(i.nextSibling);var a=hn;n&&s0(e,n)?Ed(a,i):(e.flags=e.flags&-4097|2,nt=!1,hn=e)}}else{if(vc(e))throw Error(ee(418));e.flags=e.flags&-4097|2,nt=!1,hn=e}}}function a0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;hn=e}function Ds(e){if(e!==hn)return!1;if(!nt)return a0(e),nt=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Ec(e.type,e.memoizedProps)),n&&(n=dn)){if(vc(e))throw Cd(),Error(ee(418));for(;n;)Ed(e,n),n=kr(n.nextSibling)}if(a0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ee(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(n===0){dn=kr(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}e=e.nextSibling}dn=null}}else dn=hn?kr(e.stateNode.nextSibling):null;return!0}function Cd(){for(var e=dn;e;)e=kr(e.nextSibling)}function zi(){dn=hn=null,nt=!1}function vu(e){Mn===null?Mn=[e]:Mn.push(e)}var zp=fr.ReactCurrentBatchConfig;function xo(e,n,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(ee(309));var a=i.stateNode}if(!a)throw Error(ee(147,e));var u=a,f=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===f?n.ref:(n=function(g){var m=u.refs;g===null?delete m[f]:m[f]=g},n._stringRef=f,n)}if(typeof e!="string")throw Error(ee(284));if(!i._owner)throw Error(ee(290,e))}return e}function ks(e,n){throw e=Object.prototype.toString.call(n),Error(ee(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function l0(e){var n=e._init;return n(e._payload)}function Ad(e){function n(O,I){if(e){var b=O.deletions;b===null?(O.deletions=[I],O.flags|=16):b.push(I)}}function i(O,I){if(!e)return null;for(;I!==null;)n(O,I),I=I.sibling;return null}function a(O,I){for(O=new Map;I!==null;)I.key!==null?O.set(I.key,I):O.set(I.index,I),I=I.sibling;return O}function u(O,I){return O=Lr(O,I),O.index=0,O.sibling=null,O}function f(O,I,b){return O.index=b,e?(b=O.alternate,b!==null?(b=b.index,b<I?(O.flags|=2,I):b):(O.flags|=2,I)):(O.flags|=1048576,I)}function g(O){return e&&O.alternate===null&&(O.flags|=2),O}function m(O,I,b,j){return I===null||I.tag!==6?(I=zl(b,O.mode,j),I.return=O,I):(I=u(I,b),I.return=O,I)}function y(O,I,b,j){var K=b.type;return K===Si?v(O,I,b.props.children,j,b.key):I!==null&&(I.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===vr&&l0(K)===I.type)?(j=u(I,b.props),j.ref=xo(O,I,b),j.return=O,j):(j=qs(b.type,b.key,b.props,null,O.mode,j),j.ref=xo(O,I,b),j.return=O,j)}function x(O,I,b,j){return I===null||I.tag!==4||I.stateNode.containerInfo!==b.containerInfo||I.stateNode.implementation!==b.implementation?(I=Wl(b,O.mode,j),I.return=O,I):(I=u(I,b.children||[]),I.return=O,I)}function v(O,I,b,j,K){return I===null||I.tag!==7?(I=ni(b,O.mode,j,K),I.return=O,I):(I=u(I,b),I.return=O,I)}function S(O,I,b){if(typeof I=="string"&&I!==""||typeof I=="number")return I=zl(""+I,O.mode,b),I.return=O,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case As:return b=qs(I.type,I.key,I.props,null,O.mode,b),b.ref=xo(O,null,I),b.return=O,b;case Ai:return I=Wl(I,O.mode,b),I.return=O,I;case vr:var j=I._init;return S(O,j(I._payload),b)}if(Ao(I)||uo(I))return I=ni(I,O.mode,b,null),I.return=O,I;ks(O,I)}return null}function R(O,I,b,j){var K=I!==null?I.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return K!==null?null:m(O,I,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case As:return b.key===K?y(O,I,b,j):null;case Ai:return b.key===K?x(O,I,b,j):null;case vr:return K=b._init,R(O,I,K(b._payload),j)}if(Ao(b)||uo(b))return K!==null?null:v(O,I,b,j,null);ks(O,b)}return null}function L(O,I,b,j,K){if(typeof j=="string"&&j!==""||typeof j=="number")return O=O.get(b)||null,m(I,O,""+j,K);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case As:return O=O.get(j.key===null?b:j.key)||null,y(I,O,j,K);case Ai:return O=O.get(j.key===null?b:j.key)||null,x(I,O,j,K);case vr:var Z=j._init;return L(O,I,b,Z(j._payload),K)}if(Ao(j)||uo(j))return O=O.get(b)||null,v(I,O,j,K,null);ks(I,j)}return null}function B(O,I,b,j){for(var K=null,Z=null,P=I,q=I=0,Y=null;P!==null&&q<b.length;q++){P.index>q?(Y=P,P=null):Y=P.sibling;var Ee=R(O,P,b[q],j);if(Ee===null){P===null&&(P=Y);break}e&&P&&Ee.alternate===null&&n(O,P),I=f(Ee,I,q),Z===null?K=Ee:Z.sibling=Ee,Z=Ee,P=Y}if(q===b.length)return i(O,P),nt&&Kr(O,q),K;if(P===null){for(;q<b.length;q++)P=S(O,b[q],j),P!==null&&(I=f(P,I,q),Z===null?K=P:Z.sibling=P,Z=P);return nt&&Kr(O,q),K}for(P=a(O,P);q<b.length;q++)Y=L(P,O,q,b[q],j),Y!==null&&(e&&Y.alternate!==null&&P.delete(Y.key===null?q:Y.key),I=f(Y,I,q),Z===null?K=Y:Z.sibling=Y,Z=Y);return e&&P.forEach(function(Ie){return n(O,Ie)}),nt&&Kr(O,q),K}function k(O,I,b,j){var K=uo(b);if(typeof K!="function")throw Error(ee(150));if(b=K.call(b),b==null)throw Error(ee(151));for(var Z=K=null,P=I,q=I=0,Y=null,Ee=b.next();P!==null&&!Ee.done;q++,Ee=b.next()){P.index>q?(Y=P,P=null):Y=P.sibling;var Ie=R(O,P,Ee.value,j);if(Ie===null){P===null&&(P=Y);break}e&&P&&Ie.alternate===null&&n(O,P),I=f(Ie,I,q),Z===null?K=Ie:Z.sibling=Ie,Z=Ie,P=Y}if(Ee.done)return i(O,P),nt&&Kr(O,q),K;if(P===null){for(;!Ee.done;q++,Ee=b.next())Ee=S(O,Ee.value,j),Ee!==null&&(I=f(Ee,I,q),Z===null?K=Ee:Z.sibling=Ee,Z=Ee);return nt&&Kr(O,q),K}for(P=a(O,P);!Ee.done;q++,Ee=b.next())Ee=L(P,O,q,Ee.value,j),Ee!==null&&(e&&Ee.alternate!==null&&P.delete(Ee.key===null?q:Ee.key),I=f(Ee,I,q),Z===null?K=Ee:Z.sibling=Ee,Z=Ee);return e&&P.forEach(function(pe){return n(O,pe)}),nt&&Kr(O,q),K}function X(O,I,b,j){if(typeof b=="object"&&b!==null&&b.type===Si&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case As:e:{for(var K=b.key,Z=I;Z!==null;){if(Z.key===K){if(K=b.type,K===Si){if(Z.tag===7){i(O,Z.sibling),I=u(Z,b.props.children),I.return=O,O=I;break e}}else if(Z.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===vr&&l0(K)===Z.type){i(O,Z.sibling),I=u(Z,b.props),I.ref=xo(O,Z,b),I.return=O,O=I;break e}i(O,Z);break}else n(O,Z);Z=Z.sibling}b.type===Si?(I=ni(b.props.children,O.mode,j,b.key),I.return=O,O=I):(j=qs(b.type,b.key,b.props,null,O.mode,j),j.ref=xo(O,I,b),j.return=O,O=j)}return g(O);case Ai:e:{for(Z=b.key;I!==null;){if(I.key===Z)if(I.tag===4&&I.stateNode.containerInfo===b.containerInfo&&I.stateNode.implementation===b.implementation){i(O,I.sibling),I=u(I,b.children||[]),I.return=O,O=I;break e}else{i(O,I);break}else n(O,I);I=I.sibling}I=Wl(b,O.mode,j),I.return=O,O=I}return g(O);case vr:return Z=b._init,X(O,I,Z(b._payload),j)}if(Ao(b))return B(O,I,b,j);if(uo(b))return k(O,I,b,j);ks(O,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,I!==null&&I.tag===6?(i(O,I.sibling),I=u(I,b),I.return=O,O=I):(i(O,I),I=zl(b,O.mode,j),I.return=O,O=I),g(O)):i(O,I)}return X}var Wi=Ad(!0),Sd=Ad(!1),da=Vr(null),ha=null,Oi=null,_u=null;function Iu(){_u=Oi=ha=null}function Nu(e){var n=da.current;et(da),e._currentValue=n}function Ic(e,n,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===i)break;e=e.return}}function Ui(e,n){ha=e,_u=Oi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(nn=!0),e.firstContext=null)}function In(e){var n=e._currentValue;if(_u!==e)if(e={context:e,memoizedValue:n,next:null},Oi===null){if(ha===null)throw Error(ee(308));Oi=e,ha.dependencies={lanes:0,firstContext:e}}else Oi=Oi.next=e;return n}var $r=null;function Tu(e){$r===null?$r=[e]:$r.push(e)}function vd(e,n,i,a){var u=n.interleaved;return u===null?(i.next=i,Tu(n)):(i.next=u.next,u.next=i),n.interleaved=i,cr(e,a)}function cr(e,n){e.lanes|=n;var i=e.alternate;for(i!==null&&(i.lanes|=n),i=e,e=e.return;e!==null;)e.childLanes|=n,i=e.alternate,i!==null&&(i.childLanes|=n),i=e,e=e.return;return i.tag===3?i.stateNode:null}var _r=!1;function bu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _d(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function or(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Mr(e,n,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Fe&2){var u=a.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),a.pending=n,cr(e,i)}return u=a.interleaved,u===null?(n.next=n,Tu(a)):(n.next=u.next,u.next=n),a.interleaved=n,cr(e,i)}function Ws(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var a=n.lanes;a&=e.pendingLanes,i|=a,n.lanes=i,gu(e,i)}}function c0(e,n){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var u=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var g={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};f===null?u=f=g:f=f.next=g,i=i.next}while(i!==null);f===null?u=f=n:f=f.next=n}else u=f=n;i={baseState:a.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:a.shared,effects:a.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}function ga(e,n,i,a){var u=e.updateQueue;_r=!1;var f=u.firstBaseUpdate,g=u.lastBaseUpdate,m=u.shared.pending;if(m!==null){u.shared.pending=null;var y=m,x=y.next;y.next=null,g===null?f=x:g.next=x,g=y;var v=e.alternate;v!==null&&(v=v.updateQueue,m=v.lastBaseUpdate,m!==g&&(m===null?v.firstBaseUpdate=x:m.next=x,v.lastBaseUpdate=y))}if(f!==null){var S=u.baseState;g=0,v=x=y=null,m=f;do{var R=m.lane,L=m.eventTime;if((a&R)===R){v!==null&&(v=v.next={eventTime:L,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var B=e,k=m;switch(R=n,L=i,k.tag){case 1:if(B=k.payload,typeof B=="function"){S=B.call(L,S,R);break e}S=B;break e;case 3:B.flags=B.flags&-65537|128;case 0:if(B=k.payload,R=typeof B=="function"?B.call(L,S,R):B,R==null)break e;S=st({},S,R);break e;case 2:_r=!0}}m.callback!==null&&m.lane!==0&&(e.flags|=64,R=u.effects,R===null?u.effects=[m]:R.push(m))}else L={eventTime:L,lane:R,tag:m.tag,payload:m.payload,callback:m.callback,next:null},v===null?(x=v=L,y=S):v=v.next=L,g|=R;if(m=m.next,m===null){if(m=u.shared.pending,m===null)break;R=m,m=R.next,R.next=null,u.lastBaseUpdate=R,u.shared.pending=null}}while(!0);if(v===null&&(y=S),u.baseState=y,u.firstBaseUpdate=x,u.lastBaseUpdate=v,n=u.shared.interleaved,n!==null){u=n;do g|=u.lane,u=u.next;while(u!==n)}else f===null&&(u.shared.lanes=0);ai|=g,e.lanes=g,e.memoizedState=S}}function u0(e,n,i){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var a=e[n],u=a.callback;if(u!==null){if(a.callback=null,a=i,typeof u!="function")throw Error(ee(191,u));u.call(a)}}}var is={},$n=Vr(is),Yo=Vr(is),Zo=Vr(is);function Jr(e){if(e===is)throw Error(ee(174));return e}function Ru(e,n){switch(qe(Zo,n),qe(Yo,e),qe($n,is),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:sc(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=sc(n,e)}et($n),qe($n,n)}function Gi(){et($n),et(Yo),et(Zo)}function Id(e){Jr(Zo.current);var n=Jr($n.current),i=sc(n,e.type);n!==i&&(qe(Yo,e),qe($n,i))}function Ou(e){Yo.current===e&&(et($n),et(Yo))}var it=Vr(0);function pa(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ll=[];function Du(){for(var e=0;e<Ll.length;e++)Ll[e]._workInProgressVersionPrimary=null;Ll.length=0}var Gs=fr.ReactCurrentDispatcher,Fl=fr.ReactCurrentBatchConfig,si=0,ot=null,At=null,It=null,xa=!1,Do=!1,Ko=0,Wp=0;function Ft(){throw Error(ee(321))}function ku(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!Ln(e[i],n[i]))return!1;return!0}function Mu(e,n,i,a,u,f){if(si=f,ot=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Gs.current=e===null||e.memoizedState===null?Zp:Kp,e=i(a,u),Do){f=0;do{if(Do=!1,Ko=0,25<=f)throw Error(ee(301));f+=1,It=At=null,n.updateQueue=null,Gs.current=qp,e=i(a,u)}while(Do)}if(Gs.current=ma,n=At!==null&&At.next!==null,si=0,It=At=ot=null,xa=!1,n)throw Error(ee(300));return e}function Bu(){var e=Ko!==0;return Ko=0,e}function Kn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?ot.memoizedState=It=e:It=It.next=e,It}function Nn(){if(At===null){var e=ot.alternate;e=e!==null?e.memoizedState:null}else e=At.next;var n=It===null?ot.memoizedState:It.next;if(n!==null)It=n,At=e;else{if(e===null)throw Error(ee(310));At=e,e={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},It===null?ot.memoizedState=It=e:It=It.next=e}return It}function qo(e,n){return typeof n=="function"?n(e):n}function Ul(e){var n=Nn(),i=n.queue;if(i===null)throw Error(ee(311));i.lastRenderedReducer=e;var a=At,u=a.baseQueue,f=i.pending;if(f!==null){if(u!==null){var g=u.next;u.next=f.next,f.next=g}a.baseQueue=u=f,i.pending=null}if(u!==null){f=u.next,a=a.baseState;var m=g=null,y=null,x=f;do{var v=x.lane;if((si&v)===v)y!==null&&(y=y.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),a=x.hasEagerState?x.eagerState:e(a,x.action);else{var S={lane:v,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};y===null?(m=y=S,g=a):y=y.next=S,ot.lanes|=v,ai|=v}x=x.next}while(x!==null&&x!==f);y===null?g=a:y.next=m,Ln(a,n.memoizedState)||(nn=!0),n.memoizedState=a,n.baseState=g,n.baseQueue=y,i.lastRenderedState=a}if(e=i.interleaved,e!==null){u=e;do f=u.lane,ot.lanes|=f,ai|=f,u=u.next;while(u!==e)}else u===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function jl(e){var n=Nn(),i=n.queue;if(i===null)throw Error(ee(311));i.lastRenderedReducer=e;var a=i.dispatch,u=i.pending,f=n.memoizedState;if(u!==null){i.pending=null;var g=u=u.next;do f=e(f,g.action),g=g.next;while(g!==u);Ln(f,n.memoizedState)||(nn=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),i.lastRenderedState=f}return[f,a]}function Nd(){}function Td(e,n){var i=ot,a=Nn(),u=n(),f=!Ln(a.memoizedState,u);if(f&&(a.memoizedState=u,nn=!0),a=a.queue,Pu(Od.bind(null,i,a,e),[e]),a.getSnapshot!==n||f||It!==null&&It.memoizedState.tag&1){if(i.flags|=2048,Qo(9,Rd.bind(null,i,a,u,n),void 0,null),Nt===null)throw Error(ee(349));si&30||bd(i,n,u)}return u}function bd(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=ot.updateQueue,n===null?(n={lastEffect:null,stores:null},ot.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function Rd(e,n,i,a){n.value=i,n.getSnapshot=a,Dd(n)&&kd(e)}function Od(e,n,i){return i(function(){Dd(n)&&kd(e)})}function Dd(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!Ln(e,i)}catch{return!0}}function kd(e){var n=cr(e,1);n!==null&&Pn(n,e,1,-1)}function f0(e){var n=Kn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:e},n.queue=e,e=e.dispatch=Yp.bind(null,ot,e),[n.memoizedState,e]}function Qo(e,n,i,a){return e={tag:e,create:n,destroy:i,deps:a,next:null},n=ot.updateQueue,n===null?(n={lastEffect:null,stores:null},ot.updateQueue=n,n.lastEffect=e.next=e):(i=n.lastEffect,i===null?n.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,n.lastEffect=e)),e}function Md(){return Nn().memoizedState}function Xs(e,n,i,a){var u=Kn();ot.flags|=e,u.memoizedState=Qo(1|n,i,void 0,a===void 0?null:a)}function La(e,n,i,a){var u=Nn();a=a===void 0?null:a;var f=void 0;if(At!==null){var g=At.memoizedState;if(f=g.destroy,a!==null&&ku(a,g.deps)){u.memoizedState=Qo(n,i,f,a);return}}ot.flags|=e,u.memoizedState=Qo(1|n,i,f,a)}function d0(e,n){return Xs(8390656,8,e,n)}function Pu(e,n){return La(2048,8,e,n)}function Bd(e,n){return La(4,2,e,n)}function Pd(e,n){return La(4,4,e,n)}function Ld(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Fd(e,n,i){return i=i!=null?i.concat([e]):null,La(4,4,Ld.bind(null,n,e),i)}function Lu(){}function Ud(e,n){var i=Nn();n=n===void 0?null:n;var a=i.memoizedState;return a!==null&&n!==null&&ku(n,a[1])?a[0]:(i.memoizedState=[e,n],e)}function jd(e,n){var i=Nn();n=n===void 0?null:n;var a=i.memoizedState;return a!==null&&n!==null&&ku(n,a[1])?a[0]:(e=e(),i.memoizedState=[e,n],e)}function Vd(e,n,i){return si&21?(Ln(i,n)||(i=Xf(),ot.lanes|=i,ai|=i,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,nn=!0),e.memoizedState=i)}function Gp(e,n){var i=ze;ze=i!==0&&4>i?i:4,e(!0);var a=Fl.transition;Fl.transition={};try{e(!1),n()}finally{ze=i,Fl.transition=a}}function Hd(){return Nn().memoizedState}function Xp(e,n,i){var a=Pr(e);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},zd(e))Wd(n,i);else if(i=vd(e,n,i,a),i!==null){var u=Gt();Pn(i,e,a,u),Gd(i,n,a)}}function Yp(e,n,i){var a=Pr(e),u={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(zd(e))Wd(n,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,m=f(g,i);if(u.hasEagerState=!0,u.eagerState=m,Ln(m,g)){var y=n.interleaved;y===null?(u.next=u,Tu(n)):(u.next=y.next,y.next=u),n.interleaved=u;return}}catch{}finally{}i=vd(e,n,u,a),i!==null&&(u=Gt(),Pn(i,e,a,u),Gd(i,n,a))}}function zd(e){var n=e.alternate;return e===ot||n!==null&&n===ot}function Wd(e,n){Do=xa=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function Gd(e,n,i){if(i&4194240){var a=n.lanes;a&=e.pendingLanes,i|=a,n.lanes=i,gu(e,i)}}var ma={readContext:In,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},Zp={readContext:In,useCallback:function(e,n){return Kn().memoizedState=[e,n===void 0?null:n],e},useContext:In,useEffect:d0,useImperativeHandle:function(e,n,i){return i=i!=null?i.concat([e]):null,Xs(4194308,4,Ld.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Xs(4194308,4,e,n)},useInsertionEffect:function(e,n){return Xs(4,2,e,n)},useMemo:function(e,n){var i=Kn();return n=n===void 0?null:n,e=e(),i.memoizedState=[e,n],e},useReducer:function(e,n,i){var a=Kn();return n=i!==void 0?i(n):n,a.memoizedState=a.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=Xp.bind(null,ot,e),[a.memoizedState,e]},useRef:function(e){var n=Kn();return e={current:e},n.memoizedState=e},useState:f0,useDebugValue:Lu,useDeferredValue:function(e){return Kn().memoizedState=e},useTransition:function(){var e=f0(!1),n=e[0];return e=Gp.bind(null,e[1]),Kn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,i){var a=ot,u=Kn();if(nt){if(i===void 0)throw Error(ee(407));i=i()}else{if(i=n(),Nt===null)throw Error(ee(349));si&30||bd(a,n,i)}u.memoizedState=i;var f={value:i,getSnapshot:n};return u.queue=f,d0(Od.bind(null,a,f,e),[e]),a.flags|=2048,Qo(9,Rd.bind(null,a,f,i,n),void 0,null),i},useId:function(){var e=Kn(),n=Nt.identifierPrefix;if(nt){var i=ir,a=rr;i=(a&~(1<<32-Bn(a)-1)).toString(32)+i,n=":"+n+"R"+i,i=Ko++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=Wp++,n=":"+n+"r"+i.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Kp={readContext:In,useCallback:Ud,useContext:In,useEffect:Pu,useImperativeHandle:Fd,useInsertionEffect:Bd,useLayoutEffect:Pd,useMemo:jd,useReducer:Ul,useRef:Md,useState:function(){return Ul(qo)},useDebugValue:Lu,useDeferredValue:function(e){var n=Nn();return Vd(n,At.memoizedState,e)},useTransition:function(){var e=Ul(qo)[0],n=Nn().memoizedState;return[e,n]},useMutableSource:Nd,useSyncExternalStore:Td,useId:Hd,unstable_isNewReconciler:!1},qp={readContext:In,useCallback:Ud,useContext:In,useEffect:Pu,useImperativeHandle:Fd,useInsertionEffect:Bd,useLayoutEffect:Pd,useMemo:jd,useReducer:jl,useRef:Md,useState:function(){return jl(qo)},useDebugValue:Lu,useDeferredValue:function(e){var n=Nn();return At===null?n.memoizedState=e:Vd(n,At.memoizedState,e)},useTransition:function(){var e=jl(qo)[0],n=Nn().memoizedState;return[e,n]},useMutableSource:Nd,useSyncExternalStore:Td,useId:Hd,unstable_isNewReconciler:!1};function Dn(e,n){if(e&&e.defaultProps){n=st({},n),e=e.defaultProps;for(var i in e)n[i]===void 0&&(n[i]=e[i]);return n}return n}function Nc(e,n,i,a){n=e.memoizedState,i=i(a,n),i=i==null?n:st({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Fa={isMounted:function(e){return(e=e._reactInternals)?fi(e)===e:!1},enqueueSetState:function(e,n,i){e=e._reactInternals;var a=Gt(),u=Pr(e),f=or(a,u);f.payload=n,i!=null&&(f.callback=i),n=Mr(e,f,u),n!==null&&(Pn(n,e,u,a),Ws(n,e,u))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var a=Gt(),u=Pr(e),f=or(a,u);f.tag=1,f.payload=n,i!=null&&(f.callback=i),n=Mr(e,f,u),n!==null&&(Pn(n,e,u,a),Ws(n,e,u))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=Gt(),a=Pr(e),u=or(i,a);u.tag=2,n!=null&&(u.callback=n),n=Mr(e,u,a),n!==null&&(Pn(n,e,a,i),Ws(n,e,a))}};function h0(e,n,i,a,u,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,f,g):n.prototype&&n.prototype.isPureReactComponent?!zo(i,a)||!zo(u,f):!0}function Xd(e,n,i){var a=!1,u=Ur,f=n.contextType;return typeof f=="object"&&f!==null?f=In(f):(u=on(n)?ii:Vt.current,a=n.contextTypes,f=(a=a!=null)?Hi(e,u):Ur),n=new n(i,f),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Fa,e.stateNode=n,n._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=f),n}function g0(e,n,i,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,a),n.state!==e&&Fa.enqueueReplaceState(n,n.state,null)}function Tc(e,n,i,a){var u=e.stateNode;u.props=i,u.state=e.memoizedState,u.refs={},bu(e);var f=n.contextType;typeof f=="object"&&f!==null?u.context=In(f):(f=on(n)?ii:Vt.current,u.context=Hi(e,f)),u.state=e.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(Nc(e,n,f,i),u.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(n=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),n!==u.state&&Fa.enqueueReplaceState(u,u.state,null),ga(e,i,u,a),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function Xi(e,n){try{var i="",a=n;do i+=vg(a),a=a.return;while(a);var u=i}catch(f){u=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:n,stack:u,digest:null}}function Vl(e,n,i){return{value:e,source:null,stack:i??null,digest:n??null}}function bc(e,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var Qp=typeof WeakMap=="function"?WeakMap:Map;function Yd(e,n,i){i=or(-1,i),i.tag=3,i.payload={element:null};var a=n.value;return i.callback=function(){ya||(ya=!0,Uc=a),bc(e,n)},i}function Zd(e,n,i){i=or(-1,i),i.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var u=n.value;i.payload=function(){return a(u)},i.callback=function(){bc(e,n)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(i.callback=function(){bc(e,n),typeof a!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var g=n.stack;this.componentDidCatch(n.value,{componentStack:g!==null?g:""})}),i}function p0(e,n,i){var a=e.pingCache;if(a===null){a=e.pingCache=new Qp;var u=new Set;a.set(n,u)}else u=a.get(n),u===void 0&&(u=new Set,a.set(n,u));u.has(i)||(u.add(i),e=fx.bind(null,e,n,i),n.then(e,e))}function x0(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function m0(e,n,i,a,u){return e.mode&1?(e.flags|=65536,e.lanes=u,e):(e===n?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=or(-1,1),n.tag=2,Mr(i,n,1))),i.lanes|=1),e)}var $p=fr.ReactCurrentOwner,nn=!1;function Wt(e,n,i,a){n.child=e===null?Sd(n,null,i,a):Wi(n,e.child,i,a)}function w0(e,n,i,a,u){i=i.render;var f=n.ref;return Ui(n,u),a=Mu(e,n,i,a,f,u),i=Bu(),e!==null&&!nn?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,ur(e,n,u)):(nt&&i&&Au(n),n.flags|=1,Wt(e,n,a,u),n.child)}function y0(e,n,i,a,u){if(e===null){var f=i.type;return typeof f=="function"&&!Gu(f)&&f.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=f,Kd(e,n,f,a,u)):(e=qs(i.type,null,a,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!(e.lanes&u)){var g=f.memoizedProps;if(i=i.compare,i=i!==null?i:zo,i(g,a)&&e.ref===n.ref)return ur(e,n,u)}return n.flags|=1,e=Lr(f,a),e.ref=n.ref,e.return=n,n.child=e}function Kd(e,n,i,a,u){if(e!==null){var f=e.memoizedProps;if(zo(f,a)&&e.ref===n.ref)if(nn=!1,n.pendingProps=a=f,(e.lanes&u)!==0)e.flags&131072&&(nn=!0);else return n.lanes=e.lanes,ur(e,n,u)}return Rc(e,n,i,a,u)}function qd(e,n,i){var a=n.pendingProps,u=a.children,f=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(ki,fn),fn|=i;else{if(!(i&1073741824))return e=f!==null?f.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,qe(ki,fn),fn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=f!==null?f.baseLanes:i,qe(ki,fn),fn|=a}else f!==null?(a=f.baseLanes|i,n.memoizedState=null):a=i,qe(ki,fn),fn|=a;return Wt(e,n,u,i),n.child}function Qd(e,n){var i=n.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function Rc(e,n,i,a,u){var f=on(i)?ii:Vt.current;return f=Hi(n,f),Ui(n,u),i=Mu(e,n,i,a,f,u),a=Bu(),e!==null&&!nn?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,ur(e,n,u)):(nt&&a&&Au(n),n.flags|=1,Wt(e,n,i,u),n.child)}function E0(e,n,i,a,u){if(on(i)){var f=!0;ca(n)}else f=!1;if(Ui(n,u),n.stateNode===null)Ys(e,n),Xd(n,i,a),Tc(n,i,a,u),a=!0;else if(e===null){var g=n.stateNode,m=n.memoizedProps;g.props=m;var y=g.context,x=i.contextType;typeof x=="object"&&x!==null?x=In(x):(x=on(i)?ii:Vt.current,x=Hi(n,x));var v=i.getDerivedStateFromProps,S=typeof v=="function"||typeof g.getSnapshotBeforeUpdate=="function";S||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(m!==a||y!==x)&&g0(n,g,a,x),_r=!1;var R=n.memoizedState;g.state=R,ga(n,a,g,u),y=n.memoizedState,m!==a||R!==y||rn.current||_r?(typeof v=="function"&&(Nc(n,i,v,a),y=n.memoizedState),(m=_r||h0(n,i,m,a,R,y,x))?(S||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=y),g.props=a,g.state=y,g.context=x,a=m):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{g=n.stateNode,_d(e,n),m=n.memoizedProps,x=n.type===n.elementType?m:Dn(n.type,m),g.props=x,S=n.pendingProps,R=g.context,y=i.contextType,typeof y=="object"&&y!==null?y=In(y):(y=on(i)?ii:Vt.current,y=Hi(n,y));var L=i.getDerivedStateFromProps;(v=typeof L=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(m!==S||R!==y)&&g0(n,g,a,y),_r=!1,R=n.memoizedState,g.state=R,ga(n,a,g,u);var B=n.memoizedState;m!==S||R!==B||rn.current||_r?(typeof L=="function"&&(Nc(n,i,L,a),B=n.memoizedState),(x=_r||h0(n,i,x,a,R,B,y)||!1)?(v||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,B,y),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,B,y)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||m===e.memoizedProps&&R===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&R===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=B),g.props=a,g.state=B,g.context=y,a=x):(typeof g.componentDidUpdate!="function"||m===e.memoizedProps&&R===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&R===e.memoizedState||(n.flags|=1024),a=!1)}return Oc(e,n,i,a,f,u)}function Oc(e,n,i,a,u,f){Qd(e,n);var g=(n.flags&128)!==0;if(!a&&!g)return u&&o0(n,i,!1),ur(e,n,f);a=n.stateNode,$p.current=n;var m=g&&typeof i.getDerivedStateFromError!="function"?null:a.render();return n.flags|=1,e!==null&&g?(n.child=Wi(n,e.child,null,f),n.child=Wi(n,null,m,f)):Wt(e,n,m,f),n.memoizedState=a.state,u&&o0(n,i,!0),n.child}function $d(e){var n=e.stateNode;n.pendingContext?i0(e,n.pendingContext,n.pendingContext!==n.context):n.context&&i0(e,n.context,!1),Ru(e,n.containerInfo)}function C0(e,n,i,a,u){return zi(),vu(u),n.flags|=256,Wt(e,n,i,a),n.child}var Dc={dehydrated:null,treeContext:null,retryLane:0};function kc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Jd(e,n,i){var a=n.pendingProps,u=it.current,f=!1,g=(n.flags&128)!==0,m;if((m=g)||(m=e!==null&&e.memoizedState===null?!1:(u&2)!==0),m?(f=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),qe(it,u&1),e===null)return _c(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(g=a.children,e=a.fallback,f?(a=n.mode,f=n.child,g={mode:"hidden",children:g},!(a&1)&&f!==null?(f.childLanes=0,f.pendingProps=g):f=Va(g,a,0,null),e=ni(e,a,i,null),f.return=n,e.return=n,f.sibling=e,n.child=f,n.child.memoizedState=kc(i),n.memoizedState=Dc,e):Fu(n,g));if(u=e.memoizedState,u!==null&&(m=u.dehydrated,m!==null))return Jp(e,n,g,a,m,u,i);if(f){f=a.fallback,g=n.mode,u=e.child,m=u.sibling;var y={mode:"hidden",children:a.children};return!(g&1)&&n.child!==u?(a=n.child,a.childLanes=0,a.pendingProps=y,n.deletions=null):(a=Lr(u,y),a.subtreeFlags=u.subtreeFlags&14680064),m!==null?f=Lr(m,f):(f=ni(f,g,i,null),f.flags|=2),f.return=n,a.return=n,a.sibling=f,n.child=a,a=f,f=n.child,g=e.child.memoizedState,g=g===null?kc(i):{baseLanes:g.baseLanes|i,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=e.childLanes&~i,n.memoizedState=Dc,a}return f=e.child,e=f.sibling,a=Lr(f,{mode:"visible",children:a.children}),!(n.mode&1)&&(a.lanes=i),a.return=n,a.sibling=null,e!==null&&(i=n.deletions,i===null?(n.deletions=[e],n.flags|=16):i.push(e)),n.child=a,n.memoizedState=null,a}function Fu(e,n){return n=Va({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Ms(e,n,i,a){return a!==null&&vu(a),Wi(n,e.child,null,i),e=Fu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Jp(e,n,i,a,u,f,g){if(i)return n.flags&256?(n.flags&=-257,a=Vl(Error(ee(422))),Ms(e,n,g,a)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(f=a.fallback,u=n.mode,a=Va({mode:"visible",children:a.children},u,0,null),f=ni(f,u,g,null),f.flags|=2,a.return=n,f.return=n,a.sibling=f,n.child=a,n.mode&1&&Wi(n,e.child,null,g),n.child.memoizedState=kc(g),n.memoizedState=Dc,f);if(!(n.mode&1))return Ms(e,n,g,null);if(u.data==="$!"){if(a=u.nextSibling&&u.nextSibling.dataset,a)var m=a.dgst;return a=m,f=Error(ee(419)),a=Vl(f,a,void 0),Ms(e,n,g,a)}if(m=(g&e.childLanes)!==0,nn||m){if(a=Nt,a!==null){switch(g&-g){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=u&(a.suspendedLanes|g)?0:u,u!==0&&u!==f.retryLane&&(f.retryLane=u,cr(e,u),Pn(a,e,u,-1))}return Wu(),a=Vl(Error(ee(421))),Ms(e,n,g,a)}return u.data==="$?"?(n.flags|=128,n.child=e.child,n=dx.bind(null,e),u._reactRetry=n,null):(e=f.treeContext,dn=kr(u.nextSibling),hn=n,nt=!0,Mn=null,e!==null&&(An[Sn++]=rr,An[Sn++]=ir,An[Sn++]=oi,rr=e.id,ir=e.overflow,oi=n),n=Fu(n,a.children),n.flags|=4096,n)}function A0(e,n,i){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),Ic(e.return,n,i)}function Hl(e,n,i,a,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:u}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=i,f.tailMode=u)}function eh(e,n,i){var a=n.pendingProps,u=a.revealOrder,f=a.tail;if(Wt(e,n,a.children,i),a=it.current,a&2)a=a&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&A0(e,i,n);else if(e.tag===19)A0(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(qe(it,a),!(n.mode&1))n.memoizedState=null;else switch(u){case"forwards":for(i=n.child,u=null;i!==null;)e=i.alternate,e!==null&&pa(e)===null&&(u=i),i=i.sibling;i=u,i===null?(u=n.child,n.child=null):(u=i.sibling,i.sibling=null),Hl(n,!1,u,i,f);break;case"backwards":for(i=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&pa(e)===null){n.child=u;break}e=u.sibling,u.sibling=i,i=u,u=e}Hl(n,!0,i,null,f);break;case"together":Hl(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ys(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function ur(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),ai|=n.lanes,!(i&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(ee(153));if(n.child!==null){for(e=n.child,i=Lr(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=Lr(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function ex(e,n,i){switch(n.tag){case 3:$d(n),zi();break;case 5:Id(n);break;case 1:on(n.type)&&ca(n);break;case 4:Ru(n,n.stateNode.containerInfo);break;case 10:var a=n.type._context,u=n.memoizedProps.value;qe(da,a._currentValue),a._currentValue=u;break;case 13:if(a=n.memoizedState,a!==null)return a.dehydrated!==null?(qe(it,it.current&1),n.flags|=128,null):i&n.child.childLanes?Jd(e,n,i):(qe(it,it.current&1),e=ur(e,n,i),e!==null?e.sibling:null);qe(it,it.current&1);break;case 19:if(a=(i&n.childLanes)!==0,e.flags&128){if(a)return eh(e,n,i);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),qe(it,it.current),a)break;return null;case 22:case 23:return n.lanes=0,qd(e,n,i)}return ur(e,n,i)}var th,Mc,nh,rh;th=function(e,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Mc=function(){};nh=function(e,n,i,a){var u=e.memoizedProps;if(u!==a){e=n.stateNode,Jr($n.current);var f=null;switch(i){case"input":u=nc(e,u),a=nc(e,a),f=[];break;case"select":u=st({},u,{value:void 0}),a=st({},a,{value:void 0}),f=[];break;case"textarea":u=oc(e,u),a=oc(e,a),f=[];break;default:typeof u.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=aa)}ac(i,a);var g;i=null;for(x in u)if(!a.hasOwnProperty(x)&&u.hasOwnProperty(x)&&u[x]!=null)if(x==="style"){var m=u[x];for(g in m)m.hasOwnProperty(g)&&(i||(i={}),i[g]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(Po.hasOwnProperty(x)?f||(f=[]):(f=f||[]).push(x,null));for(x in a){var y=a[x];if(m=u!=null?u[x]:void 0,a.hasOwnProperty(x)&&y!==m&&(y!=null||m!=null))if(x==="style")if(m){for(g in m)!m.hasOwnProperty(g)||y&&y.hasOwnProperty(g)||(i||(i={}),i[g]="");for(g in y)y.hasOwnProperty(g)&&m[g]!==y[g]&&(i||(i={}),i[g]=y[g])}else i||(f||(f=[]),f.push(x,i)),i=y;else x==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,m=m?m.__html:void 0,y!=null&&m!==y&&(f=f||[]).push(x,y)):x==="children"?typeof y!="string"&&typeof y!="number"||(f=f||[]).push(x,""+y):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(Po.hasOwnProperty(x)?(y!=null&&x==="onScroll"&&$e("scroll",e),f||m===y||(f=[])):(f=f||[]).push(x,y))}i&&(f=f||[]).push("style",i);var x=f;(n.updateQueue=x)&&(n.flags|=4)}};rh=function(e,n,i,a){i!==a&&(n.flags|=4)};function mo(e,n){if(!nt)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ut(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(n)for(var u=e.child;u!==null;)i|=u.lanes|u.childLanes,a|=u.subtreeFlags&14680064,a|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)i|=u.lanes|u.childLanes,a|=u.subtreeFlags,a|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=a,e.childLanes=i,n}function tx(e,n,i){var a=n.pendingProps;switch(Su(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(n),null;case 1:return on(n.type)&&la(),Ut(n),null;case 3:return a=n.stateNode,Gi(),et(rn),et(Vt),Du(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ds(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Mn!==null&&(Hc(Mn),Mn=null))),Mc(e,n),Ut(n),null;case 5:Ou(n);var u=Jr(Zo.current);if(i=n.type,e!==null&&n.stateNode!=null)nh(e,n,i,a,u),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!a){if(n.stateNode===null)throw Error(ee(166));return Ut(n),null}if(e=Jr($n.current),Ds(n)){a=n.stateNode,i=n.type;var f=n.memoizedProps;switch(a[qn]=n,a[Xo]=f,e=(n.mode&1)!==0,i){case"dialog":$e("cancel",a),$e("close",a);break;case"iframe":case"object":case"embed":$e("load",a);break;case"video":case"audio":for(u=0;u<vo.length;u++)$e(vo[u],a);break;case"source":$e("error",a);break;case"img":case"image":case"link":$e("error",a),$e("load",a);break;case"details":$e("toggle",a);break;case"input":O1(a,f),$e("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!f.multiple},$e("invalid",a);break;case"textarea":k1(a,f),$e("invalid",a)}ac(i,f),u=null;for(var g in f)if(f.hasOwnProperty(g)){var m=f[g];g==="children"?typeof m=="string"?a.textContent!==m&&(f.suppressHydrationWarning!==!0&&Os(a.textContent,m,e),u=["children",m]):typeof m=="number"&&a.textContent!==""+m&&(f.suppressHydrationWarning!==!0&&Os(a.textContent,m,e),u=["children",""+m]):Po.hasOwnProperty(g)&&m!=null&&g==="onScroll"&&$e("scroll",a)}switch(i){case"input":Ss(a),D1(a,f,!0);break;case"textarea":Ss(a),M1(a);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(a.onclick=aa)}a=u,n.updateQueue=a,a!==null&&(n.flags|=4)}else{g=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Of(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=g.createElement(i,{is:a.is}):(e=g.createElement(i),i==="select"&&(g=e,a.multiple?g.multiple=!0:a.size&&(g.size=a.size))):e=g.createElementNS(e,i),e[qn]=n,e[Xo]=a,th(e,n,!1,!1),n.stateNode=e;e:{switch(g=lc(i,a),i){case"dialog":$e("cancel",e),$e("close",e),u=a;break;case"iframe":case"object":case"embed":$e("load",e),u=a;break;case"video":case"audio":for(u=0;u<vo.length;u++)$e(vo[u],e);u=a;break;case"source":$e("error",e),u=a;break;case"img":case"image":case"link":$e("error",e),$e("load",e),u=a;break;case"details":$e("toggle",e),u=a;break;case"input":O1(e,a),u=nc(e,a),$e("invalid",e);break;case"option":u=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},u=st({},a,{value:void 0}),$e("invalid",e);break;case"textarea":k1(e,a),u=oc(e,a),$e("invalid",e);break;default:u=a}ac(i,u),m=u;for(f in m)if(m.hasOwnProperty(f)){var y=m[f];f==="style"?Mf(e,y):f==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,y!=null&&Df(e,y)):f==="children"?typeof y=="string"?(i!=="textarea"||y!=="")&&Lo(e,y):typeof y=="number"&&Lo(e,""+y):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Po.hasOwnProperty(f)?y!=null&&f==="onScroll"&&$e("scroll",e):y!=null&&lu(e,f,y,g))}switch(i){case"input":Ss(e),D1(e,a,!1);break;case"textarea":Ss(e),M1(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Fr(a.value));break;case"select":e.multiple=!!a.multiple,f=a.value,f!=null?Bi(e,!!a.multiple,f,!1):a.defaultValue!=null&&Bi(e,!!a.multiple,a.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=aa)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Ut(n),null;case 6:if(e&&n.stateNode!=null)rh(e,n,e.memoizedProps,a);else{if(typeof a!="string"&&n.stateNode===null)throw Error(ee(166));if(i=Jr(Zo.current),Jr($n.current),Ds(n)){if(a=n.stateNode,i=n.memoizedProps,a[qn]=n,(f=a.nodeValue!==i)&&(e=hn,e!==null))switch(e.tag){case 3:Os(a.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Os(a.nodeValue,i,(e.mode&1)!==0)}f&&(n.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[qn]=n,n.stateNode=a}return Ut(n),null;case 13:if(et(it),a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(nt&&dn!==null&&n.mode&1&&!(n.flags&128))Cd(),zi(),n.flags|=98560,f=!1;else if(f=Ds(n),a!==null&&a.dehydrated!==null){if(e===null){if(!f)throw Error(ee(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(ee(317));f[qn]=n}else zi(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Ut(n),f=!1}else Mn!==null&&(Hc(Mn),Mn=null),f=!0;if(!f)return n.flags&65536?n:null}return n.flags&128?(n.lanes=i,n):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(n.child.flags|=8192,n.mode&1&&(e===null||it.current&1?St===0&&(St=3):Wu())),n.updateQueue!==null&&(n.flags|=4),Ut(n),null);case 4:return Gi(),Mc(e,n),e===null&&Wo(n.stateNode.containerInfo),Ut(n),null;case 10:return Nu(n.type._context),Ut(n),null;case 17:return on(n.type)&&la(),Ut(n),null;case 19:if(et(it),f=n.memoizedState,f===null)return Ut(n),null;if(a=(n.flags&128)!==0,g=f.rendering,g===null)if(a)mo(f,!1);else{if(St!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(g=pa(e),g!==null){for(n.flags|=128,mo(f,!1),a=g.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),n.subtreeFlags=0,a=i,i=n.child;i!==null;)f=i,e=a,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,e=g.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return qe(it,it.current&1|2),n.child}e=e.sibling}f.tail!==null&&pt()>Yi&&(n.flags|=128,a=!0,mo(f,!1),n.lanes=4194304)}else{if(!a)if(e=pa(g),e!==null){if(n.flags|=128,a=!0,i=e.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),mo(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!nt)return Ut(n),null}else 2*pt()-f.renderingStartTime>Yi&&i!==1073741824&&(n.flags|=128,a=!0,mo(f,!1),n.lanes=4194304);f.isBackwards?(g.sibling=n.child,n.child=g):(i=f.last,i!==null?i.sibling=g:n.child=g,f.last=g)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=pt(),n.sibling=null,i=it.current,qe(it,a?i&1|2:i&1),n):(Ut(n),null);case 22:case 23:return zu(),a=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(n.flags|=8192),a&&n.mode&1?fn&1073741824&&(Ut(n),n.subtreeFlags&6&&(n.flags|=8192)):Ut(n),null;case 24:return null;case 25:return null}throw Error(ee(156,n.tag))}function nx(e,n){switch(Su(n),n.tag){case 1:return on(n.type)&&la(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Gi(),et(rn),et(Vt),Du(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return Ou(n),null;case 13:if(et(it),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(ee(340));zi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return et(it),null;case 4:return Gi(),null;case 10:return Nu(n.type._context),null;case 22:case 23:return zu(),null;case 24:return null;default:return null}}var Bs=!1,jt=!1,rx=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Di(e,n){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){dt(e,n,a)}else i.current=null}function Bc(e,n,i){try{i()}catch(a){dt(e,n,a)}}var S0=!1;function ix(e,n){if(wc=ia,e=ld(),Cu(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var u=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var g=0,m=-1,y=-1,x=0,v=0,S=e,R=null;t:for(;;){for(var L;S!==i||u!==0&&S.nodeType!==3||(m=g+u),S!==f||a!==0&&S.nodeType!==3||(y=g+a),S.nodeType===3&&(g+=S.nodeValue.length),(L=S.firstChild)!==null;)R=S,S=L;for(;;){if(S===e)break t;if(R===i&&++x===u&&(m=g),R===f&&++v===a&&(y=g),(L=S.nextSibling)!==null)break;S=R,R=S.parentNode}S=L}i=m===-1||y===-1?null:{start:m,end:y}}else i=null}i=i||{start:0,end:0}}else i=null;for(yc={focusedElem:e,selectionRange:i},ia=!1,fe=n;fe!==null;)if(n=fe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,fe=e;else for(;fe!==null;){n=fe;try{var B=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(B!==null){var k=B.memoizedProps,X=B.memoizedState,O=n.stateNode,I=O.getSnapshotBeforeUpdate(n.elementType===n.type?k:Dn(n.type,k),X);O.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var b=n.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(j){dt(n,n.return,j)}if(e=n.sibling,e!==null){e.return=n.return,fe=e;break}fe=n.return}return B=S0,S0=!1,B}function ko(e,n,i){var a=n.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&e)===e){var f=u.destroy;u.destroy=void 0,f!==void 0&&Bc(n,i,f)}u=u.next}while(u!==a)}}function Ua(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.create;i.destroy=a()}i=i.next}while(i!==n)}}function Pc(e){var n=e.ref;if(n!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof n=="function"?n(e):n.current=e}}function ih(e){var n=e.alternate;n!==null&&(e.alternate=null,ih(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[qn],delete n[Xo],delete n[Ac],delete n[jp],delete n[Vp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function oh(e){return e.tag===5||e.tag===3||e.tag===4}function v0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||oh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lc(e,n,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(e,n):i.insertBefore(e,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(e,i)):(n=i,n.appendChild(e)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=aa));else if(a!==4&&(e=e.child,e!==null))for(Lc(e,n,i),e=e.sibling;e!==null;)Lc(e,n,i),e=e.sibling}function Fc(e,n,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Fc(e,n,i),e=e.sibling;e!==null;)Fc(e,n,i),e=e.sibling}var kt=null,kn=!1;function Cr(e,n,i){for(i=i.child;i!==null;)sh(e,n,i),i=i.sibling}function sh(e,n,i){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(Oa,i)}catch{}switch(i.tag){case 5:jt||Di(i,n);case 6:var a=kt,u=kn;kt=null,Cr(e,n,i),kt=a,kn=u,kt!==null&&(kn?(e=kt,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):kt.removeChild(i.stateNode));break;case 18:kt!==null&&(kn?(e=kt,i=i.stateNode,e.nodeType===8?Bl(e.parentNode,i):e.nodeType===1&&Bl(e,i),Vo(e)):Bl(kt,i.stateNode));break;case 4:a=kt,u=kn,kt=i.stateNode.containerInfo,kn=!0,Cr(e,n,i),kt=a,kn=u;break;case 0:case 11:case 14:case 15:if(!jt&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){u=a=a.next;do{var f=u,g=f.destroy;f=f.tag,g!==void 0&&(f&2||f&4)&&Bc(i,n,g),u=u.next}while(u!==a)}Cr(e,n,i);break;case 1:if(!jt&&(Di(i,n),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(m){dt(i,n,m)}Cr(e,n,i);break;case 21:Cr(e,n,i);break;case 22:i.mode&1?(jt=(a=jt)||i.memoizedState!==null,Cr(e,n,i),jt=a):Cr(e,n,i);break;default:Cr(e,n,i)}}function _0(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new rx),n.forEach(function(a){var u=hx.bind(null,e,a);i.has(a)||(i.add(a),a.then(u,u))})}}function On(e,n){var i=n.deletions;if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];try{var f=e,g=n,m=g;e:for(;m!==null;){switch(m.tag){case 5:kt=m.stateNode,kn=!1;break e;case 3:kt=m.stateNode.containerInfo,kn=!0;break e;case 4:kt=m.stateNode.containerInfo,kn=!0;break e}m=m.return}if(kt===null)throw Error(ee(160));sh(f,g,u),kt=null,kn=!1;var y=u.alternate;y!==null&&(y.return=null),u.return=null}catch(x){dt(u,n,x)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)ah(n,e),n=n.sibling}function ah(e,n){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(On(n,e),Zn(e),a&4){try{ko(3,e,e.return),Ua(3,e)}catch(k){dt(e,e.return,k)}try{ko(5,e,e.return)}catch(k){dt(e,e.return,k)}}break;case 1:On(n,e),Zn(e),a&512&&i!==null&&Di(i,i.return);break;case 5:if(On(n,e),Zn(e),a&512&&i!==null&&Di(i,i.return),e.flags&32){var u=e.stateNode;try{Lo(u,"")}catch(k){dt(e,e.return,k)}}if(a&4&&(u=e.stateNode,u!=null)){var f=e.memoizedProps,g=i!==null?i.memoizedProps:f,m=e.type,y=e.updateQueue;if(e.updateQueue=null,y!==null)try{m==="input"&&f.type==="radio"&&f.name!=null&&bf(u,f),lc(m,g);var x=lc(m,f);for(g=0;g<y.length;g+=2){var v=y[g],S=y[g+1];v==="style"?Mf(u,S):v==="dangerouslySetInnerHTML"?Df(u,S):v==="children"?Lo(u,S):lu(u,v,S,x)}switch(m){case"input":rc(u,f);break;case"textarea":Rf(u,f);break;case"select":var R=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!f.multiple;var L=f.value;L!=null?Bi(u,!!f.multiple,L,!1):R!==!!f.multiple&&(f.defaultValue!=null?Bi(u,!!f.multiple,f.defaultValue,!0):Bi(u,!!f.multiple,f.multiple?[]:"",!1))}u[Xo]=f}catch(k){dt(e,e.return,k)}}break;case 6:if(On(n,e),Zn(e),a&4){if(e.stateNode===null)throw Error(ee(162));u=e.stateNode,f=e.memoizedProps;try{u.nodeValue=f}catch(k){dt(e,e.return,k)}}break;case 3:if(On(n,e),Zn(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{Vo(n.containerInfo)}catch(k){dt(e,e.return,k)}break;case 4:On(n,e),Zn(e);break;case 13:On(n,e),Zn(e),u=e.child,u.flags&8192&&(f=u.memoizedState!==null,u.stateNode.isHidden=f,!f||u.alternate!==null&&u.alternate.memoizedState!==null||(Vu=pt())),a&4&&_0(e);break;case 22:if(v=i!==null&&i.memoizedState!==null,e.mode&1?(jt=(x=jt)||v,On(n,e),jt=x):On(n,e),Zn(e),a&8192){if(x=e.memoizedState!==null,(e.stateNode.isHidden=x)&&!v&&e.mode&1)for(fe=e,v=e.child;v!==null;){for(S=fe=v;fe!==null;){switch(R=fe,L=R.child,R.tag){case 0:case 11:case 14:case 15:ko(4,R,R.return);break;case 1:Di(R,R.return);var B=R.stateNode;if(typeof B.componentWillUnmount=="function"){a=R,i=R.return;try{n=a,B.props=n.memoizedProps,B.state=n.memoizedState,B.componentWillUnmount()}catch(k){dt(a,i,k)}}break;case 5:Di(R,R.return);break;case 22:if(R.memoizedState!==null){N0(S);continue}}L!==null?(L.return=R,fe=L):N0(S)}v=v.sibling}e:for(v=null,S=e;;){if(S.tag===5){if(v===null){v=S;try{u=S.stateNode,x?(f=u.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(m=S.stateNode,y=S.memoizedProps.style,g=y!=null&&y.hasOwnProperty("display")?y.display:null,m.style.display=kf("display",g))}catch(k){dt(e,e.return,k)}}}else if(S.tag===6){if(v===null)try{S.stateNode.nodeValue=x?"":S.memoizedProps}catch(k){dt(e,e.return,k)}}else if((S.tag!==22&&S.tag!==23||S.memoizedState===null||S===e)&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===e)break e;for(;S.sibling===null;){if(S.return===null||S.return===e)break e;v===S&&(v=null),S=S.return}v===S&&(v=null),S.sibling.return=S.return,S=S.sibling}}break;case 19:On(n,e),Zn(e),a&4&&_0(e);break;case 21:break;default:On(n,e),Zn(e)}}function Zn(e){var n=e.flags;if(n&2){try{e:{for(var i=e.return;i!==null;){if(oh(i)){var a=i;break e}i=i.return}throw Error(ee(160))}switch(a.tag){case 5:var u=a.stateNode;a.flags&32&&(Lo(u,""),a.flags&=-33);var f=v0(e);Fc(e,f,u);break;case 3:case 4:var g=a.stateNode.containerInfo,m=v0(e);Lc(e,m,g);break;default:throw Error(ee(161))}}catch(y){dt(e,e.return,y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ox(e,n,i){fe=e,lh(e)}function lh(e,n,i){for(var a=(e.mode&1)!==0;fe!==null;){var u=fe,f=u.child;if(u.tag===22&&a){var g=u.memoizedState!==null||Bs;if(!g){var m=u.alternate,y=m!==null&&m.memoizedState!==null||jt;m=Bs;var x=jt;if(Bs=g,(jt=y)&&!x)for(fe=u;fe!==null;)g=fe,y=g.child,g.tag===22&&g.memoizedState!==null?T0(u):y!==null?(y.return=g,fe=y):T0(u);for(;f!==null;)fe=f,lh(f),f=f.sibling;fe=u,Bs=m,jt=x}I0(e)}else u.subtreeFlags&8772&&f!==null?(f.return=u,fe=f):I0(e)}}function I0(e){for(;fe!==null;){var n=fe;if(n.flags&8772){var i=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:jt||Ua(5,n);break;case 1:var a=n.stateNode;if(n.flags&4&&!jt)if(i===null)a.componentDidMount();else{var u=n.elementType===n.type?i.memoizedProps:Dn(n.type,i.memoizedProps);a.componentDidUpdate(u,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var f=n.updateQueue;f!==null&&u0(n,f,a);break;case 3:var g=n.updateQueue;if(g!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}u0(n,g,i)}break;case 5:var m=n.stateNode;if(i===null&&n.flags&4){i=m;var y=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":y.autoFocus&&i.focus();break;case"img":y.src&&(i.src=y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var x=n.alternate;if(x!==null){var v=x.memoizedState;if(v!==null){var S=v.dehydrated;S!==null&&Vo(S)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}jt||n.flags&512&&Pc(n)}catch(R){dt(n,n.return,R)}}if(n===e){fe=null;break}if(i=n.sibling,i!==null){i.return=n.return,fe=i;break}fe=n.return}}function N0(e){for(;fe!==null;){var n=fe;if(n===e){fe=null;break}var i=n.sibling;if(i!==null){i.return=n.return,fe=i;break}fe=n.return}}function T0(e){for(;fe!==null;){var n=fe;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{Ua(4,n)}catch(y){dt(n,i,y)}break;case 1:var a=n.stateNode;if(typeof a.componentDidMount=="function"){var u=n.return;try{a.componentDidMount()}catch(y){dt(n,u,y)}}var f=n.return;try{Pc(n)}catch(y){dt(n,f,y)}break;case 5:var g=n.return;try{Pc(n)}catch(y){dt(n,g,y)}}}catch(y){dt(n,n.return,y)}if(n===e){fe=null;break}var m=n.sibling;if(m!==null){m.return=n.return,fe=m;break}fe=n.return}}var sx=Math.ceil,wa=fr.ReactCurrentDispatcher,Uu=fr.ReactCurrentOwner,_n=fr.ReactCurrentBatchConfig,Fe=0,Nt=null,wt=null,Mt=0,fn=0,ki=Vr(0),St=0,$o=null,ai=0,ja=0,ju=0,Mo=null,tn=null,Vu=0,Yi=1/0,tr=null,ya=!1,Uc=null,Br=null,Ps=!1,br=null,Ea=0,Bo=0,jc=null,Zs=-1,Ks=0;function Gt(){return Fe&6?pt():Zs!==-1?Zs:Zs=pt()}function Pr(e){return e.mode&1?Fe&2&&Mt!==0?Mt&-Mt:zp.transition!==null?(Ks===0&&(Ks=Xf()),Ks):(e=ze,e!==0||(e=window.event,e=e===void 0?16:Jf(e.type)),e):1}function Pn(e,n,i,a){if(50<Bo)throw Bo=0,jc=null,Error(ee(185));ts(e,i,a),(!(Fe&2)||e!==Nt)&&(e===Nt&&(!(Fe&2)&&(ja|=i),St===4&&Nr(e,Mt)),sn(e,a),i===1&&Fe===0&&!(n.mode&1)&&(Yi=pt()+500,Pa&&Hr()))}function sn(e,n){var i=e.callbackNode;zg(e,n);var a=ra(e,e===Nt?Mt:0);if(a===0)i!==null&&L1(i),e.callbackNode=null,e.callbackPriority=0;else if(n=a&-a,e.callbackPriority!==n){if(i!=null&&L1(i),n===1)e.tag===0?Hp(b0.bind(null,e)):wd(b0.bind(null,e)),Fp(function(){!(Fe&6)&&Hr()}),i=null;else{switch(Yf(a)){case 1:i=hu;break;case 4:i=Wf;break;case 16:i=na;break;case 536870912:i=Gf;break;default:i=na}i=xh(i,ch.bind(null,e))}e.callbackPriority=n,e.callbackNode=i}}function ch(e,n){if(Zs=-1,Ks=0,Fe&6)throw Error(ee(327));var i=e.callbackNode;if(ji()&&e.callbackNode!==i)return null;var a=ra(e,e===Nt?Mt:0);if(a===0)return null;if(a&30||a&e.expiredLanes||n)n=Ca(e,a);else{n=a;var u=Fe;Fe|=2;var f=fh();(Nt!==e||Mt!==n)&&(tr=null,Yi=pt()+500,ti(e,n));do try{cx();break}catch(m){uh(e,m)}while(!0);Iu(),wa.current=f,Fe=u,wt!==null?n=0:(Nt=null,Mt=0,n=St)}if(n!==0){if(n===2&&(u=hc(e),u!==0&&(a=u,n=Vc(e,u))),n===1)throw i=$o,ti(e,0),Nr(e,a),sn(e,pt()),i;if(n===6)Nr(e,a);else{if(u=e.current.alternate,!(a&30)&&!ax(u)&&(n=Ca(e,a),n===2&&(f=hc(e),f!==0&&(a=f,n=Vc(e,f))),n===1))throw i=$o,ti(e,0),Nr(e,a),sn(e,pt()),i;switch(e.finishedWork=u,e.finishedLanes=a,n){case 0:case 1:throw Error(ee(345));case 2:qr(e,tn,tr);break;case 3:if(Nr(e,a),(a&130023424)===a&&(n=Vu+500-pt(),10<n)){if(ra(e,0)!==0)break;if(u=e.suspendedLanes,(u&a)!==a){Gt(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=Cc(qr.bind(null,e,tn,tr),n);break}qr(e,tn,tr);break;case 4:if(Nr(e,a),(a&4194240)===a)break;for(n=e.eventTimes,u=-1;0<a;){var g=31-Bn(a);f=1<<g,g=n[g],g>u&&(u=g),a&=~f}if(a=u,a=pt()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*sx(a/1960))-a,10<a){e.timeoutHandle=Cc(qr.bind(null,e,tn,tr),a);break}qr(e,tn,tr);break;case 5:qr(e,tn,tr);break;default:throw Error(ee(329))}}}return sn(e,pt()),e.callbackNode===i?ch.bind(null,e):null}function Vc(e,n){var i=Mo;return e.current.memoizedState.isDehydrated&&(ti(e,n).flags|=256),e=Ca(e,n),e!==2&&(n=tn,tn=i,n!==null&&Hc(n)),e}function Hc(e){tn===null?tn=e:tn.push.apply(tn,e)}function ax(e){for(var n=e;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var u=i[a],f=u.getSnapshot;u=u.value;try{if(!Ln(f(),u))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Nr(e,n){for(n&=~ju,n&=~ja,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var i=31-Bn(n),a=1<<i;e[i]=-1,n&=~a}}function b0(e){if(Fe&6)throw Error(ee(327));ji();var n=ra(e,0);if(!(n&1))return sn(e,pt()),null;var i=Ca(e,n);if(e.tag!==0&&i===2){var a=hc(e);a!==0&&(n=a,i=Vc(e,a))}if(i===1)throw i=$o,ti(e,0),Nr(e,n),sn(e,pt()),i;if(i===6)throw Error(ee(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,qr(e,tn,tr),sn(e,pt()),null}function Hu(e,n){var i=Fe;Fe|=1;try{return e(n)}finally{Fe=i,Fe===0&&(Yi=pt()+500,Pa&&Hr())}}function li(e){br!==null&&br.tag===0&&!(Fe&6)&&ji();var n=Fe;Fe|=1;var i=_n.transition,a=ze;try{if(_n.transition=null,ze=1,e)return e()}finally{ze=a,_n.transition=i,Fe=n,!(Fe&6)&&Hr()}}function zu(){fn=ki.current,et(ki)}function ti(e,n){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Lp(i)),wt!==null)for(i=wt.return;i!==null;){var a=i;switch(Su(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&la();break;case 3:Gi(),et(rn),et(Vt),Du();break;case 5:Ou(a);break;case 4:Gi();break;case 13:et(it);break;case 19:et(it);break;case 10:Nu(a.type._context);break;case 22:case 23:zu()}i=i.return}if(Nt=e,wt=e=Lr(e.current,null),Mt=fn=n,St=0,$o=null,ju=ja=ai=0,tn=Mo=null,$r!==null){for(n=0;n<$r.length;n++)if(i=$r[n],a=i.interleaved,a!==null){i.interleaved=null;var u=a.next,f=i.pending;if(f!==null){var g=f.next;f.next=u,a.next=g}i.pending=a}$r=null}return e}function uh(e,n){do{var i=wt;try{if(Iu(),Gs.current=ma,xa){for(var a=ot.memoizedState;a!==null;){var u=a.queue;u!==null&&(u.pending=null),a=a.next}xa=!1}if(si=0,It=At=ot=null,Do=!1,Ko=0,Uu.current=null,i===null||i.return===null){St=1,$o=n,wt=null;break}e:{var f=e,g=i.return,m=i,y=n;if(n=Mt,m.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){var x=y,v=m,S=v.tag;if(!(v.mode&1)&&(S===0||S===11||S===15)){var R=v.alternate;R?(v.updateQueue=R.updateQueue,v.memoizedState=R.memoizedState,v.lanes=R.lanes):(v.updateQueue=null,v.memoizedState=null)}var L=x0(g);if(L!==null){L.flags&=-257,m0(L,g,m,f,n),L.mode&1&&p0(f,x,n),n=L,y=x;var B=n.updateQueue;if(B===null){var k=new Set;k.add(y),n.updateQueue=k}else B.add(y);break e}else{if(!(n&1)){p0(f,x,n),Wu();break e}y=Error(ee(426))}}else if(nt&&m.mode&1){var X=x0(g);if(X!==null){!(X.flags&65536)&&(X.flags|=256),m0(X,g,m,f,n),vu(Xi(y,m));break e}}f=y=Xi(y,m),St!==4&&(St=2),Mo===null?Mo=[f]:Mo.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,n&=-n,f.lanes|=n;var O=Yd(f,y,n);c0(f,O);break e;case 1:m=y;var I=f.type,b=f.stateNode;if(!(f.flags&128)&&(typeof I.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Br===null||!Br.has(b)))){f.flags|=65536,n&=-n,f.lanes|=n;var j=Zd(f,m,n);c0(f,j);break e}}f=f.return}while(f!==null)}hh(i)}catch(K){n=K,wt===i&&i!==null&&(wt=i=i.return);continue}break}while(!0)}function fh(){var e=wa.current;return wa.current=ma,e===null?ma:e}function Wu(){(St===0||St===3||St===2)&&(St=4),Nt===null||!(ai&268435455)&&!(ja&268435455)||Nr(Nt,Mt)}function Ca(e,n){var i=Fe;Fe|=2;var a=fh();(Nt!==e||Mt!==n)&&(tr=null,ti(e,n));do try{lx();break}catch(u){uh(e,u)}while(!0);if(Iu(),Fe=i,wa.current=a,wt!==null)throw Error(ee(261));return Nt=null,Mt=0,St}function lx(){for(;wt!==null;)dh(wt)}function cx(){for(;wt!==null&&!Mg();)dh(wt)}function dh(e){var n=ph(e.alternate,e,fn);e.memoizedProps=e.pendingProps,n===null?hh(e):wt=n,Uu.current=null}function hh(e){var n=e;do{var i=n.alternate;if(e=n.return,n.flags&32768){if(i=nx(i,n),i!==null){i.flags&=32767,wt=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{St=6,wt=null;return}}else if(i=tx(i,n,fn),i!==null){wt=i;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=e}while(n!==null);St===0&&(St=5)}function qr(e,n,i){var a=ze,u=_n.transition;try{_n.transition=null,ze=1,ux(e,n,i,a)}finally{_n.transition=u,ze=a}return null}function ux(e,n,i,a){do ji();while(br!==null);if(Fe&6)throw Error(ee(327));i=e.finishedWork;var u=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(ee(177));e.callbackNode=null,e.callbackPriority=0;var f=i.lanes|i.childLanes;if(Wg(e,f),e===Nt&&(wt=Nt=null,Mt=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||Ps||(Ps=!0,xh(na,function(){return ji(),null})),f=(i.flags&15990)!==0,i.subtreeFlags&15990||f){f=_n.transition,_n.transition=null;var g=ze;ze=1;var m=Fe;Fe|=4,Uu.current=null,ix(e,i),ah(i,e),Rp(yc),ia=!!wc,yc=wc=null,e.current=i,ox(i),Bg(),Fe=m,ze=g,_n.transition=f}else e.current=i;if(Ps&&(Ps=!1,br=e,Ea=u),f=e.pendingLanes,f===0&&(Br=null),Fg(i.stateNode),sn(e,pt()),n!==null)for(a=e.onRecoverableError,i=0;i<n.length;i++)u=n[i],a(u.value,{componentStack:u.stack,digest:u.digest});if(ya)throw ya=!1,e=Uc,Uc=null,e;return Ea&1&&e.tag!==0&&ji(),f=e.pendingLanes,f&1?e===jc?Bo++:(Bo=0,jc=e):Bo=0,Hr(),null}function ji(){if(br!==null){var e=Yf(Ea),n=_n.transition,i=ze;try{if(_n.transition=null,ze=16>e?16:e,br===null)var a=!1;else{if(e=br,br=null,Ea=0,Fe&6)throw Error(ee(331));var u=Fe;for(Fe|=4,fe=e.current;fe!==null;){var f=fe,g=f.child;if(fe.flags&16){var m=f.deletions;if(m!==null){for(var y=0;y<m.length;y++){var x=m[y];for(fe=x;fe!==null;){var v=fe;switch(v.tag){case 0:case 11:case 15:ko(8,v,f)}var S=v.child;if(S!==null)S.return=v,fe=S;else for(;fe!==null;){v=fe;var R=v.sibling,L=v.return;if(ih(v),v===x){fe=null;break}if(R!==null){R.return=L,fe=R;break}fe=L}}}var B=f.alternate;if(B!==null){var k=B.child;if(k!==null){B.child=null;do{var X=k.sibling;k.sibling=null,k=X}while(k!==null)}}fe=f}}if(f.subtreeFlags&2064&&g!==null)g.return=f,fe=g;else e:for(;fe!==null;){if(f=fe,f.flags&2048)switch(f.tag){case 0:case 11:case 15:ko(9,f,f.return)}var O=f.sibling;if(O!==null){O.return=f.return,fe=O;break e}fe=f.return}}var I=e.current;for(fe=I;fe!==null;){g=fe;var b=g.child;if(g.subtreeFlags&2064&&b!==null)b.return=g,fe=b;else e:for(g=I;fe!==null;){if(m=fe,m.flags&2048)try{switch(m.tag){case 0:case 11:case 15:Ua(9,m)}}catch(K){dt(m,m.return,K)}if(m===g){fe=null;break e}var j=m.sibling;if(j!==null){j.return=m.return,fe=j;break e}fe=m.return}}if(Fe=u,Hr(),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(Oa,e)}catch{}a=!0}return a}finally{ze=i,_n.transition=n}}return!1}function R0(e,n,i){n=Xi(i,n),n=Yd(e,n,1),e=Mr(e,n,1),n=Gt(),e!==null&&(ts(e,1,n),sn(e,n))}function dt(e,n,i){if(e.tag===3)R0(e,e,i);else for(;n!==null;){if(n.tag===3){R0(n,e,i);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Br===null||!Br.has(a))){e=Xi(i,e),e=Zd(n,e,1),n=Mr(n,e,1),e=Gt(),n!==null&&(ts(n,1,e),sn(n,e));break}}n=n.return}}function fx(e,n,i){var a=e.pingCache;a!==null&&a.delete(n),n=Gt(),e.pingedLanes|=e.suspendedLanes&i,Nt===e&&(Mt&i)===i&&(St===4||St===3&&(Mt&130023424)===Mt&&500>pt()-Vu?ti(e,0):ju|=i),sn(e,n)}function gh(e,n){n===0&&(e.mode&1?(n=Is,Is<<=1,!(Is&130023424)&&(Is=4194304)):n=1);var i=Gt();e=cr(e,n),e!==null&&(ts(e,n,i),sn(e,i))}function dx(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),gh(e,i)}function hx(e,n){var i=0;switch(e.tag){case 13:var a=e.stateNode,u=e.memoizedState;u!==null&&(i=u.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(ee(314))}a!==null&&a.delete(n),gh(e,i)}var ph;ph=function(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps||rn.current)nn=!0;else{if(!(e.lanes&i)&&!(n.flags&128))return nn=!1,ex(e,n,i);nn=!!(e.flags&131072)}else nn=!1,nt&&n.flags&1048576&&yd(n,fa,n.index);switch(n.lanes=0,n.tag){case 2:var a=n.type;Ys(e,n),e=n.pendingProps;var u=Hi(n,Vt.current);Ui(n,i),u=Mu(null,n,a,e,u,i);var f=Bu();return n.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,on(a)?(f=!0,ca(n)):f=!1,n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,bu(n),u.updater=Fa,n.stateNode=u,u._reactInternals=n,Tc(n,a,e,i),n=Oc(null,n,a,!0,f,i)):(n.tag=0,nt&&f&&Au(n),Wt(null,n,u,i),n=n.child),n;case 16:a=n.elementType;e:{switch(Ys(e,n),e=n.pendingProps,u=a._init,a=u(a._payload),n.type=a,u=n.tag=px(a),e=Dn(a,e),u){case 0:n=Rc(null,n,a,e,i);break e;case 1:n=E0(null,n,a,e,i);break e;case 11:n=w0(null,n,a,e,i);break e;case 14:n=y0(null,n,a,Dn(a.type,e),i);break e}throw Error(ee(306,a,""))}return n;case 0:return a=n.type,u=n.pendingProps,u=n.elementType===a?u:Dn(a,u),Rc(e,n,a,u,i);case 1:return a=n.type,u=n.pendingProps,u=n.elementType===a?u:Dn(a,u),E0(e,n,a,u,i);case 3:e:{if($d(n),e===null)throw Error(ee(387));a=n.pendingProps,f=n.memoizedState,u=f.element,_d(e,n),ga(n,a,null,i);var g=n.memoizedState;if(a=g.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){u=Xi(Error(ee(423)),n),n=C0(e,n,a,i,u);break e}else if(a!==u){u=Xi(Error(ee(424)),n),n=C0(e,n,a,i,u);break e}else for(dn=kr(n.stateNode.containerInfo.firstChild),hn=n,nt=!0,Mn=null,i=Sd(n,null,a,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(zi(),a===u){n=ur(e,n,i);break e}Wt(e,n,a,i)}n=n.child}return n;case 5:return Id(n),e===null&&_c(n),a=n.type,u=n.pendingProps,f=e!==null?e.memoizedProps:null,g=u.children,Ec(a,u)?g=null:f!==null&&Ec(a,f)&&(n.flags|=32),Qd(e,n),Wt(e,n,g,i),n.child;case 6:return e===null&&_c(n),null;case 13:return Jd(e,n,i);case 4:return Ru(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=Wi(n,null,a,i):Wt(e,n,a,i),n.child;case 11:return a=n.type,u=n.pendingProps,u=n.elementType===a?u:Dn(a,u),w0(e,n,a,u,i);case 7:return Wt(e,n,n.pendingProps,i),n.child;case 8:return Wt(e,n,n.pendingProps.children,i),n.child;case 12:return Wt(e,n,n.pendingProps.children,i),n.child;case 10:e:{if(a=n.type._context,u=n.pendingProps,f=n.memoizedProps,g=u.value,qe(da,a._currentValue),a._currentValue=g,f!==null)if(Ln(f.value,g)){if(f.children===u.children&&!rn.current){n=ur(e,n,i);break e}}else for(f=n.child,f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){g=f.child;for(var y=m.firstContext;y!==null;){if(y.context===a){if(f.tag===1){y=or(-1,i&-i),y.tag=2;var x=f.updateQueue;if(x!==null){x=x.shared;var v=x.pending;v===null?y.next=y:(y.next=v.next,v.next=y),x.pending=y}}f.lanes|=i,y=f.alternate,y!==null&&(y.lanes|=i),Ic(f.return,i,n),m.lanes|=i;break}y=y.next}}else if(f.tag===10)g=f.type===n.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(ee(341));g.lanes|=i,m=g.alternate,m!==null&&(m.lanes|=i),Ic(g,i,n),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===n){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}Wt(e,n,u.children,i),n=n.child}return n;case 9:return u=n.type,a=n.pendingProps.children,Ui(n,i),u=In(u),a=a(u),n.flags|=1,Wt(e,n,a,i),n.child;case 14:return a=n.type,u=Dn(a,n.pendingProps),u=Dn(a.type,u),y0(e,n,a,u,i);case 15:return Kd(e,n,n.type,n.pendingProps,i);case 17:return a=n.type,u=n.pendingProps,u=n.elementType===a?u:Dn(a,u),Ys(e,n),n.tag=1,on(a)?(e=!0,ca(n)):e=!1,Ui(n,i),Xd(n,a,u),Tc(n,a,u,i),Oc(null,n,a,!0,e,i);case 19:return eh(e,n,i);case 22:return qd(e,n,i)}throw Error(ee(156,n.tag))};function xh(e,n){return zf(e,n)}function gx(e,n,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(e,n,i,a){return new gx(e,n,i,a)}function Gu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function px(e){if(typeof e=="function")return Gu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===uu)return 11;if(e===fu)return 14}return 2}function Lr(e,n){var i=e.alternate;return i===null?(i=vn(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function qs(e,n,i,a,u,f){var g=2;if(a=e,typeof e=="function")Gu(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case Si:return ni(i.children,u,f,n);case cu:g=8,u|=8;break;case $l:return e=vn(12,i,n,u|2),e.elementType=$l,e.lanes=f,e;case Jl:return e=vn(13,i,n,u),e.elementType=Jl,e.lanes=f,e;case ec:return e=vn(19,i,n,u),e.elementType=ec,e.lanes=f,e;case If:return Va(i,u,f,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case vf:g=10;break e;case _f:g=9;break e;case uu:g=11;break e;case fu:g=14;break e;case vr:g=16,a=null;break e}throw Error(ee(130,e==null?e:typeof e,""))}return n=vn(g,i,n,u),n.elementType=e,n.type=a,n.lanes=f,n}function ni(e,n,i,a){return e=vn(7,e,a,n),e.lanes=i,e}function Va(e,n,i,a){return e=vn(22,e,a,n),e.elementType=If,e.lanes=i,e.stateNode={isHidden:!1},e}function zl(e,n,i){return e=vn(6,e,null,n),e.lanes=i,e}function Wl(e,n,i){return n=vn(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function xx(e,n,i,a,u){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vl(0),this.expirationTimes=vl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vl(0),this.identifierPrefix=a,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function Xu(e,n,i,a,u,f,g,m,y){return e=new xx(e,n,i,m,y),n===1?(n=1,f===!0&&(n|=8)):n=0,f=vn(3,null,null,n),e.current=f,f.stateNode=e,f.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},bu(f),e}function mx(e,n,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ai,key:a==null?null:""+a,children:e,containerInfo:n,implementation:i}}function mh(e){if(!e)return Ur;e=e._reactInternals;e:{if(fi(e)!==e||e.tag!==1)throw Error(ee(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(on(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(ee(171))}if(e.tag===1){var i=e.type;if(on(i))return md(e,i,n)}return n}function wh(e,n,i,a,u,f,g,m,y){return e=Xu(i,a,!0,e,u,f,g,m,y),e.context=mh(null),i=e.current,a=Gt(),u=Pr(i),f=or(a,u),f.callback=n??null,Mr(i,f,u),e.current.lanes=u,ts(e,u,a),sn(e,a),e}function Ha(e,n,i,a){var u=n.current,f=Gt(),g=Pr(u);return i=mh(i),n.context===null?n.context=i:n.pendingContext=i,n=or(f,g),n.payload={element:e},a=a===void 0?null:a,a!==null&&(n.callback=a),e=Mr(u,n,g),e!==null&&(Pn(e,u,g,f),Ws(e,u,g)),g}function Aa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function O0(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function Yu(e,n){O0(e,n),(e=e.alternate)&&O0(e,n)}function wx(){return null}var yh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zu(e){this._internalRoot=e}za.prototype.render=Zu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(ee(409));Ha(e,n,null,null)};za.prototype.unmount=Zu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;li(function(){Ha(null,e,null,null)}),n[lr]=null}};function za(e){this._internalRoot=e}za.prototype.unstable_scheduleHydration=function(e){if(e){var n=qf();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Ir.length&&n!==0&&n<Ir[i].priority;i++);Ir.splice(i,0,e),i===0&&$f(e)}};function Ku(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Wa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function D0(){}function yx(e,n,i,a,u){if(u){if(typeof a=="function"){var f=a;a=function(){var x=Aa(g);f.call(x)}}var g=wh(n,a,e,0,null,!1,!1,"",D0);return e._reactRootContainer=g,e[lr]=g.current,Wo(e.nodeType===8?e.parentNode:e),li(),g}for(;u=e.lastChild;)e.removeChild(u);if(typeof a=="function"){var m=a;a=function(){var x=Aa(y);m.call(x)}}var y=Xu(e,0,!1,null,null,!1,!1,"",D0);return e._reactRootContainer=y,e[lr]=y.current,Wo(e.nodeType===8?e.parentNode:e),li(function(){Ha(n,y,i,a)}),y}function Ga(e,n,i,a,u){var f=i._reactRootContainer;if(f){var g=f;if(typeof u=="function"){var m=u;u=function(){var y=Aa(g);m.call(y)}}Ha(n,g,e,u)}else g=yx(i,n,e,u,a);return Aa(g)}Zf=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var i=So(n.pendingLanes);i!==0&&(gu(n,i|1),sn(n,pt()),!(Fe&6)&&(Yi=pt()+500,Hr()))}break;case 13:li(function(){var a=cr(e,1);if(a!==null){var u=Gt();Pn(a,e,1,u)}}),Yu(e,1)}};pu=function(e){if(e.tag===13){var n=cr(e,134217728);if(n!==null){var i=Gt();Pn(n,e,134217728,i)}Yu(e,134217728)}};Kf=function(e){if(e.tag===13){var n=Pr(e),i=cr(e,n);if(i!==null){var a=Gt();Pn(i,e,n,a)}Yu(e,n)}};qf=function(){return ze};Qf=function(e,n){var i=ze;try{return ze=e,n()}finally{ze=i}};uc=function(e,n,i){switch(n){case"input":if(rc(e,i),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var a=i[n];if(a!==e&&a.form===e.form){var u=Ba(a);if(!u)throw Error(ee(90));Tf(a),rc(a,u)}}}break;case"textarea":Rf(e,i);break;case"select":n=i.value,n!=null&&Bi(e,!!i.multiple,n,!1)}};Lf=Hu;Ff=li;var Ex={usingClientEntryPoint:!1,Events:[rs,Ni,Ba,Bf,Pf,Hu]},wo={findFiberByHostInstance:Qr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cx={bundleType:wo.bundleType,version:wo.version,rendererPackageName:wo.rendererPackageName,rendererConfig:wo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Vf(e),e===null?null:e.stateNode},findFiberByHostInstance:wo.findFiberByHostInstance||wx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ls=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ls.isDisabled&&Ls.supportsFiber)try{Oa=Ls.inject(Cx),Qn=Ls}catch{}}xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ex;xn.createPortal=function(e,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ku(n))throw Error(ee(200));return mx(e,n,null,i)};xn.createRoot=function(e,n){if(!Ku(e))throw Error(ee(299));var i=!1,a="",u=yh;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),n=Xu(e,1,!1,null,null,i,!1,a,u),e[lr]=n.current,Wo(e.nodeType===8?e.parentNode:e),new Zu(n)};xn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(ee(188)):(e=Object.keys(e).join(","),Error(ee(268,e)));return e=Vf(n),e=e===null?null:e.stateNode,e};xn.flushSync=function(e){return li(e)};xn.hydrate=function(e,n,i){if(!Wa(n))throw Error(ee(200));return Ga(null,e,n,!0,i)};xn.hydrateRoot=function(e,n,i){if(!Ku(e))throw Error(ee(405));var a=i!=null&&i.hydratedSources||null,u=!1,f="",g=yh;if(i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),n=wh(n,null,e,1,i??null,u,!1,f,g),e[lr]=n.current,Wo(e),a)for(e=0;e<a.length;e++)i=a[e],u=i._getVersion,u=u(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,u]:n.mutableSourceEagerHydrationData.push(i,u);return new za(n)};xn.render=function(e,n,i){if(!Wa(n))throw Error(ee(200));return Ga(null,e,n,!1,i)};xn.unmountComponentAtNode=function(e){if(!Wa(e))throw Error(ee(40));return e._reactRootContainer?(li(function(){Ga(null,null,e,!1,function(){e._reactRootContainer=null,e[lr]=null})}),!0):!1};xn.unstable_batchedUpdates=Hu;xn.unstable_renderSubtreeIntoContainer=function(e,n,i,a){if(!Wa(i))throw Error(ee(200));if(e==null||e._reactInternals===void 0)throw Error(ee(38));return Ga(e,n,i,!1,a)};xn.version="18.3.1-next-f1338f8080-20240426";function Eh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Eh)}catch(e){console.error(e)}}Eh(),Ef.exports=xn;var Ax=Ef.exports,Ch,k0=Ax;Ch=k0.createRoot,k0.hydrateRoot;function Ah(e,n){return function(){return e.apply(n,arguments)}}const{toString:Sx}=Object.prototype,{getPrototypeOf:qu}=Object,Xa=(e=>n=>{const i=Sx.call(n);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),Fn=e=>(e=e.toLowerCase(),n=>Xa(n)===e),Ya=e=>n=>typeof n===e,{isArray:Qi}=Array,Jo=Ya("undefined");function vx(e){return e!==null&&!Jo(e)&&e.constructor!==null&&!Jo(e.constructor)&&gn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Sh=Fn("ArrayBuffer");function _x(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&Sh(e.buffer),n}const Ix=Ya("string"),gn=Ya("function"),vh=Ya("number"),Za=e=>e!==null&&typeof e=="object",Nx=e=>e===!0||e===!1,Qs=e=>{if(Xa(e)!=="object")return!1;const n=qu(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Tx=Fn("Date"),bx=Fn("File"),Rx=Fn("Blob"),Ox=Fn("FileList"),Dx=e=>Za(e)&&gn(e.pipe),kx=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||gn(e.append)&&((n=Xa(e))==="formdata"||n==="object"&&gn(e.toString)&&e.toString()==="[object FormData]"))},Mx=Fn("URLSearchParams"),[Bx,Px,Lx,Fx]=["ReadableStream","Request","Response","Headers"].map(Fn),Ux=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function os(e,n,{allOwnKeys:i=!1}={}){if(e===null||typeof e>"u")return;let a,u;if(typeof e!="object"&&(e=[e]),Qi(e))for(a=0,u=e.length;a<u;a++)n.call(null,e[a],a,e);else{const f=i?Object.getOwnPropertyNames(e):Object.keys(e),g=f.length;let m;for(a=0;a<g;a++)m=f[a],n.call(null,e[m],m,e)}}function _h(e,n){n=n.toLowerCase();const i=Object.keys(e);let a=i.length,u;for(;a-- >0;)if(u=i[a],n===u.toLowerCase())return u;return null}const ei=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ih=e=>!Jo(e)&&e!==ei;function zc(){const{caseless:e}=Ih(this)&&this||{},n={},i=(a,u)=>{const f=e&&_h(n,u)||u;Qs(n[f])&&Qs(a)?n[f]=zc(n[f],a):Qs(a)?n[f]=zc({},a):Qi(a)?n[f]=a.slice():n[f]=a};for(let a=0,u=arguments.length;a<u;a++)arguments[a]&&os(arguments[a],i);return n}const jx=(e,n,i,{allOwnKeys:a}={})=>(os(n,(u,f)=>{i&&gn(u)?e[f]=Ah(u,i):e[f]=u},{allOwnKeys:a}),e),Vx=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Hx=(e,n,i,a)=>{e.prototype=Object.create(n.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),i&&Object.assign(e.prototype,i)},zx=(e,n,i,a)=>{let u,f,g;const m={};if(n=n||{},e==null)return n;do{for(u=Object.getOwnPropertyNames(e),f=u.length;f-- >0;)g=u[f],(!a||a(g,e,n))&&!m[g]&&(n[g]=e[g],m[g]=!0);e=i!==!1&&qu(e)}while(e&&(!i||i(e,n))&&e!==Object.prototype);return n},Wx=(e,n,i)=>{e=String(e),(i===void 0||i>e.length)&&(i=e.length),i-=n.length;const a=e.indexOf(n,i);return a!==-1&&a===i},Gx=e=>{if(!e)return null;if(Qi(e))return e;let n=e.length;if(!vh(n))return null;const i=new Array(n);for(;n-- >0;)i[n]=e[n];return i},Xx=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&qu(Uint8Array)),Yx=(e,n)=>{const a=(e&&e[Symbol.iterator]).call(e);let u;for(;(u=a.next())&&!u.done;){const f=u.value;n.call(e,f[0],f[1])}},Zx=(e,n)=>{let i;const a=[];for(;(i=e.exec(n))!==null;)a.push(i);return a},Kx=Fn("HTMLFormElement"),qx=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,a,u){return a.toUpperCase()+u}),M0=(({hasOwnProperty:e})=>(n,i)=>e.call(n,i))(Object.prototype),Qx=Fn("RegExp"),Nh=(e,n)=>{const i=Object.getOwnPropertyDescriptors(e),a={};os(i,(u,f)=>{let g;(g=n(u,f,e))!==!1&&(a[f]=g||u)}),Object.defineProperties(e,a)},$x=e=>{Nh(e,(n,i)=>{if(gn(e)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const a=e[i];if(gn(a)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},Jx=(e,n)=>{const i={},a=u=>{u.forEach(f=>{i[f]=!0})};return Qi(e)?a(e):a(String(e).split(n)),i},em=()=>{},tm=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n,Gl="abcdefghijklmnopqrstuvwxyz",B0="0123456789",Th={DIGIT:B0,ALPHA:Gl,ALPHA_DIGIT:Gl+Gl.toUpperCase()+B0},nm=(e=16,n=Th.ALPHA_DIGIT)=>{let i="";const{length:a}=n;for(;e--;)i+=n[Math.random()*a|0];return i};function rm(e){return!!(e&&gn(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const im=e=>{const n=new Array(10),i=(a,u)=>{if(Za(a)){if(n.indexOf(a)>=0)return;if(!("toJSON"in a)){n[u]=a;const f=Qi(a)?[]:{};return os(a,(g,m)=>{const y=i(g,u+1);!Jo(y)&&(f[m]=y)}),n[u]=void 0,f}}return a};return i(e,0)},om=Fn("AsyncFunction"),sm=e=>e&&(Za(e)||gn(e))&&gn(e.then)&&gn(e.catch),bh=((e,n)=>e?setImmediate:n?((i,a)=>(ei.addEventListener("message",({source:u,data:f})=>{u===ei&&f===i&&a.length&&a.shift()()},!1),u=>{a.push(u),ei.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",gn(ei.postMessage)),am=typeof queueMicrotask<"u"?queueMicrotask.bind(ei):typeof process<"u"&&process.nextTick||bh,G={isArray:Qi,isArrayBuffer:Sh,isBuffer:vx,isFormData:kx,isArrayBufferView:_x,isString:Ix,isNumber:vh,isBoolean:Nx,isObject:Za,isPlainObject:Qs,isReadableStream:Bx,isRequest:Px,isResponse:Lx,isHeaders:Fx,isUndefined:Jo,isDate:Tx,isFile:bx,isBlob:Rx,isRegExp:Qx,isFunction:gn,isStream:Dx,isURLSearchParams:Mx,isTypedArray:Xx,isFileList:Ox,forEach:os,merge:zc,extend:jx,trim:Ux,stripBOM:Vx,inherits:Hx,toFlatObject:zx,kindOf:Xa,kindOfTest:Fn,endsWith:Wx,toArray:Gx,forEachEntry:Yx,matchAll:Zx,isHTMLForm:Kx,hasOwnProperty:M0,hasOwnProp:M0,reduceDescriptors:Nh,freezeMethods:$x,toObjectSet:Jx,toCamelCase:qx,noop:em,toFiniteNumber:tm,findKey:_h,global:ei,isContextDefined:Ih,ALPHABET:Th,generateString:nm,isSpecCompliantForm:rm,toJSONObject:im,isAsyncFn:om,isThenable:sm,setImmediate:bh,asap:am};function ve(e,n,i,a,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),i&&(this.config=i),a&&(this.request=a),u&&(this.response=u,this.status=u.status?u.status:null)}G.inherits(ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.status}}});const Rh=ve.prototype,Oh={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Oh[e]={value:e}});Object.defineProperties(ve,Oh);Object.defineProperty(Rh,"isAxiosError",{value:!0});ve.from=(e,n,i,a,u,f)=>{const g=Object.create(Rh);return G.toFlatObject(e,g,function(y){return y!==Error.prototype},m=>m!=="isAxiosError"),ve.call(g,e.message,n,i,a,u),g.cause=e,g.name=e.name,f&&Object.assign(g,f),g};const lm=null;function Wc(e){return G.isPlainObject(e)||G.isArray(e)}function Dh(e){return G.endsWith(e,"[]")?e.slice(0,-2):e}function P0(e,n,i){return e?e.concat(n).map(function(u,f){return u=Dh(u),!i&&f?"["+u+"]":u}).join(i?".":""):n}function cm(e){return G.isArray(e)&&!e.some(Wc)}const um=G.toFlatObject(G,{},null,function(n){return/^is[A-Z]/.test(n)});function Ka(e,n,i){if(!G.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,i=G.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,X){return!G.isUndefined(X[k])});const a=i.metaTokens,u=i.visitor||v,f=i.dots,g=i.indexes,y=(i.Blob||typeof Blob<"u"&&Blob)&&G.isSpecCompliantForm(n);if(!G.isFunction(u))throw new TypeError("visitor must be a function");function x(B){if(B===null)return"";if(G.isDate(B))return B.toISOString();if(!y&&G.isBlob(B))throw new ve("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(B)||G.isTypedArray(B)?y&&typeof Blob=="function"?new Blob([B]):Buffer.from(B):B}function v(B,k,X){let O=B;if(B&&!X&&typeof B=="object"){if(G.endsWith(k,"{}"))k=a?k:k.slice(0,-2),B=JSON.stringify(B);else if(G.isArray(B)&&cm(B)||(G.isFileList(B)||G.endsWith(k,"[]"))&&(O=G.toArray(B)))return k=Dh(k),O.forEach(function(b,j){!(G.isUndefined(b)||b===null)&&n.append(g===!0?P0([k],j,f):g===null?k:k+"[]",x(b))}),!1}return Wc(B)?!0:(n.append(P0(X,k,f),x(B)),!1)}const S=[],R=Object.assign(um,{defaultVisitor:v,convertValue:x,isVisitable:Wc});function L(B,k){if(!G.isUndefined(B)){if(S.indexOf(B)!==-1)throw Error("Circular reference detected in "+k.join("."));S.push(B),G.forEach(B,function(O,I){(!(G.isUndefined(O)||O===null)&&u.call(n,O,G.isString(I)?I.trim():I,k,R))===!0&&L(O,k?k.concat(I):[I])}),S.pop()}}if(!G.isObject(e))throw new TypeError("data must be an object");return L(e),n}function L0(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return n[a]})}function Qu(e,n){this._pairs=[],e&&Ka(e,this,n)}const kh=Qu.prototype;kh.append=function(n,i){this._pairs.push([n,i])};kh.toString=function(n){const i=n?function(a){return n.call(this,a,L0)}:L0;return this._pairs.map(function(u){return i(u[0])+"="+i(u[1])},"").join("&")};function fm(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Mh(e,n,i){if(!n)return e;const a=i&&i.encode||fm,u=i&&i.serialize;let f;if(u?f=u(n,i):f=G.isURLSearchParams(n)?n.toString():new Qu(n,i).toString(a),f){const g=e.indexOf("#");g!==-1&&(e=e.slice(0,g)),e+=(e.indexOf("?")===-1?"?":"&")+f}return e}class F0{constructor(){this.handlers=[]}use(n,i,a){return this.handlers.push({fulfilled:n,rejected:i,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){G.forEach(this.handlers,function(a){a!==null&&n(a)})}}const Bh={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},dm=typeof URLSearchParams<"u"?URLSearchParams:Qu,hm=typeof FormData<"u"?FormData:null,gm=typeof Blob<"u"?Blob:null,pm={isBrowser:!0,classes:{URLSearchParams:dm,FormData:hm,Blob:gm},protocols:["http","https","file","blob","url","data"]},$u=typeof window<"u"&&typeof document<"u",Gc=typeof navigator=="object"&&navigator||void 0,xm=$u&&(!Gc||["ReactNative","NativeScript","NS"].indexOf(Gc.product)<0),mm=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",wm=$u&&window.location.href||"http://localhost",ym=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$u,hasStandardBrowserEnv:xm,hasStandardBrowserWebWorkerEnv:mm,navigator:Gc,origin:wm},Symbol.toStringTag,{value:"Module"})),an={...ym,...pm};function Em(e,n){return Ka(e,new an.classes.URLSearchParams,Object.assign({visitor:function(i,a,u,f){return an.isNode&&G.isBuffer(i)?(this.append(a,i.toString("base64")),!1):f.defaultVisitor.apply(this,arguments)}},n))}function Cm(e){return G.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function Am(e){const n={},i=Object.keys(e);let a;const u=i.length;let f;for(a=0;a<u;a++)f=i[a],n[f]=e[f];return n}function Ph(e){function n(i,a,u,f){let g=i[f++];if(g==="__proto__")return!0;const m=Number.isFinite(+g),y=f>=i.length;return g=!g&&G.isArray(u)?u.length:g,y?(G.hasOwnProp(u,g)?u[g]=[u[g],a]:u[g]=a,!m):((!u[g]||!G.isObject(u[g]))&&(u[g]=[]),n(i,a,u[g],f)&&G.isArray(u[g])&&(u[g]=Am(u[g])),!m)}if(G.isFormData(e)&&G.isFunction(e.entries)){const i={};return G.forEachEntry(e,(a,u)=>{n(Cm(a),u,i,0)}),i}return null}function Sm(e,n,i){if(G.isString(e))try{return(n||JSON.parse)(e),G.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(0,JSON.stringify)(e)}const ss={transitional:Bh,adapter:["xhr","http","fetch"],transformRequest:[function(n,i){const a=i.getContentType()||"",u=a.indexOf("application/json")>-1,f=G.isObject(n);if(f&&G.isHTMLForm(n)&&(n=new FormData(n)),G.isFormData(n))return u?JSON.stringify(Ph(n)):n;if(G.isArrayBuffer(n)||G.isBuffer(n)||G.isStream(n)||G.isFile(n)||G.isBlob(n)||G.isReadableStream(n))return n;if(G.isArrayBufferView(n))return n.buffer;if(G.isURLSearchParams(n))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let m;if(f){if(a.indexOf("application/x-www-form-urlencoded")>-1)return Em(n,this.formSerializer).toString();if((m=G.isFileList(n))||a.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return Ka(m?{"files[]":n}:n,y&&new y,this.formSerializer)}}return f||u?(i.setContentType("application/json",!1),Sm(n)):n}],transformResponse:[function(n){const i=this.transitional||ss.transitional,a=i&&i.forcedJSONParsing,u=this.responseType==="json";if(G.isResponse(n)||G.isReadableStream(n))return n;if(n&&G.isString(n)&&(a&&!this.responseType||u)){const g=!(i&&i.silentJSONParsing)&&u;try{return JSON.parse(n)}catch(m){if(g)throw m.name==="SyntaxError"?ve.from(m,ve.ERR_BAD_RESPONSE,this,null,this.response):m}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:an.classes.FormData,Blob:an.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],e=>{ss.headers[e]={}});const vm=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_m=e=>{const n={};let i,a,u;return e&&e.split(`
`).forEach(function(g){u=g.indexOf(":"),i=g.substring(0,u).trim().toLowerCase(),a=g.substring(u+1).trim(),!(!i||n[i]&&vm[i])&&(i==="set-cookie"?n[i]?n[i].push(a):n[i]=[a]:n[i]=n[i]?n[i]+", "+a:a)}),n},U0=Symbol("internals");function yo(e){return e&&String(e).trim().toLowerCase()}function $s(e){return e===!1||e==null?e:G.isArray(e)?e.map($s):String(e)}function Im(e){const n=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=i.exec(e);)n[a[1]]=a[2];return n}const Nm=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Xl(e,n,i,a,u){if(G.isFunction(a))return a.call(this,n,i);if(u&&(n=i),!!G.isString(n)){if(G.isString(a))return n.indexOf(a)!==-1;if(G.isRegExp(a))return a.test(n)}}function Tm(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,i,a)=>i.toUpperCase()+a)}function bm(e,n){const i=G.toCamelCase(" "+n);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+i,{value:function(u,f,g){return this[a].call(this,n,u,f,g)},configurable:!0})})}class ln{constructor(n){n&&this.set(n)}set(n,i,a){const u=this;function f(m,y,x){const v=yo(y);if(!v)throw new Error("header name must be a non-empty string");const S=G.findKey(u,v);(!S||u[S]===void 0||x===!0||x===void 0&&u[S]!==!1)&&(u[S||y]=$s(m))}const g=(m,y)=>G.forEach(m,(x,v)=>f(x,v,y));if(G.isPlainObject(n)||n instanceof this.constructor)g(n,i);else if(G.isString(n)&&(n=n.trim())&&!Nm(n))g(_m(n),i);else if(G.isHeaders(n))for(const[m,y]of n.entries())f(y,m,a);else n!=null&&f(i,n,a);return this}get(n,i){if(n=yo(n),n){const a=G.findKey(this,n);if(a){const u=this[a];if(!i)return u;if(i===!0)return Im(u);if(G.isFunction(i))return i.call(this,u,a);if(G.isRegExp(i))return i.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,i){if(n=yo(n),n){const a=G.findKey(this,n);return!!(a&&this[a]!==void 0&&(!i||Xl(this,this[a],a,i)))}return!1}delete(n,i){const a=this;let u=!1;function f(g){if(g=yo(g),g){const m=G.findKey(a,g);m&&(!i||Xl(a,a[m],m,i))&&(delete a[m],u=!0)}}return G.isArray(n)?n.forEach(f):f(n),u}clear(n){const i=Object.keys(this);let a=i.length,u=!1;for(;a--;){const f=i[a];(!n||Xl(this,this[f],f,n,!0))&&(delete this[f],u=!0)}return u}normalize(n){const i=this,a={};return G.forEach(this,(u,f)=>{const g=G.findKey(a,f);if(g){i[g]=$s(u),delete i[f];return}const m=n?Tm(f):String(f).trim();m!==f&&delete i[f],i[m]=$s(u),a[m]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const i=Object.create(null);return G.forEach(this,(a,u)=>{a!=null&&a!==!1&&(i[u]=n&&G.isArray(a)?a.join(", "):a)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,i])=>n+": "+i).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...i){const a=new this(n);return i.forEach(u=>a.set(u)),a}static accessor(n){const a=(this[U0]=this[U0]={accessors:{}}).accessors,u=this.prototype;function f(g){const m=yo(g);a[m]||(bm(u,g),a[m]=!0)}return G.isArray(n)?n.forEach(f):f(n),this}}ln.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);G.reduceDescriptors(ln.prototype,({value:e},n)=>{let i=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(a){this[i]=a}}});G.freezeMethods(ln);function Yl(e,n){const i=this||ss,a=n||i,u=ln.from(a.headers);let f=a.data;return G.forEach(e,function(m){f=m.call(i,f,u.normalize(),n?n.status:void 0)}),u.normalize(),f}function Lh(e){return!!(e&&e.__CANCEL__)}function $i(e,n,i){ve.call(this,e??"canceled",ve.ERR_CANCELED,n,i),this.name="CanceledError"}G.inherits($i,ve,{__CANCEL__:!0});function Fh(e,n,i){const a=i.config.validateStatus;!i.status||!a||a(i.status)?e(i):n(new ve("Request failed with status code "+i.status,[ve.ERR_BAD_REQUEST,ve.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function Rm(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function Om(e,n){e=e||10;const i=new Array(e),a=new Array(e);let u=0,f=0,g;return n=n!==void 0?n:1e3,function(y){const x=Date.now(),v=a[f];g||(g=x),i[u]=y,a[u]=x;let S=f,R=0;for(;S!==u;)R+=i[S++],S=S%e;if(u=(u+1)%e,u===f&&(f=(f+1)%e),x-g<n)return;const L=v&&x-v;return L?Math.round(R*1e3/L):void 0}}function Dm(e,n){let i=0,a=1e3/n,u,f;const g=(x,v=Date.now())=>{i=v,u=null,f&&(clearTimeout(f),f=null),e.apply(null,x)};return[(...x)=>{const v=Date.now(),S=v-i;S>=a?g(x,v):(u=x,f||(f=setTimeout(()=>{f=null,g(u)},a-S)))},()=>u&&g(u)]}const Sa=(e,n,i=3)=>{let a=0;const u=Om(50,250);return Dm(f=>{const g=f.loaded,m=f.lengthComputable?f.total:void 0,y=g-a,x=u(y),v=g<=m;a=g;const S={loaded:g,total:m,progress:m?g/m:void 0,bytes:y,rate:x||void 0,estimated:x&&m&&v?(m-g)/x:void 0,event:f,lengthComputable:m!=null,[n?"download":"upload"]:!0};e(S)},i)},j0=(e,n)=>{const i=e!=null;return[a=>n[0]({lengthComputable:i,total:e,loaded:a}),n[1]]},V0=e=>(...n)=>G.asap(()=>e(...n)),km=an.hasStandardBrowserEnv?function(){const n=an.navigator&&/(msie|trident)/i.test(an.navigator.userAgent),i=document.createElement("a");let a;function u(f){let g=f;return n&&(i.setAttribute("href",g),g=i.href),i.setAttribute("href",g),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return a=u(window.location.href),function(g){const m=G.isString(g)?u(g):g;return m.protocol===a.protocol&&m.host===a.host}}():function(){return function(){return!0}}(),Mm=an.hasStandardBrowserEnv?{write(e,n,i,a,u,f){const g=[e+"="+encodeURIComponent(n)];G.isNumber(i)&&g.push("expires="+new Date(i).toGMTString()),G.isString(a)&&g.push("path="+a),G.isString(u)&&g.push("domain="+u),f===!0&&g.push("secure"),document.cookie=g.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Bm(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Pm(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function Uh(e,n){return e&&!Bm(n)?Pm(e,n):n}const H0=e=>e instanceof ln?{...e}:e;function ci(e,n){n=n||{};const i={};function a(x,v,S){return G.isPlainObject(x)&&G.isPlainObject(v)?G.merge.call({caseless:S},x,v):G.isPlainObject(v)?G.merge({},v):G.isArray(v)?v.slice():v}function u(x,v,S){if(G.isUndefined(v)){if(!G.isUndefined(x))return a(void 0,x,S)}else return a(x,v,S)}function f(x,v){if(!G.isUndefined(v))return a(void 0,v)}function g(x,v){if(G.isUndefined(v)){if(!G.isUndefined(x))return a(void 0,x)}else return a(void 0,v)}function m(x,v,S){if(S in n)return a(x,v);if(S in e)return a(void 0,x)}const y={url:f,method:f,data:f,baseURL:g,transformRequest:g,transformResponse:g,paramsSerializer:g,timeout:g,timeoutMessage:g,withCredentials:g,withXSRFToken:g,adapter:g,responseType:g,xsrfCookieName:g,xsrfHeaderName:g,onUploadProgress:g,onDownloadProgress:g,decompress:g,maxContentLength:g,maxBodyLength:g,beforeRedirect:g,transport:g,httpAgent:g,httpsAgent:g,cancelToken:g,socketPath:g,responseEncoding:g,validateStatus:m,headers:(x,v)=>u(H0(x),H0(v),!0)};return G.forEach(Object.keys(Object.assign({},e,n)),function(v){const S=y[v]||u,R=S(e[v],n[v],v);G.isUndefined(R)&&S!==m||(i[v]=R)}),i}const jh=e=>{const n=ci({},e);let{data:i,withXSRFToken:a,xsrfHeaderName:u,xsrfCookieName:f,headers:g,auth:m}=n;n.headers=g=ln.from(g),n.url=Mh(Uh(n.baseURL,n.url),e.params,e.paramsSerializer),m&&g.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):"")));let y;if(G.isFormData(i)){if(an.hasStandardBrowserEnv||an.hasStandardBrowserWebWorkerEnv)g.setContentType(void 0);else if((y=g.getContentType())!==!1){const[x,...v]=y?y.split(";").map(S=>S.trim()).filter(Boolean):[];g.setContentType([x||"multipart/form-data",...v].join("; "))}}if(an.hasStandardBrowserEnv&&(a&&G.isFunction(a)&&(a=a(n)),a||a!==!1&&km(n.url))){const x=u&&f&&Mm.read(f);x&&g.set(u,x)}return n},Lm=typeof XMLHttpRequest<"u",Fm=Lm&&function(e){return new Promise(function(i,a){const u=jh(e);let f=u.data;const g=ln.from(u.headers).normalize();let{responseType:m,onUploadProgress:y,onDownloadProgress:x}=u,v,S,R,L,B;function k(){L&&L(),B&&B(),u.cancelToken&&u.cancelToken.unsubscribe(v),u.signal&&u.signal.removeEventListener("abort",v)}let X=new XMLHttpRequest;X.open(u.method.toUpperCase(),u.url,!0),X.timeout=u.timeout;function O(){if(!X)return;const b=ln.from("getAllResponseHeaders"in X&&X.getAllResponseHeaders()),K={data:!m||m==="text"||m==="json"?X.responseText:X.response,status:X.status,statusText:X.statusText,headers:b,config:e,request:X};Fh(function(P){i(P),k()},function(P){a(P),k()},K),X=null}"onloadend"in X?X.onloadend=O:X.onreadystatechange=function(){!X||X.readyState!==4||X.status===0&&!(X.responseURL&&X.responseURL.indexOf("file:")===0)||setTimeout(O)},X.onabort=function(){X&&(a(new ve("Request aborted",ve.ECONNABORTED,e,X)),X=null)},X.onerror=function(){a(new ve("Network Error",ve.ERR_NETWORK,e,X)),X=null},X.ontimeout=function(){let j=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded";const K=u.transitional||Bh;u.timeoutErrorMessage&&(j=u.timeoutErrorMessage),a(new ve(j,K.clarifyTimeoutError?ve.ETIMEDOUT:ve.ECONNABORTED,e,X)),X=null},f===void 0&&g.setContentType(null),"setRequestHeader"in X&&G.forEach(g.toJSON(),function(j,K){X.setRequestHeader(K,j)}),G.isUndefined(u.withCredentials)||(X.withCredentials=!!u.withCredentials),m&&m!=="json"&&(X.responseType=u.responseType),x&&([R,B]=Sa(x,!0),X.addEventListener("progress",R)),y&&X.upload&&([S,L]=Sa(y),X.upload.addEventListener("progress",S),X.upload.addEventListener("loadend",L)),(u.cancelToken||u.signal)&&(v=b=>{X&&(a(!b||b.type?new $i(null,e,X):b),X.abort(),X=null)},u.cancelToken&&u.cancelToken.subscribe(v),u.signal&&(u.signal.aborted?v():u.signal.addEventListener("abort",v)));const I=Rm(u.url);if(I&&an.protocols.indexOf(I)===-1){a(new ve("Unsupported protocol "+I+":",ve.ERR_BAD_REQUEST,e));return}X.send(f||null)})},Um=(e,n)=>{const{length:i}=e=e?e.filter(Boolean):[];if(n||i){let a=new AbortController,u;const f=function(x){if(!u){u=!0,m();const v=x instanceof Error?x:this.reason;a.abort(v instanceof ve?v:new $i(v instanceof Error?v.message:v))}};let g=n&&setTimeout(()=>{g=null,f(new ve(`timeout ${n} of ms exceeded`,ve.ETIMEDOUT))},n);const m=()=>{e&&(g&&clearTimeout(g),g=null,e.forEach(x=>{x.unsubscribe?x.unsubscribe(f):x.removeEventListener("abort",f)}),e=null)};e.forEach(x=>x.addEventListener("abort",f));const{signal:y}=a;return y.unsubscribe=()=>G.asap(m),y}},jm=function*(e,n){let i=e.byteLength;if(i<n){yield e;return}let a=0,u;for(;a<i;)u=a+n,yield e.slice(a,u),a=u},Vm=async function*(e,n){for await(const i of Hm(e))yield*jm(i,n)},Hm=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const n=e.getReader();try{for(;;){const{done:i,value:a}=await n.read();if(i)break;yield a}}finally{await n.cancel()}},z0=(e,n,i,a)=>{const u=Vm(e,n);let f=0,g,m=y=>{g||(g=!0,a&&a(y))};return new ReadableStream({async pull(y){try{const{done:x,value:v}=await u.next();if(x){m(),y.close();return}let S=v.byteLength;if(i){let R=f+=S;i(R)}y.enqueue(new Uint8Array(v))}catch(x){throw m(x),x}},cancel(y){return m(y),u.return()}},{highWaterMark:2})},qa=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Vh=qa&&typeof ReadableStream=="function",zm=qa&&(typeof TextEncoder=="function"?(e=>n=>e.encode(n))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Hh=(e,...n)=>{try{return!!e(...n)}catch{return!1}},Wm=Vh&&Hh(()=>{let e=!1;const n=new Request(an.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!n}),W0=64*1024,Xc=Vh&&Hh(()=>G.isReadableStream(new Response("").body)),va={stream:Xc&&(e=>e.body)};qa&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!va[n]&&(va[n]=G.isFunction(e[n])?i=>i[n]():(i,a)=>{throw new ve(`Response type '${n}' is not supported`,ve.ERR_NOT_SUPPORT,a)})})})(new Response);const Gm=async e=>{if(e==null)return 0;if(G.isBlob(e))return e.size;if(G.isSpecCompliantForm(e))return(await new Request(an.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(G.isArrayBufferView(e)||G.isArrayBuffer(e))return e.byteLength;if(G.isURLSearchParams(e)&&(e=e+""),G.isString(e))return(await zm(e)).byteLength},Xm=async(e,n)=>{const i=G.toFiniteNumber(e.getContentLength());return i??Gm(n)},Ym=qa&&(async e=>{let{url:n,method:i,data:a,signal:u,cancelToken:f,timeout:g,onDownloadProgress:m,onUploadProgress:y,responseType:x,headers:v,withCredentials:S="same-origin",fetchOptions:R}=jh(e);x=x?(x+"").toLowerCase():"text";let L=Um([u,f&&f.toAbortSignal()],g),B;const k=L&&L.unsubscribe&&(()=>{L.unsubscribe()});let X;try{if(y&&Wm&&i!=="get"&&i!=="head"&&(X=await Xm(v,a))!==0){let K=new Request(n,{method:"POST",body:a,duplex:"half"}),Z;if(G.isFormData(a)&&(Z=K.headers.get("content-type"))&&v.setContentType(Z),K.body){const[P,q]=j0(X,Sa(V0(y)));a=z0(K.body,W0,P,q)}}G.isString(S)||(S=S?"include":"omit");const O="credentials"in Request.prototype;B=new Request(n,{...R,signal:L,method:i.toUpperCase(),headers:v.normalize().toJSON(),body:a,duplex:"half",credentials:O?S:void 0});let I=await fetch(B);const b=Xc&&(x==="stream"||x==="response");if(Xc&&(m||b&&k)){const K={};["status","statusText","headers"].forEach(Y=>{K[Y]=I[Y]});const Z=G.toFiniteNumber(I.headers.get("content-length")),[P,q]=m&&j0(Z,Sa(V0(m),!0))||[];I=new Response(z0(I.body,W0,P,()=>{q&&q(),k&&k()}),K)}x=x||"text";let j=await va[G.findKey(va,x)||"text"](I,e);return!b&&k&&k(),await new Promise((K,Z)=>{Fh(K,Z,{data:j,headers:ln.from(I.headers),status:I.status,statusText:I.statusText,config:e,request:B})})}catch(O){throw k&&k(),O&&O.name==="TypeError"&&/fetch/i.test(O.message)?Object.assign(new ve("Network Error",ve.ERR_NETWORK,e,B),{cause:O.cause||O}):ve.from(O,O&&O.code,e,B)}}),Yc={http:lm,xhr:Fm,fetch:Ym};G.forEach(Yc,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const G0=e=>`- ${e}`,Zm=e=>G.isFunction(e)||e===null||e===!1,zh={getAdapter:e=>{e=G.isArray(e)?e:[e];const{length:n}=e;let i,a;const u={};for(let f=0;f<n;f++){i=e[f];let g;if(a=i,!Zm(i)&&(a=Yc[(g=String(i)).toLowerCase()],a===void 0))throw new ve(`Unknown adapter '${g}'`);if(a)break;u[g||"#"+f]=a}if(!a){const f=Object.entries(u).map(([m,y])=>`adapter ${m} `+(y===!1?"is not supported by the environment":"is not available in the build"));let g=n?f.length>1?`since :
`+f.map(G0).join(`
`):" "+G0(f[0]):"as no adapter specified";throw new ve("There is no suitable adapter to dispatch the request "+g,"ERR_NOT_SUPPORT")}return a},adapters:Yc};function Zl(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new $i(null,e)}function X0(e){return Zl(e),e.headers=ln.from(e.headers),e.data=Yl.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),zh.getAdapter(e.adapter||ss.adapter)(e).then(function(a){return Zl(e),a.data=Yl.call(e,e.transformResponse,a),a.headers=ln.from(a.headers),a},function(a){return Lh(a)||(Zl(e),a&&a.response&&(a.response.data=Yl.call(e,e.transformResponse,a.response),a.response.headers=ln.from(a.response.headers))),Promise.reject(a)})}const Wh="1.7.7",Ju={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{Ju[e]=function(a){return typeof a===e||"a"+(n<1?"n ":" ")+e}});const Y0={};Ju.transitional=function(n,i,a){function u(f,g){return"[Axios v"+Wh+"] Transitional option '"+f+"'"+g+(a?". "+a:"")}return(f,g,m)=>{if(n===!1)throw new ve(u(g," has been removed"+(i?" in "+i:"")),ve.ERR_DEPRECATED);return i&&!Y0[g]&&(Y0[g]=!0,console.warn(u(g," has been deprecated since v"+i+" and will be removed in the near future"))),n?n(f,g,m):!0}};function Km(e,n,i){if(typeof e!="object")throw new ve("options must be an object",ve.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let u=a.length;for(;u-- >0;){const f=a[u],g=n[f];if(g){const m=e[f],y=m===void 0||g(m,f,e);if(y!==!0)throw new ve("option "+f+" must be "+y,ve.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new ve("Unknown option "+f,ve.ERR_BAD_OPTION)}}const Zc={assertOptions:Km,validators:Ju},Ar=Zc.validators;class ri{constructor(n){this.defaults=n,this.interceptors={request:new F0,response:new F0}}async request(n,i){try{return await this._request(n,i)}catch(a){if(a instanceof Error){let u;Error.captureStackTrace?Error.captureStackTrace(u={}):u=new Error;const f=u.stack?u.stack.replace(/^.+\n/,""):"";try{a.stack?f&&!String(a.stack).endsWith(f.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+f):a.stack=f}catch{}}throw a}}_request(n,i){typeof n=="string"?(i=i||{},i.url=n):i=n||{},i=ci(this.defaults,i);const{transitional:a,paramsSerializer:u,headers:f}=i;a!==void 0&&Zc.assertOptions(a,{silentJSONParsing:Ar.transitional(Ar.boolean),forcedJSONParsing:Ar.transitional(Ar.boolean),clarifyTimeoutError:Ar.transitional(Ar.boolean)},!1),u!=null&&(G.isFunction(u)?i.paramsSerializer={serialize:u}:Zc.assertOptions(u,{encode:Ar.function,serialize:Ar.function},!0)),i.method=(i.method||this.defaults.method||"get").toLowerCase();let g=f&&G.merge(f.common,f[i.method]);f&&G.forEach(["delete","get","head","post","put","patch","common"],B=>{delete f[B]}),i.headers=ln.concat(g,f);const m=[];let y=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(i)===!1||(y=y&&k.synchronous,m.unshift(k.fulfilled,k.rejected))});const x=[];this.interceptors.response.forEach(function(k){x.push(k.fulfilled,k.rejected)});let v,S=0,R;if(!y){const B=[X0.bind(this),void 0];for(B.unshift.apply(B,m),B.push.apply(B,x),R=B.length,v=Promise.resolve(i);S<R;)v=v.then(B[S++],B[S++]);return v}R=m.length;let L=i;for(S=0;S<R;){const B=m[S++],k=m[S++];try{L=B(L)}catch(X){k.call(this,X);break}}try{v=X0.call(this,L)}catch(B){return Promise.reject(B)}for(S=0,R=x.length;S<R;)v=v.then(x[S++],x[S++]);return v}getUri(n){n=ci(this.defaults,n);const i=Uh(n.baseURL,n.url);return Mh(i,n.params,n.paramsSerializer)}}G.forEach(["delete","get","head","options"],function(n){ri.prototype[n]=function(i,a){return this.request(ci(a||{},{method:n,url:i,data:(a||{}).data}))}});G.forEach(["post","put","patch"],function(n){function i(a){return function(f,g,m){return this.request(ci(m||{},{method:n,headers:a?{"Content-Type":"multipart/form-data"}:{},url:f,data:g}))}}ri.prototype[n]=i(),ri.prototype[n+"Form"]=i(!0)});class e1{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(f){i=f});const a=this;this.promise.then(u=>{if(!a._listeners)return;let f=a._listeners.length;for(;f-- >0;)a._listeners[f](u);a._listeners=null}),this.promise.then=u=>{let f;const g=new Promise(m=>{a.subscribe(m),f=m}).then(u);return g.cancel=function(){a.unsubscribe(f)},g},n(function(f,g,m){a.reason||(a.reason=new $i(f,g,m),i(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const n=new AbortController,i=a=>{n.abort(a)};return this.subscribe(i),n.signal.unsubscribe=()=>this.unsubscribe(i),n.signal}static source(){let n;return{token:new e1(function(u){n=u}),cancel:n}}}function qm(e){return function(i){return e.apply(null,i)}}function Qm(e){return G.isObject(e)&&e.isAxiosError===!0}const Kc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Kc).forEach(([e,n])=>{Kc[n]=e});function Gh(e){const n=new ri(e),i=Ah(ri.prototype.request,n);return G.extend(i,ri.prototype,n,{allOwnKeys:!0}),G.extend(i,n,null,{allOwnKeys:!0}),i.create=function(u){return Gh(ci(e,u))},i}const Be=Gh(ss);Be.Axios=ri;Be.CanceledError=$i;Be.CancelToken=e1;Be.isCancel=Lh;Be.VERSION=Wh;Be.toFormData=Ka;Be.AxiosError=ve;Be.Cancel=Be.CanceledError;Be.all=function(n){return Promise.all(n)};Be.spread=qm;Be.isAxiosError=Qm;Be.mergeConfig=ci;Be.AxiosHeaders=ln;Be.formToJSON=e=>Ph(G.isHTMLForm(e)?new FormData(e):e);Be.getAdapter=zh.getAdapter;Be.HttpStatusCode=Kc;Be.default=Be;const Qa="http://127.0.0.1:5000",$m=async e=>{try{return(await Be.post(`${Qa}/api/members`,e)).data}catch{throw new Error("Failed to add member.")}},Xh=async()=>{try{return(await Be.get(`${Qa}/api/members`)).data}catch(e){throw console.error("Error fetching members:",e),e}},Jm=async(e="desc")=>{try{return(await Be.get(`${Qa}/api/books?order_by=${e}`)).data}catch(n){throw console.error("Error fetching books:",n),n}},ew=async e=>{try{return(await Be.post(`${Qa}/api/books`,e,{headers:{"Content-Type":"application/json"}})).data}catch(n){throw console.error("Error adding book:",n),new Error("Failed to add book.")}},Yh=z.createContext(),tw=({children:e})=>{const[n,i]=z.useState("he"),a=()=>{i(u=>u==="en"?"he":"en")};return T.jsx(Yh.Provider,{value:{language:n,setLanguage:i,toggleLanguage:a},children:e})},as=()=>z.useContext(Yh),nw={app_title:"The Library of the Israeli Community of Madrid",title:"Book Title",author:"Author",description:"Description",year_of_publication:"Year of Publication",cover_type:"Cover Type",pages:"Pages",borrowing_child:"Borrowing Child's Name",borrowed_by:"Borrowed By",borrow:"Borrow Book",delivery_status:"Delivery Status",delivering_parent:"Delivering Parent",recommended_age:"Recommended Age",borrow_date:"Borrow Date",return_date:"Return Date",NotReturned:"Not Returned",add_book_label:"Add New Book",books:"Books",members:"Members",loans:"Loans",ShowAllLoans:"Show History",Hide_Details:"Hide Details",More_Details:"More Details",loan_status:"Availability",sort_by:"Sort By",ascending:"Ascending",descending:"Descending",Hide_Add_Book:"Hide Add Book",Add_Book:"Add Book",return:"Return Book",Select_Book:"Select Book",Select_Book_State:"Select Book State",ScanQR:"Scan QR Code",download_qr_code:"Download QR Code",SendReminders:"Send Reminders",last_reminder:"last reminder at",error_generating_report:"Failed to generate report. Please try again.",reports:"Reports",generate_report_button:"Generate report",select_borrower:"Select Borrower",add_member_button:"Add Member",close_add_member_button:"Close Add Member",add_member_form_title:"Add New Member",search_placeholder:"Search members by name",members_list_title:"Library Members",no_members_found:"No members found",parent_name_placeholder:"Parent's Name",kid_name_placeholder:"Kid's Name",email_placeholder:"Email Address",error_parent_name_required:"Parent's name is required.",error_kid_name_required:"Kid's name is required.",error_email_required:"Email address is required.",error_email_invalid:"Invalid email address.",success_member_added:"Member added successfully!",parent_name_label:"Parent Name",kid_name_label:"Child Name",email_label:"Email",inventory_list_title:"Library Inventory",add_book_button:"Add Book",close_add_book_button:"Close Add Book",search_books_placeholder:"Search books by title",no_books_found:"No books found",placeholder_book_title:"Enter Book Title",placeholder_book_author:"Enter Author Name",placeholder_book_description:"Enter Description",placeholder_book_year:"Enter Year of Publication",placeholder_book_pages:"Enter Number of Pages",placeholder_book_recommended_age:"Enter Recommended Age",select_condition:"Select Condition",select_loan_status:"Select loan status",select_parent:"Select Parent",select_cover_type:"format",soft_cover:"Soft Cover",hard_cover:"Hard Cover",rigid_pages:"Rigid Pages",battery_book:"Book with Battery",new:"New",good:"Good",worn:"Worn",available:"Available",borrowed:"Borrowed",error_book_title_required:"Book title is required.",error_book_author_required:"Author name is required.",error_book_description_required:"Description is required.",error_book_year_required:"Year of publication is required.",error_book_pages_required:"Number of pages is required.",inventory_report:"Inventory Report",loans_report:"Loans Report",select_report_type:"Select Report Type",report_options:"Report Options",select_field:"Select Field",book_title:"Book Title",id:"ID",order:"Order",include_history:"Include Historical Loans",include_borrowed:"Include Currently Borrowed Books"},rw={app_title:"ספריית הקהילה הישראלית במדריד",title:"שם הספר",author:"שם המחבר",description:"תיאור",year_of_publication:"שנת הוצאה",cover_type:"סוג כריכה",pages:"עמודים",borrowing_child:"שם הילד המשאיל",borrowed_by:"הושאל על ידי",borrow:"השאל ספר",delivery_status:"מצב מסירה",delivering_parent:"שם ההורה המוסר",recommended_age:"גיל מומלץ",borrow_date:"תאריך השאלה",return_date:"תאריך החזרה",NotReturned:"לא הוחזר",add_book_label:"הוסף ספר חדש",books:"ספרים",members:"חברים",loans:"השאלות",ShowAllLoans:"הצג היסטוריה",Hide_Details:"הסתר פרטים",More_Details:"עוד פרטים",loan_status:"זמינות",sort_by:"סדר",ascending:"עולה",descending:"יורד",Hide_Add_Book:"הסתר הוספת ספר",Add_Book:"הוסף ספר",return:"החזר ספר",Select_Book:"בחר ספר",Select_Book_State:"מצב הספר",ScanQR:"סרוק QR",download_qr_code:"הורד QR",SendReminders:"שלח תזכורת",last_reminder:"תזכורת אחרונה ב",error_generating_report:"הפקת הדוח נכשלה, נסה שנית בבקשה.",reports:"דוחות",generate_report_button:"הפק דוח",select_borrower:"בחר משאיל",add_member_button:"הוסף חבר",close_add_member_button:"סגור הוספת חבר",add_member_form_title:"הוספת חבר חדש",search_placeholder:"חפש חברים לפי שם",members_list_title:"חברי הספרייה",no_members_found:"לא נמצאו חברים",parent_name_placeholder:"שם ההורה",kid_name_placeholder:"שם הילד",email_placeholder:"כתובת אימייל",error_parent_name_required:"נדרש שם הורה.",error_kid_name_required:"נדרש שם ילד.",error_email_required:"נדרשת כתובת אימייל.",error_email_invalid:"כתובת אימייל לא תקינה.",success_member_added:"החבר נוסף בהצלחה!",parent_name_label:"שם ההורה",kid_name_label:"שם הילד",email_label:"אימייל",inventory_list_title:"מלאי הספרייה",add_book_button:"הוסף ספר",close_add_book_button:"סגור הוספת ספר",search_books_placeholder:"חפש ספרים לפי שם",no_books_found:"לא נמצאו ספרים",placeholder_book_title:"הכנס שם הספר",placeholder_book_author:"הכנס שם המחבר",placeholder_book_description:"הכנס תיאור",placeholder_book_year:"הכנס שנת הוצאה",placeholder_book_pages:"הכנס מספר עמודים",placeholder_book_recommended_age:"הכנס גיל מומלץ",select_condition:"מצב מסירה",select_loan_status:"זמינות",select_parent:"שם ההורה",select_cover_type:"פורמט",soft_cover:"כריכה רכה",hard_cover:"כריכה קשה",rigid_pages:"עמודים קשיחים",battery_book:"ספר עם בטריה",new:"חדש",good:"טוב",worn:"בלוי",available:"זמין",borrowed:"מושאל",error_book_title_required:"נדרש שם ספר.",error_book_author_required:"נדרש שם מחבר.",error_book_description_required:"נדרש תיאור.",error_book_year_required:"נדרשת שנת הוצאה.",error_book_pages_required:"נדרש מספר עמודים.",inventory_report:"דוח מלאי",loans_report:"דוח השאלות",select_report_type:"בחר סוג דוח",report_options:"אפשרויות דוח",select_field:"בחר שדה",book_title:"כותרת הספר",id:"מזהה",order:"סדר",include_history:"כלול היסטורית השאלות",include_borrowed:"כלול ספרים מושאלים"},ls=e=>e==="he"?rw:nw,iw=()=>{const[e,n]=z.useState([]),[i,a]=z.useState("desc"),[u,f]=z.useState(""),[g,m]=z.useState(""),[y,x]=z.useState(""),[v,S]=z.useState(""),[R,L]=z.useState(""),[B,k]=z.useState(""),[X,O]=z.useState(""),[I,b]=z.useState(""),[j]=z.useState("available"),[K,Z]=z.useState(""),[P,q]=z.useState([]),[Y,Ee]=z.useState(!1),[Ie,pe]=z.useState(""),[Ae,Ue]=z.useState({}),{language:W,toggleLanguage:De}=as(),re=ls(W),ie=[{value:"כריכה רכה",label:re.soft_cover},{value:"כריכה קשה",label:re.hard_cover},{value:"עמודים קשיחים",label:re.rigid_pages},{value:"ספר עם בטריה",label:re.battery_book}],me=[{value:"new",label:re.new},{value:"good",label:re.good},{value:"worn",label:re.worn}];z.useEffect(()=>{ae(),We()},[i]);const ae=async()=>{try{const $=await Jm(i);Array.isArray($)?n($):(console.error("Unexpected response format:",$),n([]))}catch($){console.error("Failed to load books:",$),n([])}},We=async()=>{try{const $=await Xh();q($)}catch($){console.error("Error fetching members:",$)}},be=async $=>{$.preventDefault();try{await ew({title:u,author:g,description:y,year_of_publication:v,pages:R,cover_type:B,book_condition:X,recommended_age:I,loan_status:j,delivering_parent:K}),f(""),m(""),x(""),S(""),L(""),k(ie[0].value),O(me[0].value),Z(""),Ee(!1),await ae()}catch(Zt){console.error("Error adding book:",Zt)}},Tt=$=>{Ue(Zt=>({...Zt,[$]:!Zt[$]}))};return T.jsxs("div",{className:"w-full max-w-md mx-auto",children:[T.jsx("button",{className:"w-12 h-12 flex items-center justify-center rounded-full border border-teal-500 bg-white text-teal-500 shadow-md absolute top-4 left-4",onClick:De,children:W==="en"?"HE":"EN"}),T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsx("input",{id:"search_by_name",type:"text",placeholder:re.search_books_placeholder,value:Ie,onChange:$=>pe($.target.value),className:"flex-1 mr-4 border border-gray-300 rounded-md py-2 px-4"}),T.jsxs("div",{className:"sorting-container",children:[T.jsxs("label",{htmlFor:"orderBy",className:"mr-2",children:[":",re.sort_by]}),T.jsxs("select",{id:"orderBy",value:i,onChange:$=>a($.target.value),className:"border rounded p-1",children:[T.jsx("option",{value:"desc",children:re.descending}),T.jsx("option",{value:"asc",children:re.ascending})]})]})]}),T.jsx("button",{onClick:()=>Ee(!Y),className:"w-full bg-blue-500 text-white font-semibold py-2 rounded-md hover:bg-blue-600 transition mb-4",children:Y?`- ${re.close_add_book_button}`:`+ ${re.add_book_button}`}),Y&&T.jsxs("form",{onSubmit:be,className:"mb-4",children:[T.jsx("input",{type:"text",value:u,onChange:$=>f($.target.value),placeholder:re.placeholder_book_title,className:"input mb-2 w-full border border-gray-300 rounded-md py-2 px-4"}),T.jsx("input",{type:"text",value:g,onChange:$=>m($.target.value),placeholder:re.placeholder_book_author,className:"input mb-2 w-full border border-gray-300 rounded-md py-2 px-4"}),T.jsx("textarea",{value:y,onChange:$=>x($.target.value),onInput:$=>{$.target.style.height="auto",$.target.style.height=`${$.target.scrollHeight}px`},placeholder:re.placeholder_book_description,className:"input mb-2 w-full border border-gray-300 rounded-md py-2 px-4"}),T.jsx("input",{type:"number",value:v,onChange:$=>S($.target.value),placeholder:re.placeholder_book_year,className:"input mb-2 w-full border border-gray-300 rounded-md py-2 px-4"}),T.jsxs("select",{value:B,onChange:$=>k($.target.value),className:"input mb-2 w-full border border-gray-300 rounded-md py-2 px-4",children:[T.jsx("option",{value:"",children:re.select_cover_type}),ie.map($=>T.jsx("option",{value:$.value,children:$.label},$.value))]}),T.jsx("input",{type:"number",value:R,onChange:$=>L($.target.value),placeholder:re.placeholder_book_pages,className:"input mb-2 w-full border border-gray-300 rounded-md py-2 px-4"}),T.jsx("input",{type:"number",value:I,onChange:$=>b($.target.value),placeholder:re.placeholder_book_recommended_age,className:"input mb-2 w-full border border-gray-300 rounded-md py-2 px-4"}),T.jsxs("select",{value:X,onChange:$=>O($.target.value),className:"input mb-2 w-full border border-gray-300 rounded-md py-2 px-4",children:[T.jsx("option",{value:"",children:re.select_condition}),me.map($=>T.jsx("option",{value:$.value,children:$.label},$.value))]}),T.jsxs("select",{value:K,onChange:$=>Z($.target.value),className:"input mb-2 w-full border border-gray-300 rounded-md py-2 px-4",children:[T.jsx("option",{value:"",children:re.select_parent}),P.map($=>T.jsx("option",{value:$.parent_name,children:$.parent_name},$.id))]}),T.jsx("button",{type:"submit",className:"w-full bg-green-500 text-white font-semibold py-2 rounded-md hover:bg-green-600 transition",children:re.add_book_button})]}),T.jsx("div",{className:"overflow-y-auto max-h-screen border-t pt-4",children:e.filter($=>$.title.toLowerCase().includes(Ie.toLowerCase())||$.author.toLowerCase().includes(Ie.toLowerCase())).map($=>T.jsxs("div",{className:"bg-gray-50 shadow-sm rounded-lg p-4 mb-2",children:[T.jsx("h2",{className:"font-bold text-gray-800",children:$.title}),T.jsx("p",{className:"text-sm text-gray-500",children:$.author}),T.jsxs("p",{className:"text-sm",children:[re.loan_status,":"," ",T.jsx("span",{className:$.loan_status==="available"?"text-green-500":"text-red-500",children:$.loan_status==="borrowed"?re.borrowed:re.available}),$.loan_status==="borrowed"&&T.jsxs("span",{children:[" ",re.borrowing_child,": ",$.borrowing_child]})]}),T.jsx("p",{children:T.jsx("a",{href:`./backend/qr_codes/${$.qr_code}.png`,download:`${$.title}_qr_code.png`,"aria-label":re.download_qr_code,className:"text-blue-500 text-sm mt-2 hover:underline",children:$.qr_code})}),T.jsx("button",{onClick:()=>Tt($.qr_code),className:"text-blue-500 text-sm mt-2 hover:underline",children:Ae[$.qr_code]?re.Hide_Details:re.More_Details}),Ae[$.qr_code]&&T.jsxs("div",{className:"mt-2 text-gray-600",children:[T.jsxs("p",{children:[T.jsxs("strong",{children:[re.description,":"]})," ",$.description||"N/A"]}),T.jsxs("p",{children:[T.jsxs("strong",{children:[re.year_of_publication,":"]})," ",$.year_of_publication||"N/A"]}),T.jsxs("p",{children:[T.jsxs("strong",{children:[re.cover_type,":"]})," ",$.cover_type||"N/A"]}),T.jsxs("p",{children:[T.jsxs("strong",{children:[re.pages,":"]})," ",$.pages||"N/A"]}),T.jsxs("p",{children:[T.jsxs("strong",{children:[re.recommended_age,":"]})," ",$.recommended_age||"N/A"]}),T.jsxs("p",{children:[T.jsxs("strong",{children:[re.select_condition,":"]})," ",$.book_condition||"N/A"]}),T.jsxs("p",{children:[T.jsxs("strong",{children:[re.delivering_parent,":"]})," ",$.delivering_parent||"N/A"]})]})]},$.qr_code))})]})};function ow(){const[e,n]=z.useState([]),[i,a]=z.useState(""),[u,f]=z.useState(""),[g,m]=z.useState(""),[y,x]=z.useState(!1),[v,S]=z.useState(""),[R,L]=z.useState({}),[B,k]=z.useState(""),{language:X,toggleLanguage:O}=as(),I=ls(X),b=()=>{const P={};return i.trim()||(P.parentName=I.error_parent_name_required),u.trim()||(P.kidName=I.error_kid_name_required),g.trim()?/\S+@\S+\.\S+/.test(g)||(P.email=I.error_email_invalid):P.email=I.error_email_required,L(P),Object.keys(P).length===0},j=async P=>{if(P.preventDefault(),!!b())try{await $m({parent_name:i,kid_name:u,email:g}),a(""),f(""),m(""),L({}),k(I.success_member_added),await K()}catch(q){console.error("Error adding member:",q),k("")}},K=async()=>{try{const P=await Xh();Array.isArray(P)?n(P):(console.error("Unexpected response format:",P),n([]))}catch(P){console.error("Failed to load members:",P),n([])}};z.useEffect(()=>{K()},[]);const Z=Array.isArray(e)?e.filter(P=>P.parent_name.toLowerCase().includes(v.toLowerCase())||P.kid_name.toLowerCase().includes(v.toLowerCase())):[];return T.jsxs("div",{className:"w-full max-w-md mx-auto",children:[T.jsx("button",{className:"w-12 h-12 flex items-center justify-center rounded-full border border-teal-500 bg-white text-teal-500 shadow-md absolute top-4 left-4",onClick:O,children:X==="en"?"HE":"EN"}),T.jsx("h1",{className:"text-xl font-semibold mb-4",children:I.members_list_title}),T.jsx("button",{onClick:()=>x(!y),className:"w-full bg-blue-500 text-white font-semibold py-2 rounded-md hover:bg-blue-600 transition mb-4",children:y?`- ${I.close_add_member_button}`:`+ ${I.add_member_button}`}),y&&T.jsxs("form",{onSubmit:j,className:"mb-4",children:[T.jsx("input",{type:"text",placeholder:I.parent_name_placeholder,value:i,onChange:P=>a(P.target.value),className:"input mb-2 w-full border border-gray-300 rounded-md py-2 px-4"}),R.parentName&&T.jsx("p",{className:"text-red-500 text-sm",children:R.parentName}),T.jsx("input",{type:"text",placeholder:I.kid_name_placeholder,value:u,onChange:P=>f(P.target.value),className:"input mb-2 w-full border border-gray-300 rounded-md py-2 px-4"}),R.kidName&&T.jsx("p",{className:"text-red-500 text-sm",children:R.kidName}),T.jsx("input",{type:"email",placeholder:I.email_placeholder,value:g,onChange:P=>m(P.target.value),className:"input mb-2 w-full border border-gray-300 rounded-md py-2 px-4"}),R.email&&T.jsx("p",{className:"text-red-500 text-sm",children:R.email}),T.jsx("button",{type:"submit",className:"w-full bg-green-500 text-white font-semibold py-2 rounded-md hover:bg-green-600 transition",children:I.add_member_button}),B&&T.jsx("p",{className:"text-green-500 text-sm mt-2",children:B})]}),T.jsx("input",{type:"text",placeholder:I.search_placeholder,value:v,onChange:P=>S(P.target.value),className:"input w-full border border-gray-300 rounded-md py-2 px-4 mb-4"}),T.jsx("div",{className:"overflow-y-auto max-h-96 border-t pt-4",children:Z.length>0?Z.map(P=>T.jsxs("div",{className:"bg-gray-50 shadow-sm rounded-lg p-4 mb-2",children:[T.jsxs("h2",{className:"font-bold text-gray-800",children:[I.parent_name_label,": ",P.parent_name]}),T.jsxs("p",{className:"text-sm text-gray-500",children:[I.kid_name_label,": ",P.kid_name]}),T.jsxs("p",{className:"text-sm text-gray-500",children:[I.email_label,": ",P.email]})]},P.id)):T.jsx("p",{className:"text-sm text-gray-500",children:Z.length===0&&I.no_members_found})})]})}/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Zh=(...e)=>e.filter((n,i,a)=>!!n&&n.trim()!==""&&a.indexOf(n)===i).join(" ").trim();/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=z.forwardRef(({color:e="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:u="",children:f,iconNode:g,...m},y)=>z.createElement("svg",{ref:y,...aw,width:n,height:n,stroke:e,strokeWidth:a?Number(i)*24/Number(n):i,className:Zh("lucide",u),...m},[...g.map(([x,v])=>z.createElement(x,v)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=(e,n)=>{const i=z.forwardRef(({className:a,...u},f)=>z.createElement(lw,{ref:f,iconNode:n,className:Zh(`lucide-${sw(e)}`,a),...u}));return i.displayName=`${e}`,i};/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=dr("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=dr("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=dr("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=dr("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=dr("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=dr("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=dr("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=dr("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=dr("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),hr="http://localhost:5000";async function Z0(){return await(await Be.get(`${hr}/api/available_books`)).data}async function Kl(){return await(await Be.get(`${hr}/api/borrowed_books`)).data}async function mw(e){return await(await Be.get(`${hr}/api/book/${e}`)).data}async function ww(){const e=await Be.get(`${hr}/api/members`);return console.log("API Response:",e.data),e.data.members||e.data}const yw=async(e,n,i)=>{try{return(await Be.post(`${hr}/api/book/borrow`,{qr_code:e,member_id:n,book_state:i})).data}catch(a){throw console.error("Error borrowing book:",a.response||a),a}},Ew=async e=>{try{return(await Be.post(`${hr}/api/book/return`,{qr_code:e})).data}catch(n){throw console.error("Error returning book:",n),n}};async function Eo(e,n){return(await Be.get(`${hr}/api/loans/history`,{params:{qr_code:e||"",show_all:n?"true":"false"}})).data}const Cw=async(e,n,i)=>{var a,u;try{return(await Be.post(`${hr}/api/send-reminder`,{loan_id:e,subject:n,loan_details:i})).data}catch(f){return console.error(`Error sending reminder for loan_id ${e}:`,f),{success:!1,error:((u=(a=f.response)==null?void 0:a.data)==null?void 0:u.error)||f.message||"Unknown error"}}},K0=async e=>{try{const n=await Be.get(`${hr}/api/reminders/last/${e}`),{sent_at:i}=n.data;return{sent_at:i}}catch(n){return console.error(`Error fetching last reminder for loan_id ${e}:`,n),null}};var ue;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ue||(ue={}));var q0=new Map([[ue.QR_CODE,"QR_CODE"],[ue.AZTEC,"AZTEC"],[ue.CODABAR,"CODABAR"],[ue.CODE_39,"CODE_39"],[ue.CODE_93,"CODE_93"],[ue.CODE_128,"CODE_128"],[ue.DATA_MATRIX,"DATA_MATRIX"],[ue.MAXICODE,"MAXICODE"],[ue.ITF,"ITF"],[ue.EAN_13,"EAN_13"],[ue.EAN_8,"EAN_8"],[ue.PDF_417,"PDF_417"],[ue.RSS_14,"RSS_14"],[ue.RSS_EXPANDED,"RSS_EXPANDED"],[ue.UPC_A,"UPC_A"],[ue.UPC_E,"UPC_E"],[ue.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Q0;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(Q0||(Q0={}));function Aw(e){return Object.values(ue).includes(e)}var _a;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(_a||(_a={}));var Sw=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[_a.SCAN_TYPE_CAMERA,_a.SCAN_TYPE_FILE],e}(),Kh=function(){function e(n,i){this.format=n,this.formatName=i}return e.prototype.toString=function(){return this.formatName},e.create=function(n){if(!q0.has(n))throw"".concat(n," not in html5QrcodeSupportedFormatsTextMap");return new e(n,q0.get(n))},e}(),$0=function(){function e(){}return e.createFromText=function(n){var i={text:n};return{decodedText:n,result:i}},e.createFromQrcodeResult=function(n){return{decodedText:n.text,result:n}},e}(),Qc;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Qc||(Qc={}));var vw=function(){function e(){}return e.createFrom=function(n){return{errorMessage:n,type:Qc.UNKWOWN_ERROR}},e}(),_w=function(){function e(n){this.verbose=n}return e.prototype.log=function(n){this.verbose&&console.log(n)},e.prototype.warn=function(n){this.verbose&&console.warn(n)},e.prototype.logError=function(n,i){(this.verbose||i===!0)&&console.error(n)},e.prototype.logErrors=function(n){if(n.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(n)},e}();function er(e){return typeof e>"u"||e===null}var Mi=function(){function e(){}return e.codeParseError=function(n){return"QR code parse error, error = ".concat(n)},e.errorGettingUserMedia=function(n){return"Error getting userMedia, error = ".concat(n)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),qh=function(){function e(){}return e.isMediaStreamConstraintsValid=function(n,i){if(typeof n!="object"){var a=typeof n;return i.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(a,"."),!0),!1}for(var u=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],f=new Set(u),g=Object.keys(n),m=0,y=g;m<y.length;m++){var x=y[m];if(f.has(x))return i.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},e}(),$c={exports:{}};(function(e,n){(function(i,a){a(n)})(co,function(i){function a(E){return E==null}var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,t){E.__proto__=t}||function(E,t){for(var r in t)t.hasOwnProperty(r)&&(E[r]=t[r])};function f(E,t){u(E,t);function r(){this.constructor=E}E.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function g(E,t){var r=Object.setPrototypeOf;r?r(E,t):E.__proto__=t}function m(E,t){t===void 0&&(t=E.constructor);var r=Error.captureStackTrace;r&&r(E,t)}var y=function(E){f(t,E);function t(r){var o=this.constructor,s=E.call(this,r)||this;return Object.defineProperty(s,"name",{value:o.name,enumerable:!1}),g(s,o.prototype),m(s),s}return t}(Error);class x extends y{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}x.kind="Exception";class v extends x{}v.kind="ArgumentException";class S extends x{}S.kind="IllegalArgumentException";class R{constructor(t){if(this.binarizer=t,t===null)throw new S("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,r){return this.binarizer.getBlackRow(t,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,r,o,s){const l=this.binarizer.getLuminanceSource().crop(t,r,o,s);return new R(this.binarizer.createBinarizer(l))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new R(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new R(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class L extends x{static getChecksumInstance(){return new L}}L.kind="ChecksumException";class B{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class k{static arraycopy(t,r,o,s,l){for(;l--;)o[s++]=t[r++]}static currentTimeMillis(){return Date.now()}}class X extends x{}X.kind="IndexOutOfBoundsException";class O extends X{constructor(t=void 0,r=void 0){super(r),this.index=t,this.message=r}}O.kind="ArrayIndexOutOfBoundsException";class I{static fill(t,r){for(let o=0,s=t.length;o<s;o++)t[o]=r}static fillWithin(t,r,o,s){I.rangeCheck(t.length,r,o);for(let l=r;l<o;l++)t[l]=s}static rangeCheck(t,r,o){if(r>o)throw new S("fromIndex("+r+") > toIndex("+o+")");if(r<0)throw new O(r);if(o>t)throw new O(o)}static asList(...t){return t}static create(t,r,o){return Array.from({length:t}).map(l=>Array.from({length:r}).fill(o))}static createInt32Array(t,r,o){return Array.from({length:t}).map(l=>Int32Array.from({length:r}).fill(o))}static equals(t,r){if(!t||!r||!t.length||!r.length||t.length!==r.length)return!1;for(let o=0,s=t.length;o<s;o++)if(t[o]!==r[o])return!1;return!0}static hashCode(t){if(t===null)return 0;let r=1;for(const o of t)r=31*r+o;return r}static fillUint8Array(t,r){for(let o=0;o!==t.length;o++)t[o]=r}static copyOf(t,r){return t.slice(0,r)}static copyOfUint8Array(t,r){if(t.length<=r){const o=new Uint8Array(r);return o.set(t),o}return t.slice(0,r)}static copyOfRange(t,r,o){const s=o-r,l=new Int32Array(s);return k.arraycopy(t,r,l,0,s),l}static binarySearch(t,r,o){o===void 0&&(o=I.numberComparator);let s=0,l=t.length-1;for(;s<=l;){const c=l+s>>1,d=o(r,t[c]);if(d>0)s=c+1;else if(d<0)l=c-1;else return c}return-s-1}static numberComparator(t,r){return t-r}}class b{static numberOfTrailingZeros(t){let r;if(t===0)return 32;let o=31;return r=t<<16,r!==0&&(o-=16,t=r),r=t<<8,r!==0&&(o-=8,t=r),r=t<<4,r!==0&&(o-=4,t=r),r=t<<2,r!==0&&(o-=2,t=r),o-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let r=1;return t>>>16||(r+=16,t<<=16),t>>>24||(r+=8,t<<=8),t>>>28||(r+=4,t<<=4),t>>>30||(r+=2,t<<=2),r-=t>>>31,r}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,r){return Math.trunc(t/r)}static parseInt(t,r=void 0){return parseInt(t,r)}}b.MIN_VALUE_32_BITS=-2147483648,b.MAX_VALUE=Number.MAX_SAFE_INTEGER;class j{constructor(t,r){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,r==null?this.bits=j.makeArray(t):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const r=j.makeArray(t);k.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const r=this.size;if(t>=r)return r;const o=this.bits;let s=Math.floor(t/32),l=o[s];l&=~((1<<(t&31))-1);const c=o.length;for(;l===0;){if(++s===c)return r;l=o[s]}const d=s*32+b.numberOfTrailingZeros(l);return d>r?r:d}getNextUnset(t){const r=this.size;if(t>=r)return r;const o=this.bits;let s=Math.floor(t/32),l=~o[s];l&=~((1<<(t&31))-1);const c=o.length;for(;l===0;){if(++s===c)return r;l=~o[s]}const d=s*32+b.numberOfTrailingZeros(l);return d>r?r:d}setBulk(t,r){this.bits[Math.floor(t/32)]=r}setRange(t,r){if(r<t||t<0||r>this.size)throw new S;if(r===t)return;r--;const o=Math.floor(t/32),s=Math.floor(r/32),l=this.bits;for(let c=o;c<=s;c++){const d=c>o?0:t&31,p=(2<<(c<s?31:r&31))-(1<<d);l[c]|=p}}clear(){const t=this.bits.length,r=this.bits;for(let o=0;o<t;o++)r[o]=0}isRange(t,r,o){if(r<t||t<0||r>this.size)throw new S;if(r===t)return!0;r--;const s=Math.floor(t/32),l=Math.floor(r/32),c=this.bits;for(let d=s;d<=l;d++){const h=d>s?0:t&31,w=(2<<(d<l?31:r&31))-(1<<h)&4294967295;if((c[d]&w)!==(o?w:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,r){if(r<0||r>32)throw new S("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let o=r;o>0;o--)this.appendBit((t>>o-1&1)===1)}appendBitArray(t){const r=t.size;this.ensureCapacity(this.size+r);for(let o=0;o<r;o++)this.appendBit(t.get(o))}xor(t){if(this.size!==t.size)throw new S("Sizes don't match");const r=this.bits;for(let o=0,s=r.length;o<s;o++)r[o]^=t.bits[o]}toBytes(t,r,o,s){for(let l=0;l<s;l++){let c=0;for(let d=0;d<8;d++)this.get(t)&&(c|=1<<7-d),t++;r[o+l]=c}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),o=r+1,s=this.bits;for(let l=0;l<o;l++){let c=s[l];c=c>>1&1431655765|(c&1431655765)<<1,c=c>>2&858993459|(c&858993459)<<2,c=c>>4&252645135|(c&252645135)<<4,c=c>>8&16711935|(c&16711935)<<8,c=c>>16&65535|(c&65535)<<16,t[r-l]=c}if(this.size!==o*32){const l=o*32-this.size;let c=t[0]>>>l;for(let d=1;d<o;d++){const h=t[d];c|=h<<32-l,t[d-1]=c,c=h>>>l}t[o-1]=c}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof j))return!1;const r=t;return this.size===r.size&&I.equals(this.bits,r.bits)}hashCode(){return 31*this.size+I.hashCode(this.bits)}toString(){let t="";for(let r=0,o=this.size;r<o;r++)r&7||(t+=" "),t+=this.get(r)?"X":".";return t}clone(){return new j(this.size,this.bits.slice())}}var K;(function(E){E[E.OTHER=0]="OTHER",E[E.PURE_BARCODE=1]="PURE_BARCODE",E[E.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",E[E.TRY_HARDER=3]="TRY_HARDER",E[E.CHARACTER_SET=4]="CHARACTER_SET",E[E.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",E[E.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",E[E.ASSUME_GS1=7]="ASSUME_GS1",E[E.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",E[E.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",E[E.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(K||(K={}));var Z=K;class P extends x{static getFormatInstance(){return new P}}P.kind="FormatException";var q;(function(E){E[E.Cp437=0]="Cp437",E[E.ISO8859_1=1]="ISO8859_1",E[E.ISO8859_2=2]="ISO8859_2",E[E.ISO8859_3=3]="ISO8859_3",E[E.ISO8859_4=4]="ISO8859_4",E[E.ISO8859_5=5]="ISO8859_5",E[E.ISO8859_6=6]="ISO8859_6",E[E.ISO8859_7=7]="ISO8859_7",E[E.ISO8859_8=8]="ISO8859_8",E[E.ISO8859_9=9]="ISO8859_9",E[E.ISO8859_10=10]="ISO8859_10",E[E.ISO8859_11=11]="ISO8859_11",E[E.ISO8859_13=12]="ISO8859_13",E[E.ISO8859_14=13]="ISO8859_14",E[E.ISO8859_15=14]="ISO8859_15",E[E.ISO8859_16=15]="ISO8859_16",E[E.SJIS=16]="SJIS",E[E.Cp1250=17]="Cp1250",E[E.Cp1251=18]="Cp1251",E[E.Cp1252=19]="Cp1252",E[E.Cp1256=20]="Cp1256",E[E.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",E[E.UTF8=22]="UTF8",E[E.ASCII=23]="ASCII",E[E.Big5=24]="Big5",E[E.GB18030=25]="GB18030",E[E.EUC_KR=26]="EUC_KR"})(q||(q={}));class Y{constructor(t,r,o,...s){this.valueIdentifier=t,this.name=o,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=s,Y.VALUE_IDENTIFIER_TO_ECI.set(t,this),Y.NAME_TO_ECI.set(o,this);const l=this.values;for(let c=0,d=l.length;c!==d;c++){const h=l[c];Y.VALUES_TO_ECI.set(h,this)}for(const c of s)Y.NAME_TO_ECI.set(c,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new P("incorect value");const r=Y.VALUES_TO_ECI.get(t);if(r===void 0)throw new P("incorect value");return r}static getCharacterSetECIByName(t){const r=Y.NAME_TO_ECI.get(t);if(r===void 0)throw new P("incorect value");return r}equals(t){if(!(t instanceof Y))return!1;const r=t;return this.getName()===r.getName()}}Y.VALUE_IDENTIFIER_TO_ECI=new Map,Y.VALUES_TO_ECI=new Map,Y.NAME_TO_ECI=new Map,Y.Cp437=new Y(q.Cp437,Int32Array.from([0,2]),"Cp437"),Y.ISO8859_1=new Y(q.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),Y.ISO8859_2=new Y(q.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),Y.ISO8859_3=new Y(q.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),Y.ISO8859_4=new Y(q.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),Y.ISO8859_5=new Y(q.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),Y.ISO8859_6=new Y(q.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),Y.ISO8859_7=new Y(q.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),Y.ISO8859_8=new Y(q.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),Y.ISO8859_9=new Y(q.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),Y.ISO8859_10=new Y(q.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),Y.ISO8859_11=new Y(q.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),Y.ISO8859_13=new Y(q.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),Y.ISO8859_14=new Y(q.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),Y.ISO8859_15=new Y(q.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),Y.ISO8859_16=new Y(q.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),Y.SJIS=new Y(q.SJIS,20,"SJIS","Shift_JIS"),Y.Cp1250=new Y(q.Cp1250,21,"Cp1250","windows-1250"),Y.Cp1251=new Y(q.Cp1251,22,"Cp1251","windows-1251"),Y.Cp1252=new Y(q.Cp1252,23,"Cp1252","windows-1252"),Y.Cp1256=new Y(q.Cp1256,24,"Cp1256","windows-1256"),Y.UnicodeBigUnmarked=new Y(q.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),Y.UTF8=new Y(q.UTF8,26,"UTF8","UTF-8"),Y.ASCII=new Y(q.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),Y.Big5=new Y(q.Big5,28,"Big5"),Y.GB18030=new Y(q.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),Y.EUC_KR=new Y(q.EUC_KR,30,"EUC_KR","EUC-KR");class Ee extends x{}Ee.kind="UnsupportedOperationException";class Ie{static decode(t,r){const o=this.encodingName(r);return this.customDecoder?this.customDecoder(t,o):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(o)?this.decodeFallback(t,o):new TextDecoder(o).decode(t)}static shouldDecodeOnFallback(t){return!Ie.isBrowser()&&t==="ISO-8859-1"}static encode(t,r){const o=this.encodingName(r);return this.customEncoder?this.customEncoder(t,o):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof Y?t:Y.getCharacterSetECIByName(t)}static decodeFallback(t,r){const o=this.encodingCharacterSet(r);if(Ie.isDecodeFallbackSupported(o)){let s="";for(let l=0,c=t.length;l<c;l++){let d=t[l].toString(16);d.length<2&&(d="0"+d),s+="%"+d}return decodeURIComponent(s)}if(o.equals(Y.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new Ee(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(Y.UTF8)||t.equals(Y.ISO8859_1)||t.equals(Y.ASCII)}static encodeFallback(t){const o=btoa(unescape(encodeURIComponent(t))).split(""),s=[];for(let l=0;l<o.length;l++)s.push(o[l].charCodeAt(0));return new Uint8Array(s)}}class pe{static castAsNonUtf8Char(t,r=null){const o=r?r.getName():this.ISO88591;return Ie.decode(new Uint8Array([t]),o)}static guessEncoding(t,r){if(r!=null&&r.get(Z.CHARACTER_SET)!==void 0)return r.get(Z.CHARACTER_SET).toString();const o=t.length;let s=!0,l=!0,c=!0,d=0,h=0,p=0,w=0,C=0,A=0,N=0,D=0,M=0,F=0,H=0;const te=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let ne=0;ne<o&&(s||l||c);ne++){const J=t[ne]&255;c&&(d>0?J&128?d--:c=!1:J&128&&(J&64?(d++,J&32?(d++,J&16?(d++,J&8?c=!1:w++):p++):h++):c=!1)),s&&(J>127&&J<160?s=!1:J>159&&(J<192||J===215||J===247)&&H++),l&&(C>0?J<64||J===127||J>252?l=!1:C--:J===128||J===160||J>239?l=!1:J>160&&J<224?(A++,D=0,N++,N>M&&(M=N)):J>127?(C++,N=0,D++,D>F&&(F=D)):(N=0,D=0))}return c&&d>0&&(c=!1),l&&C>0&&(l=!1),c&&(te||h+p+w>0)?pe.UTF8:l&&(pe.ASSUME_SHIFT_JIS||M>=3||F>=3)?pe.SHIFT_JIS:s&&l?M===2&&A===2||H*10>=o?pe.SHIFT_JIS:pe.ISO88591:s?pe.ISO88591:l?pe.SHIFT_JIS:c?pe.UTF8:pe.PLATFORM_DEFAULT_ENCODING}static format(t,...r){let o=-1;function s(c,d,h,p,w,C){if(c==="%%")return"%";if(r[++o]===void 0)return;c=p?parseInt(p.substr(1)):void 0;let A=w?parseInt(w.substr(1)):void 0,N;switch(C){case"s":N=r[o];break;case"c":N=r[o][0];break;case"f":N=parseFloat(r[o]).toFixed(c);break;case"p":N=parseFloat(r[o]).toPrecision(c);break;case"e":N=parseFloat(r[o]).toExponential(c);break;case"x":N=parseInt(r[o]).toString(A||16);break;case"d":N=parseFloat(parseInt(r[o],A||10).toPrecision(c)).toFixed(0);break}N=typeof N=="object"?JSON.stringify(N):(+N).toString(A);let D=parseInt(h),M=h&&h[0]+""=="0"?"0":" ";for(;N.length<D;)N=d!==void 0?N+M:M+N;return N}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(l,s)}static getBytes(t,r){return Ie.encode(t,r)}static getCharCode(t,r=0){return t.charCodeAt(r)}static getCharAt(t){return String.fromCharCode(t)}}pe.SHIFT_JIS=Y.SJIS.getName(),pe.GB2312="GB2312",pe.ISO88591=Y.ISO8859_1.getName(),pe.EUC_JP="EUC_JP",pe.UTF8=Y.UTF8.getName(),pe.PLATFORM_DEFAULT_ENCODING=pe.UTF8,pe.ASSUME_SHIFT_JIS=!1;class Ae{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=pe.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,r,o){for(let s=r;r<r+o;s++)this.append(t[s]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+1)}substring(t,r){return this.value.substring(t,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+r.length)}}class Ue{constructor(t,r,o,s){if(this.width=t,this.height=r,this.rowSize=o,this.bits=s,r==null&&(r=t),this.height=r,t<1||r<1)throw new S("Both dimensions must be greater than 0");o==null&&(o=Math.floor((t+31)/32)),this.rowSize=o,s==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const r=t.length,o=t[0].length,s=new Ue(o,r);for(let l=0;l<r;l++){const c=t[l];for(let d=0;d<o;d++)c[d]&&s.set(d,l)}return s}static parseFromString(t,r,o){if(t===null)throw new S("stringRepresentation cannot be null");const s=new Array(t.length);let l=0,c=0,d=-1,h=0,p=0;for(;p<t.length;)if(t.charAt(p)===`
`||t.charAt(p)==="\r"){if(l>c){if(d===-1)d=l-c;else if(l-c!==d)throw new S("row lengths do not match");c=l,h++}p++}else if(t.substring(p,p+r.length)===r)p+=r.length,s[l]=!0,l++;else if(t.substring(p,p+o.length)===o)p+=o.length,s[l]=!1,l++;else throw new S("illegal character encountered: "+t.substring(p));if(l>c){if(d===-1)d=l-c;else if(l-c!==d)throw new S("row lengths do not match");h++}const w=new Ue(d,h);for(let C=0;C<l;C++)s[C]&&w.set(Math.floor(C%d),Math.floor(C/d));return w}get(t,r){const o=r*this.rowSize+Math.floor(t/32);return(this.bits[o]>>>(t&31)&1)!==0}set(t,r){const o=r*this.rowSize+Math.floor(t/32);this.bits[o]|=1<<(t&31)&4294967295}unset(t,r){const o=r*this.rowSize+Math.floor(t/32);this.bits[o]&=~(1<<(t&31)&4294967295)}flip(t,r){const o=r*this.rowSize+Math.floor(t/32);this.bits[o]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new S("input matrix dimensions do not match");const r=new j(Math.floor(this.width/32)+1),o=this.rowSize,s=this.bits;for(let l=0,c=this.height;l<c;l++){const d=l*o,h=t.getRow(l,r).getBitArray();for(let p=0;p<o;p++)s[d+p]^=h[p]}}clear(){const t=this.bits,r=t.length;for(let o=0;o<r;o++)t[o]=0}setRegion(t,r,o,s){if(r<0||t<0)throw new S("Left and top must be nonnegative");if(s<1||o<1)throw new S("Height and width must be at least 1");const l=t+o,c=r+s;if(c>this.height||l>this.width)throw new S("The region must fit inside the matrix");const d=this.rowSize,h=this.bits;for(let p=r;p<c;p++){const w=p*d;for(let C=t;C<l;C++)h[w+Math.floor(C/32)]|=1<<(C&31)&4294967295}}getRow(t,r){r==null||r.getSize()<this.width?r=new j(this.width):r.clear();const o=this.rowSize,s=this.bits,l=t*o;for(let c=0;c<o;c++)r.setBulk(c*32,s[l+c]);return r}setRow(t,r){k.arraycopy(r.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),r=this.getHeight();let o=new j(t),s=new j(t);for(let l=0,c=Math.floor((r+1)/2);l<c;l++)o=this.getRow(l,o),s=this.getRow(r-1-l,s),o.reverse(),s.reverse(),this.setRow(l,s),this.setRow(r-1-l,o)}getEnclosingRectangle(){const t=this.width,r=this.height,o=this.rowSize,s=this.bits;let l=t,c=r,d=-1,h=-1;for(let p=0;p<r;p++)for(let w=0;w<o;w++){const C=s[p*o+w];if(C!==0){if(p<c&&(c=p),p>h&&(h=p),w*32<l){let A=0;for(;!(C<<31-A&4294967295);)A++;w*32+A<l&&(l=w*32+A)}if(w*32+31>d){let A=31;for(;!(C>>>A);)A--;w*32+A>d&&(d=w*32+A)}}}return d<l||h<c?null:Int32Array.from([l,c,d-l+1,h-c+1])}getTopLeftOnBit(){const t=this.rowSize,r=this.bits;let o=0;for(;o<r.length&&r[o]===0;)o++;if(o===r.length)return null;const s=o/t;let l=o%t*32;const c=r[o];let d=0;for(;!(c<<31-d&4294967295);)d++;return l+=d,Int32Array.from([l,s])}getBottomRightOnBit(){const t=this.rowSize,r=this.bits;let o=r.length-1;for(;o>=0&&r[o]===0;)o--;if(o<0)return null;const s=Math.floor(o/t);let l=Math.floor(o%t)*32;const c=r[o];let d=31;for(;!(c>>>d);)d--;return l+=d,Int32Array.from([l,s])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof Ue))return!1;const r=t;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&I.equals(this.bits,r.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+I.hashCode(this.bits),t}toString(t="X ",r="  ",o=`
`){return this.buildToString(t,r,o)}buildToString(t,r,o){let s=new Ae;for(let l=0,c=this.height;l<c;l++){for(let d=0,h=this.width;d<h;d++)s.append(this.get(d,l)?t:r);s.append(o)}return s.toString()}clone(){return new Ue(this.width,this.height,this.rowSize,this.bits.slice())}}class W extends x{static getNotFoundInstance(){return new W}}W.kind="NotFoundException";class De extends B{constructor(t){super(t),this.luminances=De.EMPTY,this.buckets=new Int32Array(De.LUMINANCE_BUCKETS)}getBlackRow(t,r){const o=this.getLuminanceSource(),s=o.getWidth();r==null||r.getSize()<s?r=new j(s):r.clear(),this.initArrays(s);const l=o.getRow(t,this.luminances),c=this.buckets;for(let h=0;h<s;h++)c[(l[h]&255)>>De.LUMINANCE_SHIFT]++;const d=De.estimateBlackPoint(c);if(s<3)for(let h=0;h<s;h++)(l[h]&255)<d&&r.set(h);else{let h=l[0]&255,p=l[1]&255;for(let w=1;w<s-1;w++){const C=l[w+1]&255;(p*4-h-C)/2<d&&r.set(w),h=p,p=C}}return r}getBlackMatrix(){const t=this.getLuminanceSource(),r=t.getWidth(),o=t.getHeight(),s=new Ue(r,o);this.initArrays(r);const l=this.buckets;for(let h=1;h<5;h++){const p=Math.floor(o*h/5),w=t.getRow(p,this.luminances),C=Math.floor(r*4/5);for(let A=Math.floor(r/5);A<C;A++){const N=w[A]&255;l[N>>De.LUMINANCE_SHIFT]++}}const c=De.estimateBlackPoint(l),d=t.getMatrix();for(let h=0;h<o;h++){const p=h*r;for(let w=0;w<r;w++)(d[p+w]&255)<c&&s.set(w,h)}return s}createBinarizer(t){return new De(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const r=this.buckets;for(let o=0;o<De.LUMINANCE_BUCKETS;o++)r[o]=0}static estimateBlackPoint(t){const r=t.length;let o=0,s=0,l=0;for(let w=0;w<r;w++)t[w]>l&&(s=w,l=t[w]),t[w]>o&&(o=t[w]);let c=0,d=0;for(let w=0;w<r;w++){const C=w-s,A=t[w]*C*C;A>d&&(c=w,d=A)}if(s>c){const w=s;s=c,c=w}if(c-s<=r/16)throw new W;let h=c-1,p=-1;for(let w=c-1;w>s;w--){const C=w-s,A=C*C*(c-w)*(o-t[w]);A>p&&(h=w,p=A)}return h<<De.LUMINANCE_SHIFT}}De.LUMINANCE_BITS=5,De.LUMINANCE_SHIFT=8-De.LUMINANCE_BITS,De.LUMINANCE_BUCKETS=1<<De.LUMINANCE_BITS,De.EMPTY=Uint8ClampedArray.from([0]);class re extends De{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),r=t.getWidth(),o=t.getHeight();if(r>=re.MINIMUM_DIMENSION&&o>=re.MINIMUM_DIMENSION){const s=t.getMatrix();let l=r>>re.BLOCK_SIZE_POWER;r&re.BLOCK_SIZE_MASK&&l++;let c=o>>re.BLOCK_SIZE_POWER;o&re.BLOCK_SIZE_MASK&&c++;const d=re.calculateBlackPoints(s,l,c,r,o),h=new Ue(r,o);re.calculateThresholdForBlock(s,l,c,r,o,d,h),this.matrix=h}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new re(t)}static calculateThresholdForBlock(t,r,o,s,l,c,d){const h=l-re.BLOCK_SIZE,p=s-re.BLOCK_SIZE;for(let w=0;w<o;w++){let C=w<<re.BLOCK_SIZE_POWER;C>h&&(C=h);const A=re.cap(w,2,o-3);for(let N=0;N<r;N++){let D=N<<re.BLOCK_SIZE_POWER;D>p&&(D=p);const M=re.cap(N,2,r-3);let F=0;for(let te=-2;te<=2;te++){const ne=c[A+te];F+=ne[M-2]+ne[M-1]+ne[M]+ne[M+1]+ne[M+2]}const H=F/25;re.thresholdBlock(t,D,C,H,s,d)}}}static cap(t,r,o){return t<r?r:t>o?o:t}static thresholdBlock(t,r,o,s,l,c){for(let d=0,h=o*l+r;d<re.BLOCK_SIZE;d++,h+=l)for(let p=0;p<re.BLOCK_SIZE;p++)(t[h+p]&255)<=s&&c.set(r+p,o+d)}static calculateBlackPoints(t,r,o,s,l){const c=l-re.BLOCK_SIZE,d=s-re.BLOCK_SIZE,h=new Array(o);for(let p=0;p<o;p++){h[p]=new Int32Array(r);let w=p<<re.BLOCK_SIZE_POWER;w>c&&(w=c);for(let C=0;C<r;C++){let A=C<<re.BLOCK_SIZE_POWER;A>d&&(A=d);let N=0,D=255,M=0;for(let H=0,te=w*s+A;H<re.BLOCK_SIZE;H++,te+=s){for(let ne=0;ne<re.BLOCK_SIZE;ne++){const J=t[te+ne]&255;N+=J,J<D&&(D=J),J>M&&(M=J)}if(M-D>re.MIN_DYNAMIC_RANGE)for(H++,te+=s;H<re.BLOCK_SIZE;H++,te+=s)for(let ne=0;ne<re.BLOCK_SIZE;ne++)N+=t[te+ne]&255}let F=N>>re.BLOCK_SIZE_POWER*2;if(M-D<=re.MIN_DYNAMIC_RANGE&&(F=D/2,p>0&&C>0)){const H=(h[p-1][C]+2*h[p][C-1]+h[p-1][C-1])/4;D<H&&(F=H)}h[p][C]=F}}return h}}re.BLOCK_SIZE_POWER=3,re.BLOCK_SIZE=1<<re.BLOCK_SIZE_POWER,re.BLOCK_SIZE_MASK=re.BLOCK_SIZE-1,re.MINIMUM_DIMENSION=re.BLOCK_SIZE*5,re.MIN_DYNAMIC_RANGE=24;class ie{constructor(t,r){this.width=t,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,r,o,s){throw new Ee("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Ee("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Ee("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let r=new Ae;for(let o=0;o<this.height;o++){const s=this.getRow(o,t);for(let l=0;l<this.width;l++){const c=s[l]&255;let d;c<64?d="#":c<128?d="+":c<192?d=".":d=" ",r.append(d)}r.append(`
`)}return r.toString()}}class me extends ie{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,r){const o=this.delegate.getRow(t,r),s=this.getWidth();for(let l=0;l<s;l++)o[l]=255-(o[l]&255);return o}getMatrix(){const t=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(r);for(let s=0;s<r;s++)o[s]=255-(t[s]&255);return o}isCropSupported(){return this.delegate.isCropSupported()}crop(t,r,o,s){return new me(this.delegate.crop(t,r,o,s))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new me(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new me(this.delegate.rotateCounterClockwise45())}}class ae extends ie{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=ae.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const r=t.getContext("2d").getImageData(0,0,t.width,t.height);return ae.toGrayscaleBuffer(r.data,t.width,t.height)}static toGrayscaleBuffer(t,r,o){const s=new Uint8ClampedArray(r*o);for(let l=0,c=0,d=t.length;l<d;l+=4,c++){let h;if(t[l+3]===0)h=255;else{const w=t[l],C=t[l+1],A=t[l+2];h=306*w+601*C+117*A+512>>10}s[c]=h}return s}getRow(t,r){if(t<0||t>=this.getHeight())throw new S("Requested row is outside the image: "+t);const o=this.getWidth(),s=t*o;return r===null?r=this.buffer.slice(s,s+o):(r.length<o&&(r=new Uint8ClampedArray(o)),r.set(this.buffer.slice(s,s+o))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,r,o,s){return super.crop(t,r,o,s),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const r=this.getTempCanvasElement(),o=r.getContext("2d"),s=t*ae.DEGREE_TO_RADIANS,l=this.canvas.width,c=this.canvas.height,d=Math.ceil(Math.abs(Math.cos(s))*l+Math.abs(Math.sin(s))*c),h=Math.ceil(Math.abs(Math.sin(s))*l+Math.abs(Math.cos(s))*c);return r.width=d,r.height=h,o.translate(d/2,h/2),o.rotate(s),o.drawImage(this.canvas,l/-2,c/-2),this.buffer=ae.makeBufferFromCanvasImageData(r),this}invert(){return new me(this)}}ae.DEGREE_TO_RADIANS=Math.PI/180;class We{constructor(t,r,o){this.deviceId=t,this.label=r,this.kind="videoinput",this.groupId=o||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var be=(globalThis||co||self||window||void 0)&&(globalThis||co||self||window||void 0).__awaiter||function(E,t,r,o){function s(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function d(w){try{p(o.next(w))}catch(C){c(C)}}function h(w){try{p(o.throw(w))}catch(C){c(C)}}function p(w){w.done?l(w.value):s(w.value).then(d,h)}p((o=o.apply(E,t||[])).next())})};class Tt{constructor(t,r=500,o){this.reader=t,this.timeBetweenScansMillis=r,this._hints=o,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return be(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const o of t){const s=o.kind==="video"?"videoinput":o.kind;if(s!=="videoinput")continue;const l=o.deviceId||o.id,c=o.label||`Video device ${r.length+1}`,d=o.groupId,h={deviceId:l,label:c,kind:s,groupId:d};r.push(h)}return r})}getVideoInputDevices(){return be(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new We(r.deviceId,r.label))})}findDeviceById(t){return be(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(o=>o.deviceId===t):null})}decodeFromInputVideoDevice(t,r){return be(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,r)})}decodeOnceFromVideoDevice(t,r){return be(this,void 0,void 0,function*(){this.reset();let o;t?o={deviceId:{exact:t}}:o={facingMode:"environment"};const s={video:o};return yield this.decodeOnceFromConstraints(s,r)})}decodeOnceFromConstraints(t,r){return be(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(o,r)})}decodeOnceFromStream(t,r){return be(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(t,r);return yield this.decodeOnce(o)})}decodeFromInputVideoDeviceContinuously(t,r,o){return be(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,r,o)})}decodeFromVideoDevice(t,r,o){return be(this,void 0,void 0,function*(){let s;t?s={deviceId:{exact:t}}:s={facingMode:"environment"};const l={video:s};return yield this.decodeFromConstraints(l,r,o)})}decodeFromConstraints(t,r,o){return be(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(s,r,o)})}decodeFromStream(t,r,o){return be(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(t,r);return yield this.decodeContinuously(s,o)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,r){return be(this,void 0,void 0,function*(){const o=this.prepareVideoElement(r);return this.addVideoSource(o,t),this.videoElement=o,this.stream=t,yield this.playVideoOnLoadAsync(o),o})}playVideoOnLoadAsync(t){return new Promise((r,o)=>this.playVideoOnLoad(t,()=>r()))}playVideoOnLoad(t,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",r),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return be(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,r){const o=document.getElementById(t);if(!o)throw new v(`element with id '${t}' not found`);if(o.nodeName.toLowerCase()!==r.toLowerCase())throw new v(`element with id '${t}' must be an ${r} element`);return o}decodeFromImage(t,r){if(!t&&!r)throw new v("either imageElement with a src set or an url must be provided");return r&&!t?this.decodeFromImageUrl(r):this.decodeFromImageElement(t)}decodeFromVideo(t,r){if(!t&&!r)throw new v("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,r,o){if(t===void 0&&r===void 0)throw new v("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrlContinuously(r,o):this.decodeFromVideoElementContinuously(t,o)}decodeFromImageElement(t){if(!t)throw new v("An image element must be provided.");this.reset();const r=this.prepareImageElement(t);this.imageElement=r;let o;return this.isImageLoaded(r)?o=this.decodeOnce(r,!1,!0):o=this._decodeOnLoadImage(r),o}decodeFromVideoElement(t){const r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(t,r){const o=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(o,r)}_decodeFromVideoElementSetup(t){if(!t)throw new v("A video element must be provided.");this.reset();const r=this.prepareVideoElement(t);return this.videoElement=r,r}decodeFromImageUrl(t){if(!t)throw new v("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const o=this._decodeOnLoadImage(r);return r.src=t,o}decodeFromVideoUrl(t){if(!t)throw new v("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),o=this.decodeFromVideoElement(r);return r.src=t,o}decodeFromVideoUrlContinuously(t,r){if(!t)throw new v("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),s=this.decodeFromVideoElementContinuously(o,r);return o.src=t,s}_decodeOnLoadImage(t){return new Promise((r,o)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(r,o),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return be(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,r){return be(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,r)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let r;return typeof t>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(r=t),r}prepareVideoElement(t){let r;return!t&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(r=t),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(t,r=!0,o=!0){this._stopAsyncDecode=!1;const s=(l,c)=>{if(this._stopAsyncDecode){c(new W("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const d=this.decode(t);l(d)}catch(d){const h=r&&d instanceof W,w=(d instanceof L||d instanceof P)&&o;if(h||w)return setTimeout(s,this._timeBetweenDecodingAttempts,l,c);c(d)}};return new Promise((l,c)=>s(l,c))}decodeContinuously(t,r){this._stopContinuousDecode=!1;const o=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const s=this.decode(t);r(s,null),setTimeout(o,this.timeBetweenScansMillis)}catch(s){r(null,s);const l=s instanceof L||s instanceof P,c=s instanceof W;(l||c)&&setTimeout(o,this._timeBetweenDecodingAttempts)}};o()}decode(t){const r=this.createBinaryBitmap(t);return this.decodeBitmap(r)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,r,o){r||(r={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),o||(o=this.captureCanvasContext),o.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(t,r,o=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),o||(o=this.captureCanvasContext),o.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const r=this.getCaptureCanvas(t),o=new ae(r),s=new re(o);return new R(s)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const o=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=o}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const r=this.createCaptureCanvas(t);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let o,s;return typeof t<"u"&&(t instanceof HTMLVideoElement?(o=t.videoWidth,s=t.videoHeight):t instanceof HTMLImageElement&&(o=t.naturalWidth||t.width,s=t.naturalHeight||t.height)),r.style.width=o+"px",r.style.height=s+"px",r.width=o,r.height=s,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,r){try{t.srcObject=r}catch{t.src=URL.createObjectURL(r)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class ${constructor(t,r,o=r==null?0:8*r.length,s,l,c=k.currentTimeMillis()){this.text=t,this.rawBytes=r,this.numBits=o,this.resultPoints=s,this.format=l,this.timestamp=c,this.text=t,this.rawBytes=r,o==null?this.numBits=r==null?0:8*r.length:this.numBits=o,this.resultPoints=s,this.format=l,this.resultMetadata=null,c==null?this.timestamp=k.currentTimeMillis():this.timestamp=c}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,r)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const r=this.resultPoints;if(r===null)this.resultPoints=t;else if(t!==null&&t.length>0){const o=new Array(r.length+t.length);k.arraycopy(r,0,o,0,r.length),k.arraycopy(t,0,o,r.length,t.length),this.resultPoints=o}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Zt;(function(E){E[E.AZTEC=0]="AZTEC",E[E.CODABAR=1]="CODABAR",E[E.CODE_39=2]="CODE_39",E[E.CODE_93=3]="CODE_93",E[E.CODE_128=4]="CODE_128",E[E.DATA_MATRIX=5]="DATA_MATRIX",E[E.EAN_8=6]="EAN_8",E[E.EAN_13=7]="EAN_13",E[E.ITF=8]="ITF",E[E.MAXICODE=9]="MAXICODE",E[E.PDF_417=10]="PDF_417",E[E.QR_CODE=11]="QR_CODE",E[E.RSS_14=12]="RSS_14",E[E.RSS_EXPANDED=13]="RSS_EXPANDED",E[E.UPC_A=14]="UPC_A",E[E.UPC_E=15]="UPC_E",E[E.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Zt||(Zt={}));var he=Zt,Un;(function(E){E[E.OTHER=0]="OTHER",E[E.ORIENTATION=1]="ORIENTATION",E[E.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",E[E.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",E[E.ISSUE_NUMBER=4]="ISSUE_NUMBER",E[E.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",E[E.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",E[E.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",E[E.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",E[E.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",E[E.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Un||(Un={}));var xt=Un;class jn{constructor(t,r,o,s,l=-1,c=-1){this.rawBytes=t,this.text=r,this.byteSegments=o,this.ecLevel=s,this.structuredAppendSequenceNumber=l,this.structuredAppendParity=c,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class se{exp(t){return this.expTable[t]}log(t){if(t===0)throw new S;return this.logTable[t]}static addOrSubtract(t,r){return t^r}}class le{constructor(t,r){if(r.length===0)throw new S;this.field=t;const o=r.length;if(o>1&&r[0]===0){let s=1;for(;s<o&&r[s]===0;)s++;s===o?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(o-s),k.arraycopy(r,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const r=this.coefficients;let o;if(t===1){o=0;for(let c=0,d=r.length;c!==d;c++){const h=r[c];o=se.addOrSubtract(o,h)}return o}o=r[0];const s=r.length,l=this.field;for(let c=1;c<s;c++)o=se.addOrSubtract(l.multiply(t,o),r[c]);return o}addOrSubtract(t){if(!this.field.equals(t.field))throw new S("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,o=t.coefficients;if(r.length>o.length){const c=r;r=o,o=c}let s=new Int32Array(o.length);const l=o.length-r.length;k.arraycopy(o,0,s,0,l);for(let c=l;c<o.length;c++)s[c]=se.addOrSubtract(r[c-l],o[c]);return new le(this.field,s)}multiply(t){if(!this.field.equals(t.field))throw new S("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const r=this.coefficients,o=r.length,s=t.coefficients,l=s.length,c=new Int32Array(o+l-1),d=this.field;for(let h=0;h<o;h++){const p=r[h];for(let w=0;w<l;w++)c[h+w]=se.addOrSubtract(c[h+w],d.multiply(p,s[w]))}return new le(d,c)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const r=this.coefficients.length,o=this.field,s=new Int32Array(r),l=this.coefficients;for(let c=0;c<r;c++)s[c]=o.multiply(l[c],t);return new le(o,s)}multiplyByMonomial(t,r){if(t<0)throw new S;if(r===0)return this.field.getZero();const o=this.coefficients,s=o.length,l=new Int32Array(s+t),c=this.field;for(let d=0;d<s;d++)l[d]=c.multiply(o[d],r);return new le(c,l)}divide(t){if(!this.field.equals(t.field))throw new S("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new S("Divide by 0");const r=this.field;let o=r.getZero(),s=this;const l=t.getCoefficient(t.getDegree()),c=r.inverse(l);for(;s.getDegree()>=t.getDegree()&&!s.isZero();){const d=s.getDegree()-t.getDegree(),h=r.multiply(s.getCoefficient(s.getDegree()),c),p=t.multiplyByMonomial(d,h),w=r.buildMonomial(d,h);o=o.addOrSubtract(w),s=s.addOrSubtract(p)}return[o,s]}toString(){let t="";for(let r=this.getDegree();r>=0;r--){let o=this.getCoefficient(r);if(o!==0){if(o<0?(t+=" - ",o=-o):t.length>0&&(t+=" + "),r===0||o!==1){const s=this.field.log(o);s===0?t+="1":s===1?t+="a":(t+="a^",t+=s)}r!==0&&(r===1?t+="x":(t+="x^",t+=r))}}return t}}class _e extends x{}_e.kind="ArithmeticException";class de extends se{constructor(t,r,o){super(),this.primitive=t,this.size=r,this.generatorBase=o;const s=new Int32Array(r);let l=1;for(let d=0;d<r;d++)s[d]=l,l*=2,l>=r&&(l^=t,l&=r-1);this.expTable=s;const c=new Int32Array(r);for(let d=0;d<r-1;d++)c[s[d]]=d;this.logTable=c,this.zero=new le(this,Int32Array.from([0])),this.one=new le(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new S;if(r===0)return this.zero;const o=new Int32Array(t+1);return o[0]=r,new le(this,o)}inverse(t){if(t===0)throw new _e;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+b.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}de.AZTEC_DATA_12=new de(4201,4096,1),de.AZTEC_DATA_10=new de(1033,1024,1),de.AZTEC_DATA_6=new de(67,64,1),de.AZTEC_PARAM=new de(19,16,1),de.QR_CODE_FIELD_256=new de(285,256,0),de.DATA_MATRIX_FIELD_256=new de(301,256,1),de.AZTEC_DATA_8=de.DATA_MATRIX_FIELD_256,de.MAXICODE_FIELD_64=de.AZTEC_DATA_6;class at extends x{}at.kind="ReedSolomonException";class bt extends x{}bt.kind="IllegalStateException";class Vn{constructor(t){this.field=t}decode(t,r){const o=this.field,s=new le(o,t),l=new Int32Array(r);let c=!0;for(let N=0;N<r;N++){const D=s.evaluateAt(o.exp(N+o.getGeneratorBase()));l[l.length-1-N]=D,D!==0&&(c=!1)}if(c)return;const d=new le(o,l),h=this.runEuclideanAlgorithm(o.buildMonomial(r,1),d,r),p=h[0],w=h[1],C=this.findErrorLocations(p),A=this.findErrorMagnitudes(w,C);for(let N=0;N<C.length;N++){const D=t.length-1-o.log(C[N]);if(D<0)throw new at("Bad error location");t[D]=de.addOrSubtract(t[D],A[N])}}runEuclideanAlgorithm(t,r,o){if(t.getDegree()<r.getDegree()){const N=t;t=r,r=N}const s=this.field;let l=t,c=r,d=s.getZero(),h=s.getOne();for(;c.getDegree()>=(o/2|0);){let N=l,D=d;if(l=c,d=h,l.isZero())throw new at("r_{i-1} was zero");c=N;let M=s.getZero();const F=l.getCoefficient(l.getDegree()),H=s.inverse(F);for(;c.getDegree()>=l.getDegree()&&!c.isZero();){const te=c.getDegree()-l.getDegree(),ne=s.multiply(c.getCoefficient(c.getDegree()),H);M=M.addOrSubtract(s.buildMonomial(te,ne)),c=c.addOrSubtract(l.multiplyByMonomial(te,ne))}if(h=M.multiply(d).addOrSubtract(D),c.getDegree()>=l.getDegree())throw new bt("Division algorithm failed to reduce polynomial?")}const p=h.getCoefficient(0);if(p===0)throw new at("sigmaTilde(0) was zero");const w=s.inverse(p),C=h.multiplyScalar(w),A=c.multiplyScalar(w);return[C,A]}findErrorLocations(t){const r=t.getDegree();if(r===1)return Int32Array.from([t.getCoefficient(1)]);const o=new Int32Array(r);let s=0;const l=this.field;for(let c=1;c<l.getSize()&&s<r;c++)t.evaluateAt(c)===0&&(o[s]=l.inverse(c),s++);if(s!==r)throw new at("Error locator degree does not match number of roots");return o}findErrorMagnitudes(t,r){const o=r.length,s=new Int32Array(o),l=this.field;for(let c=0;c<o;c++){const d=l.inverse(r[c]);let h=1;for(let p=0;p<o;p++)if(c!==p){const w=l.multiply(r[p],d),C=w&1?w&-2:w|1;h=l.multiply(h,C)}s[c]=l.multiply(t.evaluateAt(d),l.inverse(h)),l.getGeneratorBase()!==0&&(s[c]=l.multiply(s[c],d))}return s}}var ht;(function(E){E[E.UPPER=0]="UPPER",E[E.LOWER=1]="LOWER",E[E.MIXED=2]="MIXED",E[E.DIGIT=3]="DIGIT",E[E.PUNCT=4]="PUNCT",E[E.BINARY=5]="BINARY"})(ht||(ht={}));class Me{decode(t){this.ddata=t;let r=t.getBits(),o=this.extractBits(r),s=this.correctBits(o),l=Me.convertBoolArrayToByteArray(s),c=Me.getEncodedData(s),d=new jn(l,c,null,null);return d.setNumBits(s.length),d}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let r=t.length,o=ht.UPPER,s=ht.UPPER,l="",c=0;for(;c<r;)if(s===ht.BINARY){if(r-c<5)break;let d=Me.readCode(t,c,5);if(c+=5,d===0){if(r-c<11)break;d=Me.readCode(t,c,11)+31,c+=11}for(let h=0;h<d;h++){if(r-c<8){c=r;break}const p=Me.readCode(t,c,8);l+=pe.castAsNonUtf8Char(p),c+=8}s=o}else{let d=s===ht.DIGIT?4:5;if(r-c<d)break;let h=Me.readCode(t,c,d);c+=d;let p=Me.getCharacter(s,h);p.startsWith("CTRL_")?(o=s,s=Me.getTable(p.charAt(5)),p.charAt(6)==="L"&&(o=s)):(l+=p,s=o)}return l}static getTable(t){switch(t){case"L":return ht.LOWER;case"P":return ht.PUNCT;case"M":return ht.MIXED;case"D":return ht.DIGIT;case"B":return ht.BINARY;case"U":default:return ht.UPPER}}static getCharacter(t,r){switch(t){case ht.UPPER:return Me.UPPER_TABLE[r];case ht.LOWER:return Me.LOWER_TABLE[r];case ht.MIXED:return Me.MIXED_TABLE[r];case ht.PUNCT:return Me.PUNCT_TABLE[r];case ht.DIGIT:return Me.DIGIT_TABLE[r];default:throw new bt("Bad table")}}correctBits(t){let r,o;this.ddata.getNbLayers()<=2?(o=6,r=de.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(o=8,r=de.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(o=10,r=de.AZTEC_DATA_10):(o=12,r=de.AZTEC_DATA_12);let s=this.ddata.getNbDatablocks(),l=t.length/o;if(l<s)throw new P;let c=t.length%o,d=new Int32Array(l);for(let A=0;A<l;A++,c+=o)d[A]=Me.readCode(t,c,o);try{new Vn(r).decode(d,l-s)}catch(A){throw new P(A)}let h=(1<<o)-1,p=0;for(let A=0;A<s;A++){let N=d[A];if(N===0||N===h)throw new P;(N===1||N===h-1)&&p++}let w=new Array(s*o-p),C=0;for(let A=0;A<s;A++){let N=d[A];if(N===1||N===h-1)w.fill(N>1,C,C+o-1),C+=o-1;else for(let D=o-1;D>=0;--D)w[C++]=(N&1<<D)!==0}return w}extractBits(t){let r=this.ddata.isCompact(),o=this.ddata.getNbLayers(),s=(r?11:14)+o*4,l=new Int32Array(s),c=new Array(this.totalBitsInLayer(o,r));if(r)for(let d=0;d<l.length;d++)l[d]=d;else{let d=s+1+2*b.truncDivision(b.truncDivision(s,2)-1,15),h=s/2,p=b.truncDivision(d,2);for(let w=0;w<h;w++){let C=w+b.truncDivision(w,15);l[h-w-1]=p-C-1,l[h+w]=p+C+1}}for(let d=0,h=0;d<o;d++){let p=(o-d)*4+(r?9:12),w=d*2,C=s-1-w;for(let A=0;A<p;A++){let N=A*2;for(let D=0;D<2;D++)c[h+N+D]=t.get(l[w+D],l[w+A]),c[h+2*p+N+D]=t.get(l[w+A],l[C-D]),c[h+4*p+N+D]=t.get(l[C-D],l[C-A]),c[h+6*p+N+D]=t.get(l[C-A],l[w+D])}h+=p*8}return c}static readCode(t,r,o){let s=0;for(let l=r;l<r+o;l++)s<<=1,t[l]&&(s|=1);return s}static readByte(t,r){let o=t.length-r;return o>=8?Me.readCode(t,r,8):Me.readCode(t,r,o)<<8-o}static convertBoolArrayToByteArray(t){let r=new Uint8Array((t.length+7)/8);for(let o=0;o<r.length;o++)r[o]=Me.readByte(t,8*o);return r}totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}Me.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Me.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Me.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Me.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Me.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Pe{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,r,o,s){const l=t-o,c=r-s;return Math.sqrt(l*l+c*c)}static sum(t){let r=0;for(let o=0,s=t.length;o!==s;o++){const l=t[o];r+=l}return r}}class cs{static floatToIntBits(t){return t}}cs.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ge{constructor(t,r){this.x=t,this.y=r}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof ge){const r=t;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*cs.floatToIntBits(this.x)+cs.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const r=this.distance(t[0],t[1]),o=this.distance(t[1],t[2]),s=this.distance(t[0],t[2]);let l,c,d;if(o>=r&&o>=s?(c=t[0],l=t[1],d=t[2]):s>=o&&s>=r?(c=t[1],l=t[0],d=t[2]):(c=t[2],l=t[0],d=t[1]),this.crossProductZ(l,c,d)<0){const h=l;l=d,d=h}t[0]=l,t[1]=c,t[2]=d}static distance(t,r){return Pe.distance(t.x,t.y,r.x,r.y)}static crossProductZ(t,r,o){const s=r.x,l=r.y;return(o.x-s)*(t.y-l)-(o.y-l)*(t.x-s)}}class us{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class o1 extends us{constructor(t,r,o,s,l){super(t,r),this.compact=o,this.nbDatablocks=s,this.nbLayers=l}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Jn{constructor(t,r,o,s){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),r==null&&(r=Jn.INIT_SIZE),o==null&&(o=t.getWidth()/2|0),s==null&&(s=t.getHeight()/2|0);const l=r/2|0;if(this.leftInit=o-l,this.rightInit=o+l,this.upInit=s-l,this.downInit=s+l,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new W}detect(){let t=this.leftInit,r=this.rightInit,o=this.upInit,s=this.downInit,l=!1,c=!0,d=!1,h=!1,p=!1,w=!1,C=!1;const A=this.width,N=this.height;for(;c;){c=!1;let D=!0;for(;(D||!h)&&r<A;)D=this.containsBlackPoint(o,s,r,!1),D?(r++,c=!0,h=!0):h||r++;if(r>=A){l=!0;break}let M=!0;for(;(M||!p)&&s<N;)M=this.containsBlackPoint(t,r,s,!0),M?(s++,c=!0,p=!0):p||s++;if(s>=N){l=!0;break}let F=!0;for(;(F||!w)&&t>=0;)F=this.containsBlackPoint(o,s,t,!1),F?(t--,c=!0,w=!0):w||t--;if(t<0){l=!0;break}let H=!0;for(;(H||!C)&&o>=0;)H=this.containsBlackPoint(t,r,o,!0),H?(o--,c=!0,C=!0):C||o--;if(o<0){l=!0;break}c&&(d=!0)}if(!l&&d){const D=r-t;let M=null;for(let ne=1;M===null&&ne<D;ne++)M=this.getBlackPointOnSegment(t,s-ne,t+ne,s);if(M==null)throw new W;let F=null;for(let ne=1;F===null&&ne<D;ne++)F=this.getBlackPointOnSegment(t,o+ne,t+ne,o);if(F==null)throw new W;let H=null;for(let ne=1;H===null&&ne<D;ne++)H=this.getBlackPointOnSegment(r,o+ne,r-ne,o);if(H==null)throw new W;let te=null;for(let ne=1;te===null&&ne<D;ne++)te=this.getBlackPointOnSegment(r,s-ne,r-ne,s);if(te==null)throw new W;return this.centerEdges(te,M,H,F)}else throw new W}getBlackPointOnSegment(t,r,o,s){const l=Pe.round(Pe.distance(t,r,o,s)),c=(o-t)/l,d=(s-r)/l,h=this.image;for(let p=0;p<l;p++){const w=Pe.round(t+p*c),C=Pe.round(r+p*d);if(h.get(w,C))return new ge(w,C)}return null}centerEdges(t,r,o,s){const l=t.getX(),c=t.getY(),d=r.getX(),h=r.getY(),p=o.getX(),w=o.getY(),C=s.getX(),A=s.getY(),N=Jn.CORR;return l<this.width/2?[new ge(C-N,A+N),new ge(d+N,h+N),new ge(p-N,w-N),new ge(l+N,c-N)]:[new ge(C+N,A+N),new ge(d+N,h-N),new ge(p-N,w+N),new ge(l-N,c-N)]}containsBlackPoint(t,r,o,s){const l=this.image;if(s){for(let c=t;c<=r;c++)if(l.get(c,o))return!0}else for(let c=t;c<=r;c++)if(l.get(o,c))return!0;return!1}}Jn.INIT_SIZE=10,Jn.CORR=1;class Ja{static checkAndNudgePoints(t,r){const o=t.getWidth(),s=t.getHeight();let l=!0;for(let c=0;c<r.length&&l;c+=2){const d=Math.floor(r[c]),h=Math.floor(r[c+1]);if(d<-1||d>o||h<-1||h>s)throw new W;l=!1,d===-1?(r[c]=0,l=!0):d===o&&(r[c]=o-1,l=!0),h===-1?(r[c+1]=0,l=!0):h===s&&(r[c+1]=s-1,l=!0)}l=!0;for(let c=r.length-2;c>=0&&l;c-=2){const d=Math.floor(r[c]),h=Math.floor(r[c+1]);if(d<-1||d>o||h<-1||h>s)throw new W;l=!1,d===-1?(r[c]=0,l=!0):d===o&&(r[c]=o-1,l=!0),h===-1?(r[c+1]=0,l=!0):h===s&&(r[c+1]=s-1,l=!0)}}}class Tn{constructor(t,r,o,s,l,c,d,h,p){this.a11=t,this.a21=r,this.a31=o,this.a12=s,this.a22=l,this.a32=c,this.a13=d,this.a23=h,this.a33=p}static quadrilateralToQuadrilateral(t,r,o,s,l,c,d,h,p,w,C,A,N,D,M,F){const H=Tn.quadrilateralToSquare(t,r,o,s,l,c,d,h);return Tn.squareToQuadrilateral(p,w,C,A,N,D,M,F).times(H)}transformPoints(t){const r=t.length,o=this.a11,s=this.a12,l=this.a13,c=this.a21,d=this.a22,h=this.a23,p=this.a31,w=this.a32,C=this.a33;for(let A=0;A<r;A+=2){const N=t[A],D=t[A+1],M=l*N+h*D+C;t[A]=(o*N+c*D+p)/M,t[A+1]=(s*N+d*D+w)/M}}transformPointsWithValues(t,r){const o=this.a11,s=this.a12,l=this.a13,c=this.a21,d=this.a22,h=this.a23,p=this.a31,w=this.a32,C=this.a33,A=t.length;for(let N=0;N<A;N++){const D=t[N],M=r[N],F=l*D+h*M+C;t[N]=(o*D+c*M+p)/F,r[N]=(s*D+d*M+w)/F}}static squareToQuadrilateral(t,r,o,s,l,c,d,h){const p=t-o+l-d,w=r-s+c-h;if(p===0&&w===0)return new Tn(o-t,l-o,t,s-r,c-s,r,0,0,1);{const C=o-l,A=d-l,N=s-c,D=h-c,M=C*D-A*N,F=(p*D-A*w)/M,H=(C*w-p*N)/M;return new Tn(o-t+F*o,d-t+H*d,t,s-r+F*s,h-r+H*h,r,F,H,1)}}static quadrilateralToSquare(t,r,o,s,l,c,d,h){return Tn.squareToQuadrilateral(t,r,o,s,l,c,d,h).buildAdjoint()}buildAdjoint(){return new Tn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new Tn(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class s1 extends Ja{sampleGrid(t,r,o,s,l,c,d,h,p,w,C,A,N,D,M,F,H,te,ne){const J=Tn.quadrilateralToQuadrilateral(s,l,c,d,h,p,w,C,A,N,D,M,F,H,te,ne);return this.sampleGridWithTransform(t,r,o,J)}sampleGridWithTransform(t,r,o,s){if(r<=0||o<=0)throw new W;const l=new Ue(r,o),c=new Float32Array(2*r);for(let d=0;d<o;d++){const h=c.length,p=d+.5;for(let w=0;w<h;w+=2)c[w]=w/2+.5,c[w+1]=p;s.transformPoints(c),Ja.checkAndNudgePoints(t,c);try{for(let w=0;w<h;w+=2)t.get(Math.floor(c[w]),Math.floor(c[w+1]))&&l.set(w/2,d)}catch{throw new W}}return l}}class gr{static setGridSampler(t){gr.gridSampler=t}static getInstance(){return gr.gridSampler}}gr.gridSampler=new s1;class Ht{constructor(t,r){this.x=t,this.y=r}toResultPoint(){return new ge(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class a1{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let r=this.getMatrixCenter(),o=this.getBullsEyeCorners(r);if(t){let c=o[0];o[0]=o[2],o[2]=c}this.extractParameters(o);let s=this.sampleGrid(this.image,o[this.shift%4],o[(this.shift+1)%4],o[(this.shift+2)%4],o[(this.shift+3)%4]),l=this.getMatrixCornerPoints(o);return new o1(s,l,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new W;let r=2*this.nbCenterLayers,o=new Int32Array([this.sampleLine(t[0],t[1],r),this.sampleLine(t[1],t[2],r),this.sampleLine(t[2],t[3],r),this.sampleLine(t[3],t[0],r)]);this.shift=this.getRotation(o,r);let s=0;for(let c=0;c<4;c++){let d=o[(this.shift+c)%4];this.compact?(s<<=7,s+=d>>1&127):(s<<=10,s+=(d>>2&992)+(d>>1&31))}let l=this.getCorrectedParameterData(s,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)}getRotation(t,r){let o=0;t.forEach((s,l,c)=>{let d=(s>>r-2<<1)+(s&1);o=(o<<3)+d}),o=((o&1)<<11)+(o>>1);for(let s=0;s<4;s++)if(b.bitCount(o^this.EXPECTED_CORNER_BITS[s])<=2)return s;throw new W}getCorrectedParameterData(t,r){let o,s;r?(o=7,s=2):(o=10,s=4);let l=o-s,c=new Int32Array(o);for(let h=o-1;h>=0;--h)c[h]=t&15,t>>=4;try{new Vn(de.AZTEC_PARAM).decode(c,l)}catch{throw new W}let d=0;for(let h=0;h<s;h++)d=(d<<4)+c[h];return d}getBullsEyeCorners(t){let r=t,o=t,s=t,l=t,c=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let C=this.getFirstDifferent(r,c,1,-1),A=this.getFirstDifferent(o,c,1,1),N=this.getFirstDifferent(s,c,-1,1),D=this.getFirstDifferent(l,c,-1,-1);if(this.nbCenterLayers>2){let M=this.distancePoint(D,C)*this.nbCenterLayers/(this.distancePoint(l,r)*(this.nbCenterLayers+2));if(M<.75||M>1.25||!this.isWhiteOrBlackRectangle(C,A,N,D))break}r=C,o=A,s=N,l=D,c=!c}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new W;this.compact=this.nbCenterLayers===5;let d=new ge(r.getX()+.5,r.getY()-.5),h=new ge(o.getX()+.5,o.getY()+.5),p=new ge(s.getX()-.5,s.getY()+.5),w=new ge(l.getX()-.5,l.getY()-.5);return this.expandSquare([d,h,p,w],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,r,o,s;try{let d=new Jn(this.image).detect();t=d[0],r=d[1],o=d[2],s=d[3]}catch{let h=this.image.getWidth()/2,p=this.image.getHeight()/2;t=this.getFirstDifferent(new Ht(h+7,p-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Ht(h+7,p+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new Ht(h-7,p+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new Ht(h-7,p-7),!1,-1,-1).toResultPoint()}let l=Pe.round((t.getX()+s.getX()+r.getX()+o.getX())/4),c=Pe.round((t.getY()+s.getY()+r.getY()+o.getY())/4);try{let d=new Jn(this.image,15,l,c).detect();t=d[0],r=d[1],o=d[2],s=d[3]}catch{t=this.getFirstDifferent(new Ht(l+7,c-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Ht(l+7,c+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new Ht(l-7,c+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new Ht(l-7,c-7),!1,-1,-1).toResultPoint()}return l=Pe.round((t.getX()+s.getX()+r.getX()+o.getX())/4),c=Pe.round((t.getY()+s.getY()+r.getY()+o.getY())/4),new Ht(l,c)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,r,o,s,l){let c=gr.getInstance(),d=this.getDimension(),h=d/2-this.nbCenterLayers,p=d/2+this.nbCenterLayers;return c.sampleGrid(t,d,d,h,h,p,h,p,p,h,p,r.getX(),r.getY(),o.getX(),o.getY(),s.getX(),s.getY(),l.getX(),l.getY())}sampleLine(t,r,o){let s=0,l=this.distanceResultPoint(t,r),c=l/o,d=t.getX(),h=t.getY(),p=c*(r.getX()-t.getX())/l,w=c*(r.getY()-t.getY())/l;for(let C=0;C<o;C++)this.image.get(Pe.round(d+C*p),Pe.round(h+C*w))&&(s|=1<<o-C-1);return s}isWhiteOrBlackRectangle(t,r,o,s){let l=3;t=new Ht(t.getX()-l,t.getY()+l),r=new Ht(r.getX()-l,r.getY()-l),o=new Ht(o.getX()+l,o.getY()-l),s=new Ht(s.getX()+l,s.getY()+l);let c=this.getColor(s,t);if(c===0)return!1;let d=this.getColor(t,r);return d!==c||(d=this.getColor(r,o),d!==c)?!1:(d=this.getColor(o,s),d===c)}getColor(t,r){let o=this.distancePoint(t,r),s=(r.getX()-t.getX())/o,l=(r.getY()-t.getY())/o,c=0,d=t.getX(),h=t.getY(),p=this.image.get(t.getX(),t.getY()),w=Math.ceil(o);for(let A=0;A<w;A++)d+=s,h+=l,this.image.get(Pe.round(d),Pe.round(h))!==p&&c++;let C=c/o;return C>.1&&C<.9?0:C<=.1===p?1:-1}getFirstDifferent(t,r,o,s){let l=t.getX()+o,c=t.getY()+s;for(;this.isValid(l,c)&&this.image.get(l,c)===r;)l+=o,c+=s;for(l-=o,c-=s;this.isValid(l,c)&&this.image.get(l,c)===r;)l+=o;for(l-=o;this.isValid(l,c)&&this.image.get(l,c)===r;)c+=s;return c-=s,new Ht(l,c)}expandSquare(t,r,o){let s=o/(2*r),l=t[0].getX()-t[2].getX(),c=t[0].getY()-t[2].getY(),d=(t[0].getX()+t[2].getX())/2,h=(t[0].getY()+t[2].getY())/2,p=new ge(d+s*l,h+s*c),w=new ge(d-s*l,h-s*c);l=t[1].getX()-t[3].getX(),c=t[1].getY()-t[3].getY(),d=(t[1].getX()+t[3].getX())/2,h=(t[1].getY()+t[3].getY())/2;let C=new ge(d+s*l,h+s*c),A=new ge(d-s*l,h-s*c);return[p,C,w,A]}isValid(t,r){return t>=0&&t<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(t){let r=Pe.round(t.getX()),o=Pe.round(t.getY());return this.isValid(r,o)}distancePoint(t,r){return Pe.distance(t.getX(),t.getY(),r.getX(),r.getY())}distanceResultPoint(t,r){return Pe.distance(t.getX(),t.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(b.truncDivision(this.nbLayers-4,8)+1)+15}}class fs{decode(t,r=null){let o=null,s=new a1(t.getBlackMatrix()),l=null,c=null;try{let w=s.detectMirror(!1);l=w.getPoints(),this.reportFoundResultPoints(r,l),c=new Me().decode(w)}catch(w){o=w}if(c==null)try{let w=s.detectMirror(!0);l=w.getPoints(),this.reportFoundResultPoints(r,l),c=new Me().decode(w)}catch(w){throw o??w}let d=new $(c.getText(),c.getRawBytes(),c.getNumBits(),l,he.AZTEC,k.currentTimeMillis()),h=c.getByteSegments();h!=null&&d.putMetadata(xt.BYTE_SEGMENTS,h);let p=c.getECLevel();return p!=null&&d.putMetadata(xt.ERROR_CORRECTION_LEVEL,p),d}reportFoundResultPoints(t,r){if(t!=null){let o=t.get(Z.NEED_RESULT_POINT_CALLBACK);o!=null&&r.forEach((s,l,c)=>{o.foundPossibleResultPoint(s)})}}reset(){}}class y2 extends Tt{constructor(t=500){super(new fs,t)}}class mt{decode(t,r){try{return this.doDecode(t,r)}catch{if(r&&r.get(Z.TRY_HARDER)===!0&&t.isRotateSupported()){const l=t.rotateCounterClockwise(),c=this.doDecode(l,r),d=c.getResultMetadata();let h=270;d!==null&&d.get(xt.ORIENTATION)===!0&&(h=h+d.get(xt.ORIENTATION)%360),c.putMetadata(xt.ORIENTATION,h);const p=c.getResultPoints();if(p!==null){const w=l.getHeight();for(let C=0;C<p.length;C++)p[C]=new ge(w-p[C].getY()-1,p[C].getX())}return c}else throw new W}}reset(){}doDecode(t,r){const o=t.getWidth(),s=t.getHeight();let l=new j(o);const c=r&&r.get(Z.TRY_HARDER)===!0,d=Math.max(1,s>>(c?8:5));let h;c?h=s:h=15;const p=Math.trunc(s/2);for(let w=0;w<h;w++){const C=Math.trunc((w+1)/2),A=(w&1)===0,N=p+d*(A?C:-C);if(N<0||N>=s)break;try{l=t.getBlackRow(N,l)}catch{continue}for(let D=0;D<2;D++){if(D===1&&(l.reverse(),r&&r.get(Z.NEED_RESULT_POINT_CALLBACK)===!0)){const M=new Map;r.forEach((F,H)=>M.set(H,F)),M.delete(Z.NEED_RESULT_POINT_CALLBACK),r=M}try{const M=this.decodeRow(N,l,r);if(D===1){M.putMetadata(xt.ORIENTATION,180);const F=M.getResultPoints();F!==null&&(F[0]=new ge(o-F[0].getX()-1,F[0].getY()),F[1]=new ge(o-F[1].getX()-1,F[1].getY()))}return M}catch{}}}throw new W}static recordPattern(t,r,o){const s=o.length;for(let p=0;p<s;p++)o[p]=0;const l=t.getSize();if(r>=l)throw new W;let c=!t.get(r),d=0,h=r;for(;h<l;){if(t.get(h)!==c)o[d]++;else{if(++d===s)break;o[d]=1,c=!c}h++}if(!(d===s||d===s-1&&h===l))throw new W}static recordPatternInReverse(t,r,o){let s=o.length,l=t.get(r);for(;r>0&&s>=0;)t.get(--r)!==l&&(s--,l=!l);if(s>=0)throw new W;mt.recordPattern(t,r+1,o)}static patternMatchVariance(t,r,o){const s=t.length;let l=0,c=0;for(let p=0;p<s;p++)l+=t[p],c+=r[p];if(l<c)return Number.POSITIVE_INFINITY;const d=l/c;o*=d;let h=0;for(let p=0;p<s;p++){const w=t[p],C=r[p]*d,A=w>C?w-C:C-w;if(A>o)return Number.POSITIVE_INFINITY;h+=A}return h/l}}class oe extends mt{static findStartPattern(t){const r=t.getSize(),o=t.getNextSet(0);let s=0,l=Int32Array.from([0,0,0,0,0,0]),c=o,d=!1;const h=6;for(let p=o;p<r;p++)if(t.get(p)!==d)l[s]++;else{if(s===h-1){let w=oe.MAX_AVG_VARIANCE,C=-1;for(let A=oe.CODE_START_A;A<=oe.CODE_START_C;A++){const N=mt.patternMatchVariance(l,oe.CODE_PATTERNS[A],oe.MAX_INDIVIDUAL_VARIANCE);N<w&&(w=N,C=A)}if(C>=0&&t.isRange(Math.max(0,c-(p-c)/2),c,!1))return Int32Array.from([c,p,C]);c+=l[0]+l[1],l=l.slice(2,l.length-1),l[s-1]=0,l[s]=0,s--}else s++;l[s]=1,d=!d}throw new W}static decodeCode(t,r,o){mt.recordPattern(t,o,r);let s=oe.MAX_AVG_VARIANCE,l=-1;for(let c=0;c<oe.CODE_PATTERNS.length;c++){const d=oe.CODE_PATTERNS[c],h=this.patternMatchVariance(r,d,oe.MAX_INDIVIDUAL_VARIANCE);h<s&&(s=h,l=c)}if(l>=0)return l;throw new W}decodeRow(t,r,o){const s=o&&o.get(Z.ASSUME_GS1)===!0,l=oe.findStartPattern(r),c=l[2];let d=0;const h=new Uint8Array(20);h[d++]=c;let p;switch(c){case oe.CODE_START_A:p=oe.CODE_CODE_A;break;case oe.CODE_START_B:p=oe.CODE_CODE_B;break;case oe.CODE_START_C:p=oe.CODE_CODE_C;break;default:throw new P}let w=!1,C=!1,A="",N=l[0],D=l[1];const M=Int32Array.from([0,0,0,0,0,0]);let F=0,H=0,te=c,ne=0,J=!0,Oe=!1,Se=!1;for(;!w;){const Ei=C;switch(C=!1,F=H,H=oe.decodeCode(r,M,D),h[d++]=H,H!==oe.CODE_STOP&&(J=!0),H!==oe.CODE_STOP&&(ne++,te+=ne*H),N=D,D+=M.reduce((Z2,K2)=>Z2+K2,0),H){case oe.CODE_START_A:case oe.CODE_START_B:case oe.CODE_START_C:throw new P}switch(p){case oe.CODE_CODE_A:if(H<64)Se===Oe?A+=String.fromCharCode(32+H):A+=String.fromCharCode(32+H+128),Se=!1;else if(H<96)Se===Oe?A+=String.fromCharCode(H-64):A+=String.fromCharCode(H+64),Se=!1;else switch(H!==oe.CODE_STOP&&(J=!1),H){case oe.CODE_FNC_1:s&&(A.length===0?A+="]C1":A+="");break;case oe.CODE_FNC_2:case oe.CODE_FNC_3:break;case oe.CODE_FNC_4_A:!Oe&&Se?(Oe=!0,Se=!1):Oe&&Se?(Oe=!1,Se=!1):Se=!0;break;case oe.CODE_SHIFT:C=!0,p=oe.CODE_CODE_B;break;case oe.CODE_CODE_B:p=oe.CODE_CODE_B;break;case oe.CODE_CODE_C:p=oe.CODE_CODE_C;break;case oe.CODE_STOP:w=!0;break}break;case oe.CODE_CODE_B:if(H<96)Se===Oe?A+=String.fromCharCode(32+H):A+=String.fromCharCode(32+H+128),Se=!1;else switch(H!==oe.CODE_STOP&&(J=!1),H){case oe.CODE_FNC_1:s&&(A.length===0?A+="]C1":A+="");break;case oe.CODE_FNC_2:case oe.CODE_FNC_3:break;case oe.CODE_FNC_4_B:!Oe&&Se?(Oe=!0,Se=!1):Oe&&Se?(Oe=!1,Se=!1):Se=!0;break;case oe.CODE_SHIFT:C=!0,p=oe.CODE_CODE_A;break;case oe.CODE_CODE_A:p=oe.CODE_CODE_A;break;case oe.CODE_CODE_C:p=oe.CODE_CODE_C;break;case oe.CODE_STOP:w=!0;break}break;case oe.CODE_CODE_C:if(H<100)H<10&&(A+="0"),A+=H;else switch(H!==oe.CODE_STOP&&(J=!1),H){case oe.CODE_FNC_1:s&&(A.length===0?A+="]C1":A+="");break;case oe.CODE_CODE_A:p=oe.CODE_CODE_A;break;case oe.CODE_CODE_B:p=oe.CODE_CODE_B;break;case oe.CODE_STOP:w=!0;break}break}Ei&&(p=p===oe.CODE_CODE_A?oe.CODE_CODE_B:oe.CODE_CODE_A)}const $t=D-N;if(D=r.getNextUnset(D),!r.isRange(D,Math.min(r.getSize(),D+(D-N)/2),!1))throw new W;if(te-=ne*F,te%103!==F)throw new L;const Rn=A.length;if(Rn===0)throw new W;Rn>0&&J&&(p===oe.CODE_CODE_C?A=A.substring(0,Rn-2):A=A.substring(0,Rn-1));const Jt=(l[1]+l[0])/2,Ze=N+$t/2,Dt=h.length,cn=new Uint8Array(Dt);for(let Ei=0;Ei<Dt;Ei++)cn[Ei]=h[Ei];const yi=[new ge(Jt,t),new ge(Ze,t)];return new $(A,cn,0,yi,he.CODE_128,new Date().getTime())}}oe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],oe.MAX_AVG_VARIANCE=.25,oe.MAX_INDIVIDUAL_VARIANCE=.7,oe.CODE_SHIFT=98,oe.CODE_CODE_C=99,oe.CODE_CODE_B=100,oe.CODE_CODE_A=101,oe.CODE_FNC_1=102,oe.CODE_FNC_2=97,oe.CODE_FNC_3=96,oe.CODE_FNC_4_A=101,oe.CODE_FNC_4_B=100,oe.CODE_START_A=103,oe.CODE_START_B=104,oe.CODE_START_C=105,oe.CODE_STOP=106;class yt extends mt{constructor(t=!1,r=!1){super(),this.usingCheckDigit=t,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,r,o){let s=this.counters;s.fill(0),this.decodeRowResult="";let l=yt.findAsteriskPattern(r,s),c=r.getNextSet(l[1]),d=r.getSize(),h,p;do{yt.recordPattern(r,c,s);let M=yt.toNarrowWidePattern(s);if(M<0)throw new W;h=yt.patternToChar(M),this.decodeRowResult+=h,p=c;for(let F of s)c+=F;c=r.getNextSet(c)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let w=0;for(let M of s)w+=M;let C=c-p-w;if(c!==d&&C*2<w)throw new W;if(this.usingCheckDigit){let M=this.decodeRowResult.length-1,F=0;for(let H=0;H<M;H++)F+=yt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(H));if(this.decodeRowResult.charAt(M)!==yt.ALPHABET_STRING.charAt(F%43))throw new L;this.decodeRowResult=this.decodeRowResult.substring(0,M)}if(this.decodeRowResult.length===0)throw new W;let A;this.extendedMode?A=yt.decodeExtended(this.decodeRowResult):A=this.decodeRowResult;let N=(l[1]+l[0])/2,D=p+w/2;return new $(A,null,0,[new ge(N,t),new ge(D,t)],he.CODE_39,new Date().getTime())}static findAsteriskPattern(t,r){let o=t.getSize(),s=t.getNextSet(0),l=0,c=s,d=!1,h=r.length;for(let p=s;p<o;p++)if(t.get(p)!==d)r[l]++;else{if(l===h-1){if(this.toNarrowWidePattern(r)===yt.ASTERISK_ENCODING&&t.isRange(Math.max(0,c-Math.floor((p-c)/2)),c,!1))return[c,p];c+=r[0]+r[1],r.copyWithin(0,2,2+l-1),r[l-1]=0,r[l]=0,l--}else l++;r[l]=1,d=!d}throw new W}static toNarrowWidePattern(t){let r=t.length,o=0,s;do{let l=2147483647;for(let h of t)h<l&&h>o&&(l=h);o=l,s=0;let c=0,d=0;for(let h=0;h<r;h++){let p=t[h];p>o&&(d|=1<<r-1-h,s++,c+=p)}if(s===3){for(let h=0;h<r&&s>0;h++){let p=t[h];if(p>o&&(s--,p*2>=c))return-1}return d}}while(s>3);return-1}static patternToChar(t){for(let r=0;r<yt.CHARACTER_ENCODINGS.length;r++)if(yt.CHARACTER_ENCODINGS[r]===t)return yt.ALPHABET_STRING.charAt(r);if(t===yt.ASTERISK_ENCODING)return"*";throw new W}static decodeExtended(t){let r=t.length,o="";for(let s=0;s<r;s++){let l=t.charAt(s);if(l==="+"||l==="$"||l==="%"||l==="/"){let c=t.charAt(s+1),d="\0";switch(l){case"+":if(c>="A"&&c<="Z")d=String.fromCharCode(c.charCodeAt(0)+32);else throw new P;break;case"$":if(c>="A"&&c<="Z")d=String.fromCharCode(c.charCodeAt(0)-64);else throw new P;break;case"%":if(c>="A"&&c<="E")d=String.fromCharCode(c.charCodeAt(0)-38);else if(c>="F"&&c<="J")d=String.fromCharCode(c.charCodeAt(0)-11);else if(c>="K"&&c<="O")d=String.fromCharCode(c.charCodeAt(0)+16);else if(c>="P"&&c<="T")d=String.fromCharCode(c.charCodeAt(0)+43);else if(c==="U")d="\0";else if(c==="V")d="@";else if(c==="W")d="`";else if(c==="X"||c==="Y"||c==="Z")d="";else throw new P;break;case"/":if(c>="A"&&c<="O")d=String.fromCharCode(c.charCodeAt(0)-32);else if(c==="Z")d=":";else throw new P;break}o+=d,s++}else o+=l}return o}}yt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",yt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],yt.ASTERISK_ENCODING=148;class Xe extends mt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,r,o){let s=this.decodeStart(r),l=this.decodeEnd(r),c=new Ae;Xe.decodeMiddle(r,s[1],l[0],c);let d=c.toString(),h=null;o!=null&&(h=o.get(Z.ALLOWED_LENGTHS)),h==null&&(h=Xe.DEFAULT_ALLOWED_LENGTHS);let p=d.length,w=!1,C=0;for(let D of h){if(p===D){w=!0;break}D>C&&(C=D)}if(!w&&p>C&&(w=!0),!w)throw new P;const A=[new ge(s[1],t),new ge(l[0],t)];return new $(d,null,0,A,he.ITF,new Date().getTime())}static decodeMiddle(t,r,o,s){let l=new Int32Array(10),c=new Int32Array(5),d=new Int32Array(5);for(l.fill(0),c.fill(0),d.fill(0);r<o;){mt.recordPattern(t,r,l);for(let p=0;p<5;p++){let w=2*p;c[p]=l[w],d[p]=l[w+1]}let h=Xe.decodeDigit(c);s.append(h.toString()),h=this.decodeDigit(d),s.append(h.toString()),l.forEach(function(p){r+=p})}}decodeStart(t){let r=Xe.skipWhiteSpace(t),o=Xe.findGuardPattern(t,r,Xe.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(t,o[0]),o}validateQuietZone(t,r){let o=this.narrowLineWidth*10;o=o<r?o:r;for(let s=r-1;o>0&&s>=0&&!t.get(s);s--)o--;if(o!==0)throw new W}static skipWhiteSpace(t){const r=t.getSize(),o=t.getNextSet(0);if(o===r)throw new W;return o}decodeEnd(t){t.reverse();try{let r=Xe.skipWhiteSpace(t),o;try{o=Xe.findGuardPattern(t,r,Xe.END_PATTERN_REVERSED[0])}catch(l){l instanceof W&&(o=Xe.findGuardPattern(t,r,Xe.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,o[0]);let s=o[0];return o[0]=t.getSize()-o[1],o[1]=t.getSize()-s,o}finally{t.reverse()}}static findGuardPattern(t,r,o){let s=o.length,l=new Int32Array(s),c=t.getSize(),d=!1,h=0,p=r;l.fill(0);for(let w=r;w<c;w++)if(t.get(w)!==d)l[h]++;else{if(h===s-1){if(mt.patternMatchVariance(l,o,Xe.MAX_INDIVIDUAL_VARIANCE)<Xe.MAX_AVG_VARIANCE)return[p,w];p+=l[0]+l[1],k.arraycopy(l,2,l,0,h-1),l[h-1]=0,l[h]=0,h--}else h++;l[h]=1,d=!d}throw new W}static decodeDigit(t){let r=Xe.MAX_AVG_VARIANCE,o=-1,s=Xe.PATTERNS.length;for(let l=0;l<s;l++){let c=Xe.PATTERNS[l],d=mt.patternMatchVariance(t,c,Xe.MAX_INDIVIDUAL_VARIANCE);d<r?(r=d,o=l):d===r&&(o=-1)}if(o>=0)return o%10;throw new W}}Xe.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Xe.MAX_AVG_VARIANCE=.38,Xe.MAX_INDIVIDUAL_VARIANCE=.5,Xe.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Xe.START_PATTERN=Int32Array.from([1,1,1,1]),Xe.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class lt extends mt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let r=!1,o,s=0,l=Int32Array.from([0,0,0]);for(;!r;){l=Int32Array.from([0,0,0]),o=lt.findGuardPattern(t,s,!1,this.START_END_PATTERN,l);let c=o[0];s=o[1];let d=c-(s-c);d>=0&&(r=t.isRange(d,c,!1))}return o}static checkChecksum(t){return lt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let o=parseInt(t.charAt(r-1),10);return lt.getStandardUPCEANChecksum(t.substring(0,r-1))===o}static getStandardUPCEANChecksum(t){let r=t.length,o=0;for(let s=r-1;s>=0;s-=2){let l=t.charAt(s).charCodeAt(0)-48;if(l<0||l>9)throw new P;o+=l}o*=3;for(let s=r-2;s>=0;s-=2){let l=t.charAt(s).charCodeAt(0)-48;if(l<0||l>9)throw new P;o+=l}return(1e3-o)%10}static decodeEnd(t,r){return lt.findGuardPattern(t,r,!1,lt.START_END_PATTERN,new Int32Array(lt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,r,o,s){return this.findGuardPattern(t,r,o,s,new Int32Array(s.length))}static findGuardPattern(t,r,o,s,l){let c=t.getSize();r=o?t.getNextUnset(r):t.getNextSet(r);let d=0,h=r,p=s.length,w=o;for(let C=r;C<c;C++)if(t.get(C)!==w)l[d]++;else{if(d===p-1){if(mt.patternMatchVariance(l,s,lt.MAX_INDIVIDUAL_VARIANCE)<lt.MAX_AVG_VARIANCE)return Int32Array.from([h,C]);h+=l[0]+l[1];let A=l.slice(2,l.length-1);for(let N=0;N<d-1;N++)l[N]=A[N];l[d-1]=0,l[d]=0,d--}else d++;l[d]=1,w=!w}throw new W}static decodeDigit(t,r,o,s){this.recordPattern(t,o,r);let l=this.MAX_AVG_VARIANCE,c=-1,d=s.length;for(let h=0;h<d;h++){let p=s[h],w=mt.patternMatchVariance(r,p,lt.MAX_INDIVIDUAL_VARIANCE);w<l&&(l=w,c=h)}if(c>=0)return c;throw new W}}lt.MAX_AVG_VARIANCE=.48,lt.MAX_INDIVIDUAL_VARIANCE=.7,lt.START_END_PATTERN=Int32Array.from([1,1,1]),lt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),lt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),lt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class eo{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,o){let s=this.decodeRowStringBuffer,l=this.decodeMiddle(r,o,s),c=s.toString(),d=eo.parseExtensionString(c),h=[new ge((o[0]+o[1])/2,t),new ge(l,t)],p=new $(c,null,0,h,he.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&p.putAllMetadata(d),p}decodeMiddle(t,r,o){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=t.getSize(),c=r[1],d=0;for(let p=0;p<5&&c<l;p++){let w=lt.decodeDigit(t,s,c,lt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+w%10);for(let C of s)c+=C;w>=10&&(d|=1<<4-p),p!==4&&(c=t.getNextSet(c),c=t.getNextUnset(c))}if(o.length!==5)throw new W;let h=this.determineCheckDigit(d);if(eo.extensionChecksum(o.toString())!==h)throw new W;return c}static extensionChecksum(t){let r=t.length,o=0;for(let s=r-2;s>=0;s-=2)o+=t.charAt(s).charCodeAt(0)-48;o*=3;for(let s=r-1;s>=0;s-=2)o+=t.charAt(s).charCodeAt(0)-48;return o*=3,o%10}determineCheckDigit(t){for(let r=0;r<10;r++)if(t===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new W}static parseExtensionString(t){if(t.length!==5)return null;let r=eo.parseExtension5String(t);return r==null?null:new Map([[xt.SUGGESTED_PRICE,r]])}static parseExtension5String(t){let r;switch(t.charAt(0)){case"0":r="£";break;case"5":r="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let o=parseInt(t.substring(1)),s=(o/100).toString(),l=o%100,c=l<10?"0"+l:l.toString();return r+s+"."+c}}class el{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,o){let s=this.decodeRowStringBuffer,l=this.decodeMiddle(r,o,s),c=s.toString(),d=el.parseExtensionString(c),h=[new ge((o[0]+o[1])/2,t),new ge(l,t)],p=new $(c,null,0,h,he.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&p.putAllMetadata(d),p}decodeMiddle(t,r,o){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=t.getSize(),c=r[1],d=0;for(let h=0;h<2&&c<l;h++){let p=lt.decodeDigit(t,s,c,lt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+p%10);for(let w of s)c+=w;p>=10&&(d|=1<<1-h),h!==1&&(c=t.getNextSet(c),c=t.getNextUnset(c))}if(o.length!==2)throw new W;if(parseInt(o.toString())%4!==d)throw new W;return c}static parseExtensionString(t){return t.length!==2?null:new Map([[xt.ISSUE_NUMBER,parseInt(t)]])}}class l1{static decodeRow(t,r,o){let s=lt.findGuardPattern(r,o,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new eo().decodeRow(t,r,s)}catch{return new el().decodeRow(t,r,s)}}}l1.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class je extends lt{constructor(){super(),this.decodeRowStringBuffer="",je.L_AND_G_PATTERNS=je.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let r=je.L_PATTERNS[t-10],o=new Int32Array(r.length);for(let s=0;s<r.length;s++)o[s]=r[r.length-s-1];je.L_AND_G_PATTERNS[t]=o}}decodeRow(t,r,o){let s=je.findStartGuardPattern(r),l=o==null?null:o.get(Z.NEED_RESULT_POINT_CALLBACK);if(l!=null){const J=new ge((s[0]+s[1])/2,t);l.foundPossibleResultPoint(J)}let c=this.decodeMiddle(r,s,this.decodeRowStringBuffer),d=c.rowOffset,h=c.resultString;if(l!=null){const J=new ge(d,t);l.foundPossibleResultPoint(J)}let p=this.decodeEnd(r,d);if(l!=null){const J=new ge((p[0]+p[1])/2,t);l.foundPossibleResultPoint(J)}let w=p[1],C=w+(w-p[0]);if(C>=r.getSize()||!r.isRange(w,C,!1))throw new W;let A=h.toString();if(A.length<8)throw new P;if(!je.checkChecksum(A))throw new L;let N=(s[1]+s[0])/2,D=(p[1]+p[0])/2,M=this.getBarcodeFormat(),F=[new ge(N,t),new ge(D,t)],H=new $(A,null,0,F,M,new Date().getTime()),te=0;try{let J=l1.decodeRow(t,r,p[1]);H.putMetadata(xt.UPC_EAN_EXTENSION,J.getText()),H.putAllMetadata(J.getResultMetadata()),H.addResultPoints(J.getResultPoints()),te=J.getText().length}catch{}let ne=o==null?null:o.get(Z.ALLOWED_EAN_EXTENSIONS);if(ne!=null){let J=!1;for(let Oe in ne)if(te.toString()===Oe){J=!0;break}if(!J)throw new W}return H}decodeEnd(t,r){return je.findGuardPattern(t,r,!1,je.START_END_PATTERN,new Int32Array(je.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return je.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let o=parseInt(t.charAt(r-1),10);return je.getStandardUPCEANChecksum(t.substring(0,r-1))===o}static getStandardUPCEANChecksum(t){let r=t.length,o=0;for(let s=r-1;s>=0;s-=2){let l=t.charAt(s).charCodeAt(0)-48;if(l<0||l>9)throw new P;o+=l}o*=3;for(let s=r-2;s>=0;s-=2){let l=t.charAt(s).charCodeAt(0)-48;if(l<0||l>9)throw new P;o+=l}return(1e3-o)%10}}class zr extends je{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,o){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=t.getSize(),c=r[1],d=0;for(let p=0;p<6&&c<l;p++){let w=je.decodeDigit(t,s,c,je.L_AND_G_PATTERNS);o+=String.fromCharCode(48+w%10);for(let C of s)c+=C;w>=10&&(d|=1<<5-p)}o=zr.determineFirstDigit(o,d),c=je.findGuardPattern(t,c,!0,je.MIDDLE_PATTERN,new Int32Array(je.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<6&&c<l;p++){let w=je.decodeDigit(t,s,c,je.L_PATTERNS);o+=String.fromCharCode(48+w);for(let C of s)c+=C}return{rowOffset:c,resultString:o}}getBarcodeFormat(){return he.EAN_13}static determineFirstDigit(t,r){for(let o=0;o<10;o++)if(r===this.FIRST_DIGIT_ENCODINGS[o])return t=String.fromCharCode(48+o)+t,t;throw new W}}zr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class c1 extends je{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,o){const s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=t.getSize(),c=r[1];for(let h=0;h<4&&c<l;h++){let p=je.decodeDigit(t,s,c,je.L_PATTERNS);o+=String.fromCharCode(48+p);for(let w of s)c+=w}c=je.findGuardPattern(t,c,!0,je.MIDDLE_PATTERN,new Int32Array(je.MIDDLE_PATTERN.length).fill(0))[1];for(let h=0;h<4&&c<l;h++){let p=je.decodeDigit(t,s,c,je.L_PATTERNS);o+=String.fromCharCode(48+p);for(let w of s)c+=w}return{rowOffset:c,resultString:o}}getBarcodeFormat(){return he.EAN_8}}class u1 extends je{constructor(){super(...arguments),this.ean13Reader=new zr}getBarcodeFormat(){return he.UPC_A}decode(t,r){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,r,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,r,o))}decodeMiddle(t,r,o){return this.ean13Reader.decodeMiddle(t,r,o)}maybeReturnResult(t){let r=t.getText();if(r.charAt(0)==="0"){let o=new $(r.substring(1),null,null,t.getResultPoints(),he.UPC_A);return t.getResultMetadata()!=null&&o.putAllMetadata(t.getResultMetadata()),o}else throw new W}reset(){this.ean13Reader.reset()}}class bn extends je{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,r,o){const s=this.decodeMiddleCounters.map(p=>p);s[0]=0,s[1]=0,s[2]=0,s[3]=0;const l=t.getSize();let c=r[1],d=0;for(let p=0;p<6&&c<l;p++){const w=bn.decodeDigit(t,s,c,bn.L_AND_G_PATTERNS);o+=String.fromCharCode(48+w%10);for(let C of s)c+=C;w>=10&&(d|=1<<5-p)}let h=bn.determineNumSysAndCheckDigit(o,d);return{rowOffset:c,resultString:h}}decodeEnd(t,r){return bn.findGuardPatternWithoutCounters(t,r,!0,bn.MIDDLE_END_PATTERN)}checkChecksum(t){return je.checkChecksum(bn.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,r){for(let o=0;o<=1;o++)for(let s=0;s<10;s++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][s]){let l=String.fromCharCode(48+o),c=String.fromCharCode(48+s);return l+t+c}throw W.getNotFoundInstance()}getBarcodeFormat(){return he.UPC_E}static convertUPCEtoUPCA(t){const r=t.slice(1,7).split("").map(l=>l.charCodeAt(0)),o=new Ae;o.append(t.charAt(0));let s=r[5];switch(s){case 0:case 1:case 2:o.appendChars(r,0,2),o.append(s),o.append("0000"),o.appendChars(r,2,3);break;case 3:o.appendChars(r,0,3),o.append("00000"),o.appendChars(r,3,2);break;case 4:o.appendChars(r,0,4),o.append("00000"),o.append(r[4]);break;default:o.appendChars(r,0,5),o.append("0000"),o.append(s);break}return t.length>=8&&o.append(t.charAt(7)),o.toString()}}bn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),bn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class tl extends mt{constructor(t){super();let r=t==null?null:t.get(Z.POSSIBLE_FORMATS),o=[];a(r)?(o.push(new zr),o.push(new u1),o.push(new c1),o.push(new bn)):(r.indexOf(he.EAN_13)>-1&&o.push(new zr),r.indexOf(he.UPC_A)>-1&&o.push(new u1),r.indexOf(he.EAN_8)>-1&&o.push(new c1),r.indexOf(he.UPC_E)>-1&&o.push(new bn)),this.readers=o}decodeRow(t,r,o){for(let s of this.readers)try{const l=s.decodeRow(t,r,o),c=l.getBarcodeFormat()===he.EAN_13&&l.getText().charAt(0)==="0",d=o==null?null:o.get(Z.POSSIBLE_FORMATS),h=d==null||d.includes(he.UPC_A);if(c&&h){const p=l.getRawBytes(),w=new $(l.getText().substring(1),p,p?p.length:null,l.getResultPoints(),he.UPC_A);return w.putAllMetadata(l.getResultMetadata()),w}return l}catch{}throw new W}reset(){for(let t of this.readers)t.reset()}}class Pt extends mt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,r){for(let o=0;o<r.length;o++)if(mt.patternMatchVariance(t,r[o],Pt.MAX_INDIVIDUAL_VARIANCE)<Pt.MAX_AVG_VARIANCE)return o;throw new W}static count(t){return Pe.sum(new Int32Array(t))}static increment(t,r){let o=0,s=r[0];for(let l=1;l<t.length;l++)r[l]>s&&(s=r[l],o=l);t[o]++}static decrement(t,r){let o=0,s=r[0];for(let l=1;l<t.length;l++)r[l]<s&&(s=r[l],o=l);t[o]--}static isFinderPattern(t){let r=t[0]+t[1],o=r+t[2]+t[3],s=r/o;if(s>=Pt.MIN_FINDER_PATTERN_RATIO&&s<=Pt.MAX_FINDER_PATTERN_RATIO){let l=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;for(let d of t)d>c&&(c=d),d<l&&(l=d);return c<10*l}return!1}}Pt.MAX_AVG_VARIANCE=.2,Pt.MAX_INDIVIDUAL_VARIANCE=.45,Pt.MIN_FINDER_PATTERN_RATIO=9.5/12,Pt.MAX_FINDER_PATTERN_RATIO=12.5/14;class di{constructor(t,r){this.value=t,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof di))return!1;const r=t;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ds{constructor(t,r,o,s,l){this.value=t,this.startEnd=r,this.value=t,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new ge(o,l)),this.resultPoints.push(new ge(s,l))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof ds))return!1;const r=t;return this.value===r.value}hashCode(){return this.value}}class Hn{constructor(){}static getRSSvalue(t,r,o){let s=0;for(let h of t)s+=h;let l=0,c=0,d=t.length;for(let h=0;h<d-1;h++){let p;for(p=1,c|=1<<h;p<t[h];p++,c&=~(1<<h)){let w=Hn.combins(s-p-1,d-h-2);if(o&&c===0&&s-p-(d-h-1)>=d-h-1&&(w-=Hn.combins(s-p-(d-h),d-h-2)),d-h-1>1){let C=0;for(let A=s-p-(d-h-2);A>r;A--)C+=Hn.combins(s-p-A-1,d-h-3);w-=C*(d-1-h)}else s-p>r&&w--;l+=w}s-=p}return l}static combins(t,r){let o,s;t-r>r?(s=r,o=t-r):(s=t-r,o=r);let l=1,c=1;for(let d=t;d>o;d--)l*=d,c<=s&&(l/=c,c++);for(;c<=s;)l/=c,c++;return l}}class E2{static buildBitArray(t){let r=t.length*2-1;t[t.length-1].getRightChar()==null&&(r-=1);let o=12*r,s=new j(o),l=0,d=t[0].getRightChar().getValue();for(let h=11;h>=0;--h)d&1<<h&&s.set(l),l++;for(let h=1;h<t.length;++h){let p=t[h],w=p.getLeftChar().getValue();for(let C=11;C>=0;--C)w&1<<C&&s.set(l),l++;if(p.getRightChar()!=null){let C=p.getRightChar().getValue();for(let A=11;A>=0;--A)C&1<<A&&s.set(l),l++}}return s}}class Wr{constructor(t,r){r?this.decodedInformation=null:(this.finished=t,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class nl{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class Kt extends nl{constructor(t,r){super(t),this.value=r}getValue(){return this.value}isFNC1(){return this.value===Kt.FNC1}}Kt.FNC1="$";class Gr extends nl{constructor(t,r,o){super(t),o?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class wn extends nl{constructor(t,r,o){if(super(t),r<0||r>10||o<0||o>10)throw new P;this.firstDigit=r,this.secondDigit=o}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===wn.FNC1}isSecondDigitFNC1(){return this.secondDigit===wn.FNC1}isAnyFNC1(){return this.firstDigit===wn.FNC1||this.secondDigit===wn.FNC1}}wn.FNC1=10;class ce{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new W;let r=t.substring(0,2);for(let l of ce.TWO_DIGIT_DATA_LENGTH)if(l[0]===r)return l[1]===ce.VARIABLE_LENGTH?ce.processVariableAI(2,l[2],t):ce.processFixedAI(2,l[1],t);if(t.length<3)throw new W;let o=t.substring(0,3);for(let l of ce.THREE_DIGIT_DATA_LENGTH)if(l[0]===o)return l[1]===ce.VARIABLE_LENGTH?ce.processVariableAI(3,l[2],t):ce.processFixedAI(3,l[1],t);for(let l of ce.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(l[0]===o)return l[1]===ce.VARIABLE_LENGTH?ce.processVariableAI(4,l[2],t):ce.processFixedAI(4,l[1],t);if(t.length<4)throw new W;let s=t.substring(0,4);for(let l of ce.FOUR_DIGIT_DATA_LENGTH)if(l[0]===s)return l[1]===ce.VARIABLE_LENGTH?ce.processVariableAI(4,l[2],t):ce.processFixedAI(4,l[1],t);throw new W}static processFixedAI(t,r,o){if(o.length<t)throw new W;let s=o.substring(0,t);if(o.length<t+r)throw new W;let l=o.substring(t,t+r),c=o.substring(t+r),d="("+s+")"+l,h=ce.parseFieldsInGeneralPurpose(c);return h==null?d:d+h}static processVariableAI(t,r,o){let s=o.substring(0,t),l;o.length<t+r?l=o.length:l=t+r;let c=o.substring(t,l),d=o.substring(l),h="("+s+")"+c,p=ce.parseFieldsInGeneralPurpose(d);return p==null?h:h+p}}ce.VARIABLE_LENGTH=[],ce.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ce.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ce.VARIABLE_LENGTH,20],["22",ce.VARIABLE_LENGTH,29],["30",ce.VARIABLE_LENGTH,8],["37",ce.VARIABLE_LENGTH,8],["90",ce.VARIABLE_LENGTH,30],["91",ce.VARIABLE_LENGTH,30],["92",ce.VARIABLE_LENGTH,30],["93",ce.VARIABLE_LENGTH,30],["94",ce.VARIABLE_LENGTH,30],["95",ce.VARIABLE_LENGTH,30],["96",ce.VARIABLE_LENGTH,30],["97",ce.VARIABLE_LENGTH,3],["98",ce.VARIABLE_LENGTH,30],["99",ce.VARIABLE_LENGTH,30]],ce.THREE_DIGIT_DATA_LENGTH=[["240",ce.VARIABLE_LENGTH,30],["241",ce.VARIABLE_LENGTH,30],["242",ce.VARIABLE_LENGTH,6],["250",ce.VARIABLE_LENGTH,30],["251",ce.VARIABLE_LENGTH,30],["253",ce.VARIABLE_LENGTH,17],["254",ce.VARIABLE_LENGTH,20],["400",ce.VARIABLE_LENGTH,30],["401",ce.VARIABLE_LENGTH,30],["402",17],["403",ce.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ce.VARIABLE_LENGTH,20],["421",ce.VARIABLE_LENGTH,15],["422",3],["423",ce.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ce.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ce.VARIABLE_LENGTH,15],["391",ce.VARIABLE_LENGTH,18],["392",ce.VARIABLE_LENGTH,15],["393",ce.VARIABLE_LENGTH,18],["703",ce.VARIABLE_LENGTH,30]],ce.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ce.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ce.VARIABLE_LENGTH,20],["8003",ce.VARIABLE_LENGTH,30],["8004",ce.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ce.VARIABLE_LENGTH,30],["8008",ce.VARIABLE_LENGTH,12],["8018",18],["8020",ce.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ce.VARIABLE_LENGTH,70],["8200",ce.VARIABLE_LENGTH,70]];class hi{constructor(t){this.buffer=new Ae,this.information=t}decodeAllCodes(t,r){let o=r,s=null;do{let l=this.decodeGeneralPurposeField(o,s),c=ce.parseFieldsInGeneralPurpose(l.getNewString());if(c!=null&&t.append(c),l.isRemaining()?s=""+l.getRemainingValue():s=null,o===l.getNewPosition())break;o=l.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let r=t;r<t+3;++r)if(this.information.get(r))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let l=this.extractNumericValueFromBitArray(t,4);return l===0?new wn(this.information.getSize(),wn.FNC1,wn.FNC1):new wn(this.information.getSize(),l-1,wn.FNC1)}let r=this.extractNumericValueFromBitArray(t,7),o=(r-8)/11,s=(r-8)%11;return new wn(t+7,o,s)}extractNumericValueFromBitArray(t,r){return hi.extractNumericValueFromBitArray(this.information,t,r)}static extractNumericValueFromBitArray(t,r,o){let s=0;for(let l=0;l<o;++l)t.get(r+l)&&(s|=1<<o-l-1);return s}decodeGeneralPurposeField(t,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(t);let o=this.parseBlocks();return o!=null&&o.isRemaining()?new Gr(this.current.getPosition(),this.buffer.toString(),o.getRemainingValue()):new Gr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,r;do{let o=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),t=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),t=r.isFinished()):(r=this.parseNumericBlock(),t=r.isFinished()),!(o!==this.current.getPosition())&&!t)break}while(!t);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let r;return t.isSecondDigitFNC1()?r=new Gr(this.current.getPosition(),this.buffer.toString()):r=new Gr(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Wr(!0,r)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let r=new Gr(this.current.getPosition(),this.buffer.toString());return new Wr(!0,r)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Wr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new Gr(this.current.getPosition(),this.buffer.toString());return new Wr(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Wr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new Gr(this.current.getPosition(),this.buffer.toString());return new Wr(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Wr(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+7>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(t,7);if(o>=64&&o<116)return!0;if(t+8>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(t,8);return s>=232&&s<253}decodeIsoIec646(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new Kt(t+5,Kt.FNC1);if(r>=5&&r<15)return new Kt(t+5,"0"+(r-5));let o=this.extractNumericValueFromBitArray(t,7);if(o>=64&&o<90)return new Kt(t+7,""+(o+1));if(o>=90&&o<116)return new Kt(t+7,""+(o+7));let s=this.extractNumericValueFromBitArray(t,8),l;switch(s){case 232:l="!";break;case 233:l='"';break;case 234:l="%";break;case 235:l="&";break;case 236:l="'";break;case 237:l="(";break;case 238:l=")";break;case 239:l="*";break;case 240:l="+";break;case 241:l=",";break;case 242:l="-";break;case 243:l=".";break;case 244:l="/";break;case 245:l=":";break;case 246:l=";";break;case 247:l="<";break;case 248:l="=";break;case 249:l=">";break;case 250:l="?";break;case 251:l="_";break;case 252:l=" ";break;default:throw new P}return new Kt(t+8,l)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+6>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(t,6);return o>=16&&o<63}decodeAlphanumeric(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new Kt(t+5,Kt.FNC1);if(r>=5&&r<15)return new Kt(t+5,"0"+(r-5));let o=this.extractNumericValueFromBitArray(t,6);if(o>=32&&o<58)return new Kt(t+6,""+(o+33));let s;switch(o){case 58:s="*";break;case 59:s=",";break;case 60:s="-";break;case 61:s=".";break;case 62:s="/";break;default:throw new bt("Decoding invalid alphanumeric value: "+o)}return new Kt(t+6,s)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<5&&r+t<this.information.getSize();++r)if(r===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+r))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let r=t;r<t+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<4&&r+t<this.information.getSize();++r)if(this.information.get(t+r))return!1;return!0}}class rl{constructor(t){this.information=t,this.generalDecoder=new hi(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class qt extends rl{constructor(t){super(t)}encodeCompressedGtin(t,r){t.append("(01)");let o=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,r,o)}encodeCompressedGtinWithoutAI(t,r,o){for(let s=0;s<4;++s){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*s,10);l/100===0&&t.append("0"),l/10===0&&t.append("0"),t.append(l)}qt.appendCheckDigit(t,o)}static appendCheckDigit(t,r){let o=0;for(let s=0;s<13;s++){let l=t.charAt(s+r).charCodeAt(0)-48;o+=s&1?l:3*l}o=10-o%10,o===10&&(o=0),t.append(o)}}qt.GTIN_SIZE=40;class gi extends qt{constructor(t){super(t)}parseInformation(){let t=new Ae;t.append("(01)");let r=t.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(gi.HEADER_SIZE,4);return t.append(o),this.encodeCompressedGtinWithoutAI(t,gi.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(t,gi.HEADER_SIZE+44)}}gi.HEADER_SIZE=4;class hs extends rl{constructor(t){super(t)}parseInformation(){let t=new Ae;return this.getGeneralDecoder().decodeAllCodes(t,hs.HEADER_SIZE)}}hs.HEADER_SIZE=5;class gs extends qt{constructor(t){super(t)}encodeCompressedWeight(t,r,o){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(r,o);this.addWeightCode(t,s);let l=this.checkWeight(s),c=1e5;for(let d=0;d<5;++d)l/c===0&&t.append("0"),c/=10;t.append(l)}}class zn extends gs{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=zn.HEADER_SIZE+gs.GTIN_SIZE+zn.WEIGHT_SIZE)throw new W;let t=new Ae;return this.encodeCompressedGtin(t,zn.HEADER_SIZE),this.encodeCompressedWeight(t,zn.HEADER_SIZE+gs.GTIN_SIZE,zn.WEIGHT_SIZE),t.toString()}}zn.HEADER_SIZE=5,zn.WEIGHT_SIZE=15;class C2 extends zn{constructor(t){super(t)}addWeightCode(t,r){t.append("(3103)")}checkWeight(t){return t}}class A2 extends zn{constructor(t){super(t)}addWeightCode(t,r){r<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class Wn extends qt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Wn.HEADER_SIZE+qt.GTIN_SIZE)throw new W;let t=new Ae;this.encodeCompressedGtin(t,Wn.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Wn.HEADER_SIZE+qt.GTIN_SIZE,Wn.LAST_DIGIT_SIZE);t.append("(392"),t.append(r),t.append(")");let o=this.getGeneralDecoder().decodeGeneralPurposeField(Wn.HEADER_SIZE+qt.GTIN_SIZE+Wn.LAST_DIGIT_SIZE,null);return t.append(o.getNewString()),t.toString()}}Wn.HEADER_SIZE=8,Wn.LAST_DIGIT_SIZE=2;class zt extends qt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<zt.HEADER_SIZE+qt.GTIN_SIZE)throw new W;let t=new Ae;this.encodeCompressedGtin(t,zt.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(zt.HEADER_SIZE+qt.GTIN_SIZE,zt.LAST_DIGIT_SIZE);t.append("(393"),t.append(r),t.append(")");let o=this.getGeneralDecoder().extractNumericValueFromBitArray(zt.HEADER_SIZE+qt.GTIN_SIZE+zt.LAST_DIGIT_SIZE,zt.FIRST_THREE_DIGITS_SIZE);o/100==0&&t.append("0"),o/10==0&&t.append("0"),t.append(o);let s=this.getGeneralDecoder().decodeGeneralPurposeField(zt.HEADER_SIZE+qt.GTIN_SIZE+zt.LAST_DIGIT_SIZE+zt.FIRST_THREE_DIGITS_SIZE,null);return t.append(s.getNewString()),t.toString()}}zt.HEADER_SIZE=8,zt.LAST_DIGIT_SIZE=2,zt.FIRST_THREE_DIGITS_SIZE=10;class tt extends gs{constructor(t,r,o){super(t),this.dateCode=o,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=tt.HEADER_SIZE+tt.GTIN_SIZE+tt.WEIGHT_SIZE+tt.DATE_SIZE)throw new W;let t=new Ae;return this.encodeCompressedGtin(t,tt.HEADER_SIZE),this.encodeCompressedWeight(t,tt.HEADER_SIZE+tt.GTIN_SIZE,tt.WEIGHT_SIZE),this.encodeCompressedDate(t,tt.HEADER_SIZE+tt.GTIN_SIZE+tt.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,r){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,tt.DATE_SIZE);if(o==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let s=o%32;o/=32;let l=o%12+1;o/=12;let c=o;c/10==0&&t.append("0"),t.append(c),l/10==0&&t.append("0"),t.append(l),s/10==0&&t.append("0"),t.append(s)}addWeightCode(t,r){t.append("("),t.append(this.firstAIdigits),t.append(r/1e5),t.append(")")}checkWeight(t){return t%1e5}}tt.HEADER_SIZE=8,tt.WEIGHT_SIZE=20,tt.DATE_SIZE=16;function f1(E){try{if(E.get(1))return new gi(E);if(!E.get(2))return new hs(E);switch(hi.extractNumericValueFromBitArray(E,1,4)){case 4:return new C2(E);case 5:return new A2(E)}switch(hi.extractNumericValueFromBitArray(E,1,5)){case 12:return new Wn(E);case 13:return new zt(E)}switch(hi.extractNumericValueFromBitArray(E,1,7)){case 56:return new tt(E,"310","11");case 57:return new tt(E,"320","11");case 58:return new tt(E,"310","13");case 59:return new tt(E,"320","13");case 60:return new tt(E,"310","15");case 61:return new tt(E,"320","15");case 62:return new tt(E,"310","17");case 63:return new tt(E,"320","17")}}catch(t){throw console.log(t),new bt("unknown decoder: "+E)}}class pr{constructor(t,r,o,s){this.leftchar=t,this.rightchar=r,this.finderpattern=o,this.maybeLast=s}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,r){return t instanceof pr?pr.equalsOrNull(t.leftchar,r.leftchar)&&pr.equalsOrNull(t.rightchar,r.rightchar)&&pr.equalsOrNull(t.finderpattern,r.finderpattern):!1}static equalsOrNull(t,r){return t===null?r===null:pr.equals(t,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class il{constructor(t,r,o){this.pairs=t,this.rowNumber=r,this.wasReversed=o}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,r){return t instanceof il?this.checkEqualitity(t,r)&&t.wasReversed===r.wasReversed:!1}checkEqualitity(t,r){if(!t||!r)return;let o;return t.forEach((s,l)=>{r.forEach(c=>{s.getLeftChar().getValue()===c.getLeftChar().getValue()&&s.getRightChar().getValue()===c.getRightChar().getValue()&&s.getFinderPatter().getValue()===c.getFinderPatter().getValue()&&(o=!0)})}),o}}class Q extends Pt{constructor(t){super(...arguments),this.pairs=new Array(Q.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,r,o){this.pairs.length=0,this.startFromEven=!1;try{return Q.constructResult(this.decodeRow2pairs(t,r))}catch(s){this.verbose&&console.log(s)}return this.pairs.length=0,this.startFromEven=!0,Q.constructResult(this.decodeRow2pairs(t,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,r){let o=!1;for(;!o;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,t))}catch(l){if(l instanceof W){if(!this.pairs.length)throw new W;o=!0}}if(this.checkChecksum())return this.pairs;let s;if(this.rows.length?s=!0:s=!1,this.storeRow(t,!1),s){let l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new W}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(o){this.verbose&&console.log(o)}return t&&(this.rows=this.rows.reverse()),r}checkRows(t,r){for(let o=r;o<this.rows.length;o++){let s=this.rows[o];this.pairs.length=0;for(let c of t)this.pairs.push(c.getPairs());if(this.pairs.push(s.getPairs()),!Q.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let l=new Array(t);l.push(s);try{return this.checkRows(l,o+1)}catch(c){this.verbose&&console.log(c)}}throw new W}static isValidSequence(t){for(let r of Q.FINDER_PATTERN_SEQUENCES){if(t.length>r.length)continue;let o=!0;for(let s=0;s<t.length;s++)if(t[s].getFinderPattern().getValue()!=r[s]){o=!1;break}if(o)return!0}return!1}storeRow(t,r){let o=0,s=!1,l=!1;for(;o<this.rows.length;){let c=this.rows[o];if(c.getRowNumber()>t){l=c.isEquivalent(this.pairs);break}s=c.isEquivalent(this.pairs),o++}l||s||Q.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new il(this.pairs,t,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,r){for(let o of r)if(o.getPairs().length!==t.length){for(let s of o.getPairs())for(let l of t)if(pr.equals(s,l))break}}static isPartialRow(t,r){for(let o of r){let s=!0;for(let l of t){let c=!1;for(let d of o.getPairs())if(l.equals(d)){c=!0;break}if(!c){s=!1;break}}if(s)return!0}return!1}getRows(){return this.rows}static constructResult(t){let r=E2.buildBitArray(t),s=f1(r).parseInformation(),l=t[0].getFinderPattern().getResultPoints(),c=t[t.length-1].getFinderPattern().getResultPoints(),d=[l[0],l[1],c[0],c[1]];return new $(s,null,null,d,he.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),r=t.getLeftChar(),o=t.getRightChar();if(o==null)return!1;let s=o.getChecksumPortion(),l=2;for(let d=1;d<this.pairs.size();++d){let h=this.pairs.get(d);s+=h.getLeftChar().getChecksumPortion(),l++;let p=h.getRightChar();p!=null&&(s+=p.getChecksumPortion(),l++)}return s%=211,211*(l-4)+s==r.getValue()}static getNextSecondBar(t,r){let o;return t.get(r)?(o=t.getNextUnset(r),o=t.getNextSet(o)):(o=t.getNextSet(r),o=t.getNextUnset(o)),o}retrieveNextPair(t,r,o){let s=r.length%2==0;this.startFromEven&&(s=!s);let l,c=!0,d=-1;do this.findNextPair(t,r,d),l=this.parseFoundFinderPattern(t,o,s),l==null?d=Q.getNextSecondBar(t,this.startEnd[0]):c=!1;while(c);let h=this.decodeDataCharacter(t,l,s,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new W;let p;try{p=this.decodeDataCharacter(t,l,s,!1)}catch(w){p=null,this.verbose&&console.log(w)}return new pr(h,p,l,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,r,o){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=t.getSize(),c;o>=0?c=o:this.isEmptyPair(r)?c=0:c=r[r.length-1].getFinderPattern().getStartEnd()[1];let d=r.length%2!=0;this.startFromEven&&(d=!d);let h=!1;for(;c<l&&(h=!t.get(c),!!h);)c++;let p=0,w=c;for(let C=c;C<l;C++)if(t.get(C)!=h)s[p]++;else{if(p==3){if(d&&Q.reverseCounters(s),Q.isFinderPattern(s)){this.startEnd[0]=w,this.startEnd[1]=C;return}d&&Q.reverseCounters(s),w+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,p--}else p++;s[p]=1,h=!h}throw new W}static reverseCounters(t){let r=t.length;for(let o=0;o<r/2;++o){let s=t[o];t[o]=t[r-o-1],t[r-o-1]=s}}parseFoundFinderPattern(t,r,o){let s,l,c;if(o){let p=this.startEnd[0]-1;for(;p>=0&&!t.get(p);)p--;p++,s=this.startEnd[0]-p,l=p,c=this.startEnd[1]}else l=this.startEnd[0],c=t.getNextUnset(this.startEnd[1]+1),s=c-this.startEnd[1];let d=this.getDecodeFinderCounters();k.arraycopy(d,0,d,1,d.length-1),d[0]=s;let h;try{h=this.parseFinderValue(d,Q.FINDER_PATTERNS)}catch{return null}return new ds(h,[l,c],l,c,r)}decodeDataCharacter(t,r,o,s){let l=this.getDataCharacterCounters();for(let Ze=0;Ze<l.length;Ze++)l[Ze]=0;if(s)Q.recordPatternInReverse(t,r.getStartEnd()[0],l);else{Q.recordPattern(t,r.getStartEnd()[1],l);for(let Ze=0,Dt=l.length-1;Ze<Dt;Ze++,Dt--){let cn=l[Ze];l[Ze]=l[Dt],l[Dt]=cn}}let c=17,d=Pe.sum(new Int32Array(l))/c,h=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(d-h)/h>.3)throw new W;let p=this.getOddCounts(),w=this.getEvenCounts(),C=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors();for(let Ze=0;Ze<l.length;Ze++){let Dt=1*l[Ze]/d,cn=Dt+.5;if(cn<1){if(Dt<.3)throw new W;cn=1}else if(cn>8){if(Dt>8.7)throw new W;cn=8}let yi=Ze/2;Ze&1?(w[yi]=cn,A[yi]=Dt-cn):(p[yi]=cn,C[yi]=Dt-cn)}this.adjustOddEvenCounts(c);let N=4*r.getValue()+(o?0:2)+(s?0:1)-1,D=0,M=0;for(let Ze=p.length-1;Ze>=0;Ze--){if(Q.isNotA1left(r,o,s)){let Dt=Q.WEIGHTS[N][2*Ze];M+=p[Ze]*Dt}D+=p[Ze]}let F=0;for(let Ze=w.length-1;Ze>=0;Ze--)if(Q.isNotA1left(r,o,s)){let Dt=Q.WEIGHTS[N][2*Ze+1];F+=w[Ze]*Dt}let H=M+F;if(D&1||D>13||D<4)throw new W;let te=(13-D)/2,ne=Q.SYMBOL_WIDEST[te],J=9-ne,Oe=Hn.getRSSvalue(p,ne,!0),Se=Hn.getRSSvalue(w,J,!1),$t=Q.EVEN_TOTAL_SUBSET[te],Rn=Q.GSUM[te],Jt=Oe*$t+Se+Rn;return new di(Jt,H)}static isNotA1left(t,r,o){return!(t.getValue()==0&&r&&o)}adjustOddEvenCounts(t){let r=Pe.sum(new Int32Array(this.getOddCounts())),o=Pe.sum(new Int32Array(this.getEvenCounts())),s=!1,l=!1;r>13?l=!0:r<4&&(s=!0);let c=!1,d=!1;o>13?d=!0:o<4&&(c=!0);let h=r+o-t,p=(r&1)==1,w=(o&1)==0;if(h==1)if(p){if(w)throw new W;l=!0}else{if(!w)throw new W;d=!0}else if(h==-1)if(p){if(w)throw new W;s=!0}else{if(!w)throw new W;c=!0}else if(h==0){if(p){if(!w)throw new W;r<o?(s=!0,d=!0):(l=!0,c=!0)}else if(w)throw new W}else throw new W;if(s){if(l)throw new W;Q.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&Q.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(d)throw new W;Q.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&Q.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Q.SYMBOL_WIDEST=[7,5,4,3,1],Q.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Q.GSUM=[0,348,1388,2948,3988],Q.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Q.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Q.FINDER_PAT_A=0,Q.FINDER_PAT_B=1,Q.FINDER_PAT_C=2,Q.FINDER_PAT_D=3,Q.FINDER_PAT_E=4,Q.FINDER_PAT_F=5,Q.FINDER_PATTERN_SEQUENCES=[[Q.FINDER_PAT_A,Q.FINDER_PAT_A],[Q.FINDER_PAT_A,Q.FINDER_PAT_B,Q.FINDER_PAT_B],[Q.FINDER_PAT_A,Q.FINDER_PAT_C,Q.FINDER_PAT_B,Q.FINDER_PAT_D],[Q.FINDER_PAT_A,Q.FINDER_PAT_E,Q.FINDER_PAT_B,Q.FINDER_PAT_D,Q.FINDER_PAT_C],[Q.FINDER_PAT_A,Q.FINDER_PAT_E,Q.FINDER_PAT_B,Q.FINDER_PAT_D,Q.FINDER_PAT_D,Q.FINDER_PAT_F],[Q.FINDER_PAT_A,Q.FINDER_PAT_E,Q.FINDER_PAT_B,Q.FINDER_PAT_D,Q.FINDER_PAT_E,Q.FINDER_PAT_F,Q.FINDER_PAT_F],[Q.FINDER_PAT_A,Q.FINDER_PAT_A,Q.FINDER_PAT_B,Q.FINDER_PAT_B,Q.FINDER_PAT_C,Q.FINDER_PAT_C,Q.FINDER_PAT_D,Q.FINDER_PAT_D],[Q.FINDER_PAT_A,Q.FINDER_PAT_A,Q.FINDER_PAT_B,Q.FINDER_PAT_B,Q.FINDER_PAT_C,Q.FINDER_PAT_C,Q.FINDER_PAT_D,Q.FINDER_PAT_E,Q.FINDER_PAT_E],[Q.FINDER_PAT_A,Q.FINDER_PAT_A,Q.FINDER_PAT_B,Q.FINDER_PAT_B,Q.FINDER_PAT_C,Q.FINDER_PAT_C,Q.FINDER_PAT_D,Q.FINDER_PAT_E,Q.FINDER_PAT_F,Q.FINDER_PAT_F],[Q.FINDER_PAT_A,Q.FINDER_PAT_A,Q.FINDER_PAT_B,Q.FINDER_PAT_B,Q.FINDER_PAT_C,Q.FINDER_PAT_D,Q.FINDER_PAT_D,Q.FINDER_PAT_E,Q.FINDER_PAT_E,Q.FINDER_PAT_F,Q.FINDER_PAT_F]],Q.MAX_PAIRS=11;class S2 extends di{constructor(t,r,o){super(t,r),this.count=0,this.finderPattern=o}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class ct extends Pt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,r,o){const s=this.decodePair(r,!1,t,o);ct.addOrTally(this.possibleLeftPairs,s),r.reverse();let l=this.decodePair(r,!0,t,o);ct.addOrTally(this.possibleRightPairs,l),r.reverse();for(let c of this.possibleLeftPairs)if(c.getCount()>1){for(let d of this.possibleRightPairs)if(d.getCount()>1&&ct.checkChecksum(c,d))return ct.constructResult(c,d)}throw new W}static addOrTally(t,r){if(r==null)return;let o=!1;for(let s of t)if(s.getValue()===r.getValue()){s.incrementCount(),o=!0;break}o||t.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,r){let o=4537077*t.getValue()+r.getValue(),s=new String(o).toString(),l=new Ae;for(let p=13-s.length;p>0;p--)l.append("0");l.append(s);let c=0;for(let p=0;p<13;p++){let w=l.charAt(p).charCodeAt(0)-48;c+=p&1?w:3*w}c=10-c%10,c===10&&(c=0),l.append(c.toString());let d=t.getFinderPattern().getResultPoints(),h=r.getFinderPattern().getResultPoints();return new $(l.toString(),null,0,[d[0],d[1],h[0],h[1]],he.RSS_14,new Date().getTime())}static checkChecksum(t,r){let o=(t.getChecksumPortion()+16*r.getChecksumPortion())%79,s=9*t.getFinderPattern().getValue()+r.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,o===s}decodePair(t,r,o,s){try{let l=this.findFinderPattern(t,r),c=this.parseFoundFinderPattern(t,o,r,l),d=s==null?null:s.get(Z.NEED_RESULT_POINT_CALLBACK);if(d!=null){let w=(l[0]+l[1])/2;r&&(w=t.getSize()-1-w),d.foundPossibleResultPoint(new ge(w,o))}let h=this.decodeDataCharacter(t,c,!0),p=this.decodeDataCharacter(t,c,!1);return new S2(1597*h.getValue()+p.getValue(),h.getChecksumPortion()+4*p.getChecksumPortion(),c)}catch{return null}}decodeDataCharacter(t,r,o){let s=this.getDataCharacterCounters();for(let F=0;F<s.length;F++)s[F]=0;if(o)mt.recordPatternInReverse(t,r.getStartEnd()[0],s);else{mt.recordPattern(t,r.getStartEnd()[1]+1,s);for(let F=0,H=s.length-1;F<H;F++,H--){let te=s[F];s[F]=s[H],s[H]=te}}let l=o?16:15,c=Pe.sum(new Int32Array(s))/l,d=this.getOddCounts(),h=this.getEvenCounts(),p=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors();for(let F=0;F<s.length;F++){let H=s[F]/c,te=Math.floor(H+.5);te<1?te=1:te>8&&(te=8);let ne=Math.floor(F/2);F&1?(h[ne]=te,w[ne]=H-te):(d[ne]=te,p[ne]=H-te)}this.adjustOddEvenCounts(o,l);let C=0,A=0;for(let F=d.length-1;F>=0;F--)A*=9,A+=d[F],C+=d[F];let N=0,D=0;for(let F=h.length-1;F>=0;F--)N*=9,N+=h[F],D+=h[F];let M=A+3*N;if(o){if(C&1||C>12||C<4)throw new W;let F=(12-C)/2,H=ct.OUTSIDE_ODD_WIDEST[F],te=9-H,ne=Hn.getRSSvalue(d,H,!1),J=Hn.getRSSvalue(h,te,!0),Oe=ct.OUTSIDE_EVEN_TOTAL_SUBSET[F],Se=ct.OUTSIDE_GSUM[F];return new di(ne*Oe+J+Se,M)}else{if(D&1||D>10||D<4)throw new W;let F=(10-D)/2,H=ct.INSIDE_ODD_WIDEST[F],te=9-H,ne=Hn.getRSSvalue(d,H,!0),J=Hn.getRSSvalue(h,te,!1),Oe=ct.INSIDE_ODD_TOTAL_SUBSET[F],Se=ct.INSIDE_GSUM[F];return new di(J*Oe+ne+Se,M)}}findFinderPattern(t,r){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let s=t.getSize(),l=!1,c=0;for(;c<s&&(l=!t.get(c),r!==l);)c++;let d=0,h=c;for(let p=c;p<s;p++)if(t.get(p)!==l)o[d]++;else{if(d===3){if(Pt.isFinderPattern(o))return[h,p];h+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,d--}else d++;o[d]=1,l=!l}throw new W}parseFoundFinderPattern(t,r,o,s){let l=t.get(s[0]),c=s[0]-1;for(;c>=0&&l!==t.get(c);)c--;c++;const d=s[0]-c,h=this.getDecodeFinderCounters(),p=new Int32Array(h.length);k.arraycopy(h,0,p,1,h.length-1),p[0]=d;const w=this.parseFinderValue(p,ct.FINDER_PATTERNS);let C=c,A=s[1];return o&&(C=t.getSize()-1-C,A=t.getSize()-1-A),new ds(w,[c,s[1]],C,A,r)}adjustOddEvenCounts(t,r){let o=Pe.sum(new Int32Array(this.getOddCounts())),s=Pe.sum(new Int32Array(this.getEvenCounts())),l=!1,c=!1,d=!1,h=!1;t?(o>12?c=!0:o<4&&(l=!0),s>12?h=!0:s<4&&(d=!0)):(o>11?c=!0:o<5&&(l=!0),s>10?h=!0:s<4&&(d=!0));let p=o+s-r,w=(o&1)===(t?1:0),C=(s&1)===1;if(p===1)if(w){if(C)throw new W;c=!0}else{if(!C)throw new W;h=!0}else if(p===-1)if(w){if(C)throw new W;l=!0}else{if(!C)throw new W;d=!0}else if(p===0){if(w){if(!C)throw new W;o<s?(l=!0,h=!0):(c=!0,d=!0)}else if(C)throw new W}else throw new W;if(l){if(c)throw new W;Pt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&Pt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(h)throw new W;Pt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&Pt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ct.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],ct.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],ct.OUTSIDE_GSUM=[0,161,961,2015,2715],ct.INSIDE_GSUM=[0,336,1036,1516],ct.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],ct.INSIDE_ODD_WIDEST=[2,4,6,8],ct.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class pi extends mt{constructor(t,r){super(),this.readers=[],this.verbose=r===!0;const o=t?t.get(Z.POSSIBLE_FORMATS):null,s=t&&t.get(Z.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;o?((o.includes(he.EAN_13)||o.includes(he.UPC_A)||o.includes(he.EAN_8)||o.includes(he.UPC_E))&&this.readers.push(new tl(t)),o.includes(he.CODE_39)&&this.readers.push(new yt(s)),o.includes(he.CODE_128)&&this.readers.push(new oe),o.includes(he.ITF)&&this.readers.push(new Xe),o.includes(he.RSS_14)&&this.readers.push(new ct),o.includes(he.RSS_EXPANDED)&&this.readers.push(new Q(this.verbose))):(this.readers.push(new tl(t)),this.readers.push(new yt),this.readers.push(new tl(t)),this.readers.push(new oe),this.readers.push(new Xe),this.readers.push(new ct),this.readers.push(new Q(this.verbose)))}decodeRow(t,r,o){for(let s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(t,r,o)}catch{}throw new W}reset(){this.readers.forEach(t=>t.reset())}}class v2 extends Tt{constructor(t=500,r){super(new pi(r),t,r)}}class He{constructor(t,r,o){this.ecCodewords=t,this.ecBlocks=[r],o&&this.ecBlocks.push(o)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Ve{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ke{constructor(t,r,o,s,l,c){this.versionNumber=t,this.symbolSizeRows=r,this.symbolSizeColumns=o,this.dataRegionSizeRows=s,this.dataRegionSizeColumns=l,this.ecBlocks=c;let d=0;const h=c.getECCodewords(),p=c.getECBlocks();for(let w of p)d+=w.getCount()*(w.getDataCodewords()+h);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,r){if(t&1||r&1)throw new P;for(let o of ke.VERSIONS)if(o.symbolSizeRows===t&&o.symbolSizeColumns===r)return o;throw new P}toString(){return""+this.versionNumber}static buildVersions(){return[new ke(1,10,10,8,8,new He(5,new Ve(1,3))),new ke(2,12,12,10,10,new He(7,new Ve(1,5))),new ke(3,14,14,12,12,new He(10,new Ve(1,8))),new ke(4,16,16,14,14,new He(12,new Ve(1,12))),new ke(5,18,18,16,16,new He(14,new Ve(1,18))),new ke(6,20,20,18,18,new He(18,new Ve(1,22))),new ke(7,22,22,20,20,new He(20,new Ve(1,30))),new ke(8,24,24,22,22,new He(24,new Ve(1,36))),new ke(9,26,26,24,24,new He(28,new Ve(1,44))),new ke(10,32,32,14,14,new He(36,new Ve(1,62))),new ke(11,36,36,16,16,new He(42,new Ve(1,86))),new ke(12,40,40,18,18,new He(48,new Ve(1,114))),new ke(13,44,44,20,20,new He(56,new Ve(1,144))),new ke(14,48,48,22,22,new He(68,new Ve(1,174))),new ke(15,52,52,24,24,new He(42,new Ve(2,102))),new ke(16,64,64,14,14,new He(56,new Ve(2,140))),new ke(17,72,72,16,16,new He(36,new Ve(4,92))),new ke(18,80,80,18,18,new He(48,new Ve(4,114))),new ke(19,88,88,20,20,new He(56,new Ve(4,144))),new ke(20,96,96,22,22,new He(68,new Ve(4,174))),new ke(21,104,104,24,24,new He(56,new Ve(6,136))),new ke(22,120,120,18,18,new He(68,new Ve(6,175))),new ke(23,132,132,20,20,new He(62,new Ve(8,163))),new ke(24,144,144,22,22,new He(62,new Ve(8,156),new Ve(2,155))),new ke(25,8,18,6,16,new He(7,new Ve(1,5))),new ke(26,8,32,6,14,new He(11,new Ve(1,10))),new ke(27,12,26,10,24,new He(14,new Ve(1,16))),new ke(28,12,36,10,16,new He(18,new Ve(1,22))),new ke(29,16,36,14,16,new He(24,new Ve(1,32))),new ke(30,16,48,14,22,new He(28,new Ve(1,49)))]}}ke.VERSIONS=ke.buildVersions();class ol{constructor(t){const r=t.getHeight();if(r<8||r>144||r&1)throw new P;this.version=ol.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new Ue(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const r=t.getHeight(),o=t.getWidth();return ke.getVersionForDimensions(r,o)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let r=0,o=4,s=0;const l=this.mappingBitMatrix.getHeight(),c=this.mappingBitMatrix.getWidth();let d=!1,h=!1,p=!1,w=!1;do if(o===l&&s===0&&!d)t[r++]=this.readCorner1(l,c)&255,o-=2,s+=2,d=!0;else if(o===l-2&&s===0&&c&3&&!h)t[r++]=this.readCorner2(l,c)&255,o-=2,s+=2,h=!0;else if(o===l+4&&s===2&&!(c&7)&&!p)t[r++]=this.readCorner3(l,c)&255,o-=2,s+=2,p=!0;else if(o===l-2&&s===0&&(c&7)===4&&!w)t[r++]=this.readCorner4(l,c)&255,o-=2,s+=2,w=!0;else{do o<l&&s>=0&&!this.readMappingMatrix.get(s,o)&&(t[r++]=this.readUtah(o,s,l,c)&255),o-=2,s+=2;while(o>=0&&s<c);o+=1,s+=3;do o>=0&&s<c&&!this.readMappingMatrix.get(s,o)&&(t[r++]=this.readUtah(o,s,l,c)&255),o+=2,s-=2;while(o<l&&s>=0);o+=3,s+=1}while(o<l||s<c);if(r!==this.version.getTotalCodewords())throw new P;return t}readModule(t,r,o,s){return t<0&&(t+=o,r+=4-(o+4&7)),r<0&&(r+=s,t+=4-(s+4&7)),this.readMappingMatrix.set(r,t),this.mappingBitMatrix.get(r,t)}readUtah(t,r,o,s){let l=0;return this.readModule(t-2,r-2,o,s)&&(l|=1),l<<=1,this.readModule(t-2,r-1,o,s)&&(l|=1),l<<=1,this.readModule(t-1,r-2,o,s)&&(l|=1),l<<=1,this.readModule(t-1,r-1,o,s)&&(l|=1),l<<=1,this.readModule(t-1,r,o,s)&&(l|=1),l<<=1,this.readModule(t,r-2,o,s)&&(l|=1),l<<=1,this.readModule(t,r-1,o,s)&&(l|=1),l<<=1,this.readModule(t,r,o,s)&&(l|=1),l}readCorner1(t,r){let o=0;return this.readModule(t-1,0,t,r)&&(o|=1),o<<=1,this.readModule(t-1,1,t,r)&&(o|=1),o<<=1,this.readModule(t-1,2,t,r)&&(o|=1),o<<=1,this.readModule(0,r-2,t,r)&&(o|=1),o<<=1,this.readModule(0,r-1,t,r)&&(o|=1),o<<=1,this.readModule(1,r-1,t,r)&&(o|=1),o<<=1,this.readModule(2,r-1,t,r)&&(o|=1),o<<=1,this.readModule(3,r-1,t,r)&&(o|=1),o}readCorner2(t,r){let o=0;return this.readModule(t-3,0,t,r)&&(o|=1),o<<=1,this.readModule(t-2,0,t,r)&&(o|=1),o<<=1,this.readModule(t-1,0,t,r)&&(o|=1),o<<=1,this.readModule(0,r-4,t,r)&&(o|=1),o<<=1,this.readModule(0,r-3,t,r)&&(o|=1),o<<=1,this.readModule(0,r-2,t,r)&&(o|=1),o<<=1,this.readModule(0,r-1,t,r)&&(o|=1),o<<=1,this.readModule(1,r-1,t,r)&&(o|=1),o}readCorner3(t,r){let o=0;return this.readModule(t-1,0,t,r)&&(o|=1),o<<=1,this.readModule(t-1,r-1,t,r)&&(o|=1),o<<=1,this.readModule(0,r-3,t,r)&&(o|=1),o<<=1,this.readModule(0,r-2,t,r)&&(o|=1),o<<=1,this.readModule(0,r-1,t,r)&&(o|=1),o<<=1,this.readModule(1,r-3,t,r)&&(o|=1),o<<=1,this.readModule(1,r-2,t,r)&&(o|=1),o<<=1,this.readModule(1,r-1,t,r)&&(o|=1),o}readCorner4(t,r){let o=0;return this.readModule(t-3,0,t,r)&&(o|=1),o<<=1,this.readModule(t-2,0,t,r)&&(o|=1),o<<=1,this.readModule(t-1,0,t,r)&&(o|=1),o<<=1,this.readModule(0,r-2,t,r)&&(o|=1),o<<=1,this.readModule(0,r-1,t,r)&&(o|=1),o<<=1,this.readModule(1,r-1,t,r)&&(o|=1),o<<=1,this.readModule(2,r-1,t,r)&&(o|=1),o<<=1,this.readModule(3,r-1,t,r)&&(o|=1),o}extractDataRegion(t){const r=this.version.getSymbolSizeRows(),o=this.version.getSymbolSizeColumns();if(t.getHeight()!==r)throw new S("Dimension of bitMatrix must match the version size");const s=this.version.getDataRegionSizeRows(),l=this.version.getDataRegionSizeColumns(),c=r/s|0,d=o/l|0,h=c*s,p=d*l,w=new Ue(p,h);for(let C=0;C<c;++C){const A=C*s;for(let N=0;N<d;++N){const D=N*l;for(let M=0;M<s;++M){const F=C*(s+2)+1+M,H=A+M;for(let te=0;te<l;++te){const ne=N*(l+2)+1+te;if(t.get(ne,F)){const J=D+te;w.set(J,H)}}}}}return w}}class sl{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r){const o=r.getECBlocks();let s=0;const l=o.getECBlocks();for(let M of l)s+=M.getCount();const c=new Array(s);let d=0;for(let M of l)for(let F=0;F<M.getCount();F++){const H=M.getDataCodewords(),te=o.getECCodewords()+H;c[d++]=new sl(H,new Uint8Array(te))}const p=c[0].codewords.length-o.getECCodewords(),w=p-1;let C=0;for(let M=0;M<w;M++)for(let F=0;F<d;F++)c[F].codewords[M]=t[C++];const A=r.getVersionNumber()===24,N=A?8:d;for(let M=0;M<N;M++)c[M].codewords[p-1]=t[C++];const D=c[0].codewords.length;for(let M=p;M<D;M++)for(let F=0;F<d;F++){const H=A?(F+8)%d:F,te=A&&H>7?M-1:M;c[H].codewords[te]=t[C++]}if(C!==t.length)throw new S;return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class al{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new S(""+t);let r=0,o=this.bitOffset,s=this.byteOffset;const l=this.bytes;if(o>0){const c=8-o,d=t<c?t:c,h=c-d,p=255>>8-d<<h;r=(l[s]&p)>>h,t-=d,o+=d,o===8&&(o=0,s++)}if(t>0){for(;t>=8;)r=r<<8|l[s]&255,s++,t-=8;if(t>0){const c=8-t,d=255>>c<<c;r=r<<t|(l[s]&d)>>c,o+=t}}return this.bitOffset=o,this.byteOffset=s,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Et;(function(E){E[E.PAD_ENCODE=0]="PAD_ENCODE",E[E.ASCII_ENCODE=1]="ASCII_ENCODE",E[E.C40_ENCODE=2]="C40_ENCODE",E[E.TEXT_ENCODE=3]="TEXT_ENCODE",E[E.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",E[E.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",E[E.BASE256_ENCODE=6]="BASE256_ENCODE"})(Et||(Et={}));class xr{static decode(t){const r=new al(t),o=new Ae,s=new Ae,l=new Array;let c=Et.ASCII_ENCODE;do if(c===Et.ASCII_ENCODE)c=this.decodeAsciiSegment(r,o,s);else{switch(c){case Et.C40_ENCODE:this.decodeC40Segment(r,o);break;case Et.TEXT_ENCODE:this.decodeTextSegment(r,o);break;case Et.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,o);break;case Et.EDIFACT_ENCODE:this.decodeEdifactSegment(r,o);break;case Et.BASE256_ENCODE:this.decodeBase256Segment(r,o,l);break;default:throw new P}c=Et.ASCII_ENCODE}while(c!==Et.PAD_ENCODE&&r.available()>0);return s.length()>0&&o.append(s.toString()),new jn(t,o.toString(),l.length===0?null:l,null)}static decodeAsciiSegment(t,r,o){let s=!1;do{let l=t.readBits(8);if(l===0)throw new P;if(l<=128)return s&&(l+=128),r.append(String.fromCharCode(l-1)),Et.ASCII_ENCODE;if(l===129)return Et.PAD_ENCODE;if(l<=229){const c=l-130;c<10&&r.append("0"),r.append(""+c)}else switch(l){case 230:return Et.C40_ENCODE;case 231:return Et.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:s=!0;break;case 236:r.append("[)>05"),o.insert(0,"");break;case 237:r.append("[)>06"),o.insert(0,"");break;case 238:return Et.ANSIX12_ENCODE;case 239:return Et.TEXT_ENCODE;case 240:return Et.EDIFACT_ENCODE;case 241:break;default:if(l!==254||t.available()!==0)throw new P;break}}while(t.available()>0);return Et.ASCII_ENCODE}static decodeC40Segment(t,r){let o=!1;const s=[];let l=0;do{if(t.available()===8)return;const c=t.readBits(8);if(c===254)return;this.parseTwoBytes(c,t.readBits(8),s);for(let d=0;d<3;d++){const h=s[d];switch(l){case 0:if(h<3)l=h+1;else if(h<this.C40_BASIC_SET_CHARS.length){const p=this.C40_BASIC_SET_CHARS[h];o?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),o=!1):r.append(p)}else throw new P;break;case 1:o?(r.append(String.fromCharCode(h+128)),o=!1):r.append(String.fromCharCode(h)),l=0;break;case 2:if(h<this.C40_SHIFT2_SET_CHARS.length){const p=this.C40_SHIFT2_SET_CHARS[h];o?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),o=!1):r.append(p)}else switch(h){case 27:r.append("");break;case 30:o=!0;break;default:throw new P}l=0;break;case 3:o?(r.append(String.fromCharCode(h+224)),o=!1):r.append(String.fromCharCode(h+96)),l=0;break;default:throw new P}}}while(t.available()>0)}static decodeTextSegment(t,r){let o=!1,s=[],l=0;do{if(t.available()===8)return;const c=t.readBits(8);if(c===254)return;this.parseTwoBytes(c,t.readBits(8),s);for(let d=0;d<3;d++){const h=s[d];switch(l){case 0:if(h<3)l=h+1;else if(h<this.TEXT_BASIC_SET_CHARS.length){const p=this.TEXT_BASIC_SET_CHARS[h];o?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),o=!1):r.append(p)}else throw new P;break;case 1:o?(r.append(String.fromCharCode(h+128)),o=!1):r.append(String.fromCharCode(h)),l=0;break;case 2:if(h<this.TEXT_SHIFT2_SET_CHARS.length){const p=this.TEXT_SHIFT2_SET_CHARS[h];o?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),o=!1):r.append(p)}else switch(h){case 27:r.append("");break;case 30:o=!0;break;default:throw new P}l=0;break;case 3:if(h<this.TEXT_SHIFT3_SET_CHARS.length){const p=this.TEXT_SHIFT3_SET_CHARS[h];o?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),o=!1):r.append(p),l=0}else throw new P;break;default:throw new P}}}while(t.available()>0)}static decodeAnsiX12Segment(t,r){const o=[];do{if(t.available()===8)return;const s=t.readBits(8);if(s===254)return;this.parseTwoBytes(s,t.readBits(8),o);for(let l=0;l<3;l++){const c=o[l];switch(c){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(c<14)r.append(String.fromCharCode(c+44));else if(c<40)r.append(String.fromCharCode(c+51));else throw new P;break}}}while(t.available()>0)}static parseTwoBytes(t,r,o){let s=(t<<8)+r-1,l=Math.floor(s/1600);o[0]=l,s-=l*1600,l=Math.floor(s/40),o[1]=l,o[2]=s-l*40}static decodeEdifactSegment(t,r){do{if(t.available()<=16)return;for(let o=0;o<4;o++){let s=t.readBits(6);if(s===31){const l=8-t.getBitOffset();l!==8&&t.readBits(l);return}s&32||(s|=64),r.append(String.fromCharCode(s))}}while(t.available()>0)}static decodeBase256Segment(t,r,o){let s=1+t.getByteOffset();const l=this.unrandomize255State(t.readBits(8),s++);let c;if(l===0?c=t.available()/8|0:l<250?c=l:c=250*(l-249)+this.unrandomize255State(t.readBits(8),s++),c<0)throw new P;const d=new Uint8Array(c);for(let h=0;h<c;h++){if(t.available()<8)throw new P;d[h]=this.unrandomize255State(t.readBits(8),s++)}o.push(d);try{r.append(Ie.decode(d,pe.ISO88591))}catch(h){throw new bt("Platform does not support required encoding: "+h.message)}}static unrandomize255State(t,r){const o=149*r%255+1,s=t-o;return s>=0?s:s+256}}xr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],xr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],xr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],xr.TEXT_SHIFT2_SET_CHARS=xr.C40_SHIFT2_SET_CHARS,xr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class _2{constructor(){this.rsDecoder=new Vn(de.DATA_MATRIX_FIELD_256)}decode(t){const r=new ol(t),o=r.getVersion(),s=r.readCodewords(),l=sl.getDataBlocks(s,o);let c=0;for(let p of l)c+=p.getNumDataCodewords();const d=new Uint8Array(c),h=l.length;for(let p=0;p<h;p++){const w=l[p],C=w.getCodewords(),A=w.getNumDataCodewords();this.correctErrors(C,A);for(let N=0;N<A;N++)d[N*h+p]=C[N]}return xr.decode(d)}correctErrors(t,r){const o=new Int32Array(t);try{this.rsDecoder.decode(o,t.length-r)}catch{throw new L}for(let s=0;s<r;s++)t[s]=o[s]}}class gt{constructor(t){this.image=t,this.rectangleDetector=new Jn(this.image)}detect(){const t=this.rectangleDetector.detect();let r=this.detectSolid1(t);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new W;r=this.shiftToModuleCenter(r);const o=r[0],s=r[1],l=r[2],c=r[3];let d=this.transitionsBetween(o,c)+1,h=this.transitionsBetween(l,c)+1;(d&1)===1&&(d+=1),(h&1)===1&&(h+=1),4*d<7*h&&4*h<7*d&&(d=h=Math.max(d,h));let p=gt.sampleGrid(this.image,o,s,l,c,d,h);return new us(p,[o,s,l,c])}static shiftPoint(t,r,o){let s=(r.getX()-t.getX())/(o+1),l=(r.getY()-t.getY())/(o+1);return new ge(t.getX()+s,t.getY()+l)}static moveAway(t,r,o){let s=t.getX(),l=t.getY();return s<r?s-=1:s+=1,l<o?l-=1:l+=1,new ge(s,l)}detectSolid1(t){let r=t[0],o=t[1],s=t[3],l=t[2],c=this.transitionsBetween(r,o),d=this.transitionsBetween(o,s),h=this.transitionsBetween(s,l),p=this.transitionsBetween(l,r),w=c,C=[l,r,o,s];return w>d&&(w=d,C[0]=r,C[1]=o,C[2]=s,C[3]=l),w>h&&(w=h,C[0]=o,C[1]=s,C[2]=l,C[3]=r),w>p&&(C[0]=s,C[1]=l,C[2]=r,C[3]=o),C}detectSolid2(t){let r=t[0],o=t[1],s=t[2],l=t[3],c=this.transitionsBetween(r,l),d=gt.shiftPoint(o,s,(c+1)*4),h=gt.shiftPoint(s,o,(c+1)*4),p=this.transitionsBetween(d,r),w=this.transitionsBetween(h,l);return p<w?(t[0]=r,t[1]=o,t[2]=s,t[3]=l):(t[0]=o,t[1]=s,t[2]=l,t[3]=r),t}correctTopRight(t){let r=t[0],o=t[1],s=t[2],l=t[3],c=this.transitionsBetween(r,l),d=this.transitionsBetween(o,l),h=gt.shiftPoint(r,o,(d+1)*4),p=gt.shiftPoint(s,o,(c+1)*4);c=this.transitionsBetween(h,l),d=this.transitionsBetween(p,l);let w=new ge(l.getX()+(s.getX()-o.getX())/(c+1),l.getY()+(s.getY()-o.getY())/(c+1)),C=new ge(l.getX()+(r.getX()-o.getX())/(d+1),l.getY()+(r.getY()-o.getY())/(d+1));if(!this.isValid(w))return this.isValid(C)?C:null;if(!this.isValid(C))return w;let A=this.transitionsBetween(h,w)+this.transitionsBetween(p,w),N=this.transitionsBetween(h,C)+this.transitionsBetween(p,C);return A>N?w:C}shiftToModuleCenter(t){let r=t[0],o=t[1],s=t[2],l=t[3],c=this.transitionsBetween(r,l)+1,d=this.transitionsBetween(s,l)+1,h=gt.shiftPoint(r,o,d*4),p=gt.shiftPoint(s,o,c*4);c=this.transitionsBetween(h,l)+1,d=this.transitionsBetween(p,l)+1,(c&1)===1&&(c+=1),(d&1)===1&&(d+=1);let w=(r.getX()+o.getX()+s.getX()+l.getX())/4,C=(r.getY()+o.getY()+s.getY()+l.getY())/4;r=gt.moveAway(r,w,C),o=gt.moveAway(o,w,C),s=gt.moveAway(s,w,C),l=gt.moveAway(l,w,C);let A,N;return h=gt.shiftPoint(r,o,d*4),h=gt.shiftPoint(h,l,c*4),A=gt.shiftPoint(o,r,d*4),A=gt.shiftPoint(A,s,c*4),p=gt.shiftPoint(s,l,d*4),p=gt.shiftPoint(p,o,c*4),N=gt.shiftPoint(l,s,d*4),N=gt.shiftPoint(N,r,c*4),[h,A,p,N]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,r,o,s,l,c,d){return gr.getInstance().sampleGrid(t,c,d,.5,.5,c-.5,.5,c-.5,d-.5,.5,d-.5,r.getX(),r.getY(),l.getX(),l.getY(),s.getX(),s.getY(),o.getX(),o.getY())}transitionsBetween(t,r){let o=Math.trunc(t.getX()),s=Math.trunc(t.getY()),l=Math.trunc(r.getX()),c=Math.trunc(r.getY()),d=Math.abs(c-s)>Math.abs(l-o);if(d){let M=o;o=s,s=M,M=l,l=c,c=M}let h=Math.abs(l-o),p=Math.abs(c-s),w=-h/2,C=s<c?1:-1,A=o<l?1:-1,N=0,D=this.image.get(d?s:o,d?o:s);for(let M=o,F=s;M!==l;M+=A){let H=this.image.get(d?F:M,d?M:F);if(H!==D&&(N++,D=H),w+=p,w>0){if(F===c)break;F+=C,w-=h}}return N}}class mr{constructor(){this.decoder=new _2}decode(t,r=null){let o,s;if(r!=null&&r.has(Z.PURE_BARCODE)){const p=mr.extractPureBits(t.getBlackMatrix());o=this.decoder.decode(p),s=mr.NO_POINTS}else{const p=new gt(t.getBlackMatrix()).detect();o=this.decoder.decode(p.getBits()),s=p.getPoints()}const l=o.getRawBytes(),c=new $(o.getText(),l,8*l.length,s,he.DATA_MATRIX,k.currentTimeMillis()),d=o.getByteSegments();d!=null&&c.putMetadata(xt.BYTE_SEGMENTS,d);const h=o.getECLevel();return h!=null&&c.putMetadata(xt.ERROR_CORRECTION_LEVEL,h),c}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),o=t.getBottomRightOnBit();if(r==null||o==null)throw new W;const s=this.moduleSize(r,t);let l=r[1];const c=o[1];let d=r[0];const p=(o[0]-d+1)/s,w=(c-l+1)/s;if(p<=0||w<=0)throw new W;const C=s/2;l+=C,d+=C;const A=new Ue(p,w);for(let N=0;N<w;N++){const D=l+N*s;for(let M=0;M<p;M++)t.get(d+M*s,D)&&A.set(M,N)}return A}static moduleSize(t,r){const o=r.getWidth();let s=t[0];const l=t[1];for(;s<o&&r.get(s,l);)s++;if(s===o)throw new W;const c=s-t[0];if(c===0)throw new W;return c}}mr.NO_POINTS=[];class I2 extends Tt{constructor(t=500){super(new mr,t)}}var xi;(function(E){E[E.L=0]="L",E[E.M=1]="M",E[E.Q=2]="Q",E[E.H=3]="H"})(xi||(xi={}));class Ke{constructor(t,r,o){this.value=t,this.stringValue=r,this.bits=o,Ke.FOR_BITS.set(o,this),Ke.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return Ke.L;case"M":return Ke.M;case"Q":return Ke.Q;case"H":return Ke.H;default:throw new v(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof Ke))return!1;const r=t;return this.value===r.value}static forBits(t){if(t<0||t>=Ke.FOR_BITS.size)throw new S;return Ke.FOR_BITS.get(t)}}Ke.FOR_BITS=new Map,Ke.FOR_VALUE=new Map,Ke.L=new Ke(xi.L,"L",1),Ke.M=new Ke(xi.M,"M",0),Ke.Q=new Ke(xi.Q,"Q",3),Ke.H=new Ke(xi.H,"H",2);class Lt{constructor(t){this.errorCorrectionLevel=Ke.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,r){return b.bitCount(t^r)}static decodeFormatInformation(t,r){const o=Lt.doDecodeFormatInformation(t,r);return o!==null?o:Lt.doDecodeFormatInformation(t^Lt.FORMAT_INFO_MASK_QR,r^Lt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,r){let o=Number.MAX_SAFE_INTEGER,s=0;for(const l of Lt.FORMAT_INFO_DECODE_LOOKUP){const c=l[0];if(c===t||c===r)return new Lt(l[1]);let d=Lt.numBitsDiffering(t,c);d<o&&(s=l[1],o=d),t!==r&&(d=Lt.numBitsDiffering(r,c),d<o&&(s=l[1],o=d))}return o<=3?new Lt(s):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof Lt))return!1;const r=t;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}Lt.FORMAT_INFO_MASK_QR=21522,Lt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class U{constructor(t,...r){this.ecCodewordsPerBlock=t,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const r=this.ecBlocks;for(const o of r)t+=o.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class _{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class xe{constructor(t,r,...o){this.versionNumber=t,this.alignmentPatternCenters=r,this.ecBlocks=o;let s=0;const l=o[0].getECCodewordsPerBlock(),c=o[0].getECBlocks();for(const d of c)s+=d.getCount()*(d.getDataCodewords()+l);this.totalCodewords=s}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new P;try{return this.getVersionForNumber((t-17)/4)}catch{throw new P}}static getVersionForNumber(t){if(t<1||t>40)throw new S;return xe.VERSIONS[t-1]}static decodeVersionInformation(t){let r=Number.MAX_SAFE_INTEGER,o=0;for(let s=0;s<xe.VERSION_DECODE_INFO.length;s++){const l=xe.VERSION_DECODE_INFO[s];if(l===t)return xe.getVersionForNumber(s+7);const c=Lt.numBitsDiffering(t,l);c<r&&(o=s+7,r=c)}return r<=3?xe.getVersionForNumber(o):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),r=new Ue(t);r.setRegion(0,0,9,9),r.setRegion(t-8,0,8,9),r.setRegion(0,t-8,9,8);const o=this.alignmentPatternCenters.length;for(let s=0;s<o;s++){const l=this.alignmentPatternCenters[s]-2;for(let c=0;c<o;c++)s===0&&(c===0||c===o-1)||s===o-1&&c===0||r.setRegion(this.alignmentPatternCenters[c]-2,l,5,5)}return r.setRegion(6,9,1,t-17),r.setRegion(9,6,t-17,1),this.versionNumber>6&&(r.setRegion(t-11,0,3,6),r.setRegion(0,t-11,6,3)),r}toString(){return""+this.versionNumber}}xe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),xe.VERSIONS=[new xe(1,new Int32Array(0),new U(7,new _(1,19)),new U(10,new _(1,16)),new U(13,new _(1,13)),new U(17,new _(1,9))),new xe(2,Int32Array.from([6,18]),new U(10,new _(1,34)),new U(16,new _(1,28)),new U(22,new _(1,22)),new U(28,new _(1,16))),new xe(3,Int32Array.from([6,22]),new U(15,new _(1,55)),new U(26,new _(1,44)),new U(18,new _(2,17)),new U(22,new _(2,13))),new xe(4,Int32Array.from([6,26]),new U(20,new _(1,80)),new U(18,new _(2,32)),new U(26,new _(2,24)),new U(16,new _(4,9))),new xe(5,Int32Array.from([6,30]),new U(26,new _(1,108)),new U(24,new _(2,43)),new U(18,new _(2,15),new _(2,16)),new U(22,new _(2,11),new _(2,12))),new xe(6,Int32Array.from([6,34]),new U(18,new _(2,68)),new U(16,new _(4,27)),new U(24,new _(4,19)),new U(28,new _(4,15))),new xe(7,Int32Array.from([6,22,38]),new U(20,new _(2,78)),new U(18,new _(4,31)),new U(18,new _(2,14),new _(4,15)),new U(26,new _(4,13),new _(1,14))),new xe(8,Int32Array.from([6,24,42]),new U(24,new _(2,97)),new U(22,new _(2,38),new _(2,39)),new U(22,new _(4,18),new _(2,19)),new U(26,new _(4,14),new _(2,15))),new xe(9,Int32Array.from([6,26,46]),new U(30,new _(2,116)),new U(22,new _(3,36),new _(2,37)),new U(20,new _(4,16),new _(4,17)),new U(24,new _(4,12),new _(4,13))),new xe(10,Int32Array.from([6,28,50]),new U(18,new _(2,68),new _(2,69)),new U(26,new _(4,43),new _(1,44)),new U(24,new _(6,19),new _(2,20)),new U(28,new _(6,15),new _(2,16))),new xe(11,Int32Array.from([6,30,54]),new U(20,new _(4,81)),new U(30,new _(1,50),new _(4,51)),new U(28,new _(4,22),new _(4,23)),new U(24,new _(3,12),new _(8,13))),new xe(12,Int32Array.from([6,32,58]),new U(24,new _(2,92),new _(2,93)),new U(22,new _(6,36),new _(2,37)),new U(26,new _(4,20),new _(6,21)),new U(28,new _(7,14),new _(4,15))),new xe(13,Int32Array.from([6,34,62]),new U(26,new _(4,107)),new U(22,new _(8,37),new _(1,38)),new U(24,new _(8,20),new _(4,21)),new U(22,new _(12,11),new _(4,12))),new xe(14,Int32Array.from([6,26,46,66]),new U(30,new _(3,115),new _(1,116)),new U(24,new _(4,40),new _(5,41)),new U(20,new _(11,16),new _(5,17)),new U(24,new _(11,12),new _(5,13))),new xe(15,Int32Array.from([6,26,48,70]),new U(22,new _(5,87),new _(1,88)),new U(24,new _(5,41),new _(5,42)),new U(30,new _(5,24),new _(7,25)),new U(24,new _(11,12),new _(7,13))),new xe(16,Int32Array.from([6,26,50,74]),new U(24,new _(5,98),new _(1,99)),new U(28,new _(7,45),new _(3,46)),new U(24,new _(15,19),new _(2,20)),new U(30,new _(3,15),new _(13,16))),new xe(17,Int32Array.from([6,30,54,78]),new U(28,new _(1,107),new _(5,108)),new U(28,new _(10,46),new _(1,47)),new U(28,new _(1,22),new _(15,23)),new U(28,new _(2,14),new _(17,15))),new xe(18,Int32Array.from([6,30,56,82]),new U(30,new _(5,120),new _(1,121)),new U(26,new _(9,43),new _(4,44)),new U(28,new _(17,22),new _(1,23)),new U(28,new _(2,14),new _(19,15))),new xe(19,Int32Array.from([6,30,58,86]),new U(28,new _(3,113),new _(4,114)),new U(26,new _(3,44),new _(11,45)),new U(26,new _(17,21),new _(4,22)),new U(26,new _(9,13),new _(16,14))),new xe(20,Int32Array.from([6,34,62,90]),new U(28,new _(3,107),new _(5,108)),new U(26,new _(3,41),new _(13,42)),new U(30,new _(15,24),new _(5,25)),new U(28,new _(15,15),new _(10,16))),new xe(21,Int32Array.from([6,28,50,72,94]),new U(28,new _(4,116),new _(4,117)),new U(26,new _(17,42)),new U(28,new _(17,22),new _(6,23)),new U(30,new _(19,16),new _(6,17))),new xe(22,Int32Array.from([6,26,50,74,98]),new U(28,new _(2,111),new _(7,112)),new U(28,new _(17,46)),new U(30,new _(7,24),new _(16,25)),new U(24,new _(34,13))),new xe(23,Int32Array.from([6,30,54,78,102]),new U(30,new _(4,121),new _(5,122)),new U(28,new _(4,47),new _(14,48)),new U(30,new _(11,24),new _(14,25)),new U(30,new _(16,15),new _(14,16))),new xe(24,Int32Array.from([6,28,54,80,106]),new U(30,new _(6,117),new _(4,118)),new U(28,new _(6,45),new _(14,46)),new U(30,new _(11,24),new _(16,25)),new U(30,new _(30,16),new _(2,17))),new xe(25,Int32Array.from([6,32,58,84,110]),new U(26,new _(8,106),new _(4,107)),new U(28,new _(8,47),new _(13,48)),new U(30,new _(7,24),new _(22,25)),new U(30,new _(22,15),new _(13,16))),new xe(26,Int32Array.from([6,30,58,86,114]),new U(28,new _(10,114),new _(2,115)),new U(28,new _(19,46),new _(4,47)),new U(28,new _(28,22),new _(6,23)),new U(30,new _(33,16),new _(4,17))),new xe(27,Int32Array.from([6,34,62,90,118]),new U(30,new _(8,122),new _(4,123)),new U(28,new _(22,45),new _(3,46)),new U(30,new _(8,23),new _(26,24)),new U(30,new _(12,15),new _(28,16))),new xe(28,Int32Array.from([6,26,50,74,98,122]),new U(30,new _(3,117),new _(10,118)),new U(28,new _(3,45),new _(23,46)),new U(30,new _(4,24),new _(31,25)),new U(30,new _(11,15),new _(31,16))),new xe(29,Int32Array.from([6,30,54,78,102,126]),new U(30,new _(7,116),new _(7,117)),new U(28,new _(21,45),new _(7,46)),new U(30,new _(1,23),new _(37,24)),new U(30,new _(19,15),new _(26,16))),new xe(30,Int32Array.from([6,26,52,78,104,130]),new U(30,new _(5,115),new _(10,116)),new U(28,new _(19,47),new _(10,48)),new U(30,new _(15,24),new _(25,25)),new U(30,new _(23,15),new _(25,16))),new xe(31,Int32Array.from([6,30,56,82,108,134]),new U(30,new _(13,115),new _(3,116)),new U(28,new _(2,46),new _(29,47)),new U(30,new _(42,24),new _(1,25)),new U(30,new _(23,15),new _(28,16))),new xe(32,Int32Array.from([6,34,60,86,112,138]),new U(30,new _(17,115)),new U(28,new _(10,46),new _(23,47)),new U(30,new _(10,24),new _(35,25)),new U(30,new _(19,15),new _(35,16))),new xe(33,Int32Array.from([6,30,58,86,114,142]),new U(30,new _(17,115),new _(1,116)),new U(28,new _(14,46),new _(21,47)),new U(30,new _(29,24),new _(19,25)),new U(30,new _(11,15),new _(46,16))),new xe(34,Int32Array.from([6,34,62,90,118,146]),new U(30,new _(13,115),new _(6,116)),new U(28,new _(14,46),new _(23,47)),new U(30,new _(44,24),new _(7,25)),new U(30,new _(59,16),new _(1,17))),new xe(35,Int32Array.from([6,30,54,78,102,126,150]),new U(30,new _(12,121),new _(7,122)),new U(28,new _(12,47),new _(26,48)),new U(30,new _(39,24),new _(14,25)),new U(30,new _(22,15),new _(41,16))),new xe(36,Int32Array.from([6,24,50,76,102,128,154]),new U(30,new _(6,121),new _(14,122)),new U(28,new _(6,47),new _(34,48)),new U(30,new _(46,24),new _(10,25)),new U(30,new _(2,15),new _(64,16))),new xe(37,Int32Array.from([6,28,54,80,106,132,158]),new U(30,new _(17,122),new _(4,123)),new U(28,new _(29,46),new _(14,47)),new U(30,new _(49,24),new _(10,25)),new U(30,new _(24,15),new _(46,16))),new xe(38,Int32Array.from([6,32,58,84,110,136,162]),new U(30,new _(4,122),new _(18,123)),new U(28,new _(13,46),new _(32,47)),new U(30,new _(48,24),new _(14,25)),new U(30,new _(42,15),new _(32,16))),new xe(39,Int32Array.from([6,26,54,82,110,138,166]),new U(30,new _(20,117),new _(4,118)),new U(28,new _(40,47),new _(7,48)),new U(30,new _(43,24),new _(22,25)),new U(30,new _(10,15),new _(67,16))),new xe(40,Int32Array.from([6,30,58,86,114,142,170]),new U(30,new _(19,118),new _(6,119)),new U(28,new _(18,47),new _(31,48)),new U(30,new _(34,24),new _(34,25)),new U(30,new _(20,15),new _(61,16)))];var vt;(function(E){E[E.DATA_MASK_000=0]="DATA_MASK_000",E[E.DATA_MASK_001=1]="DATA_MASK_001",E[E.DATA_MASK_010=2]="DATA_MASK_010",E[E.DATA_MASK_011=3]="DATA_MASK_011",E[E.DATA_MASK_100=4]="DATA_MASK_100",E[E.DATA_MASK_101=5]="DATA_MASK_101",E[E.DATA_MASK_110=6]="DATA_MASK_110",E[E.DATA_MASK_111=7]="DATA_MASK_111"})(vt||(vt={}));class yn{constructor(t,r){this.value=t,this.isMasked=r}unmaskBitMatrix(t,r){for(let o=0;o<r;o++)for(let s=0;s<r;s++)this.isMasked(o,s)&&t.flip(s,o)}}yn.values=new Map([[vt.DATA_MASK_000,new yn(vt.DATA_MASK_000,(E,t)=>(E+t&1)===0)],[vt.DATA_MASK_001,new yn(vt.DATA_MASK_001,(E,t)=>(E&1)===0)],[vt.DATA_MASK_010,new yn(vt.DATA_MASK_010,(E,t)=>t%3===0)],[vt.DATA_MASK_011,new yn(vt.DATA_MASK_011,(E,t)=>(E+t)%3===0)],[vt.DATA_MASK_100,new yn(vt.DATA_MASK_100,(E,t)=>(Math.floor(E/2)+Math.floor(t/3)&1)===0)],[vt.DATA_MASK_101,new yn(vt.DATA_MASK_101,(E,t)=>E*t%6===0)],[vt.DATA_MASK_110,new yn(vt.DATA_MASK_110,(E,t)=>E*t%6<3)],[vt.DATA_MASK_111,new yn(vt.DATA_MASK_111,(E,t)=>(E+t+E*t%3&1)===0)]]);class N2{constructor(t){const r=t.getHeight();if(r<21||(r&3)!==1)throw new P;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let l=0;l<6;l++)t=this.copyBit(l,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let l=5;l>=0;l--)t=this.copyBit(8,l,t);const r=this.bitMatrix.getHeight();let o=0;const s=r-7;for(let l=r-1;l>=s;l--)o=this.copyBit(8,l,o);for(let l=r-8;l<r;l++)o=this.copyBit(l,8,o);if(this.parsedFormatInfo=Lt.decodeFormatInformation(t,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new P}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),r=Math.floor((t-17)/4);if(r<=6)return xe.getVersionForNumber(r);let o=0;const s=t-11;for(let c=5;c>=0;c--)for(let d=t-9;d>=s;d--)o=this.copyBit(d,c,o);let l=xe.decodeVersionInformation(o);if(l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;o=0;for(let c=5;c>=0;c--)for(let d=t-9;d>=s;d--)o=this.copyBit(c,d,o);if(l=xe.decodeVersionInformation(o),l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;throw new P}copyBit(t,r,o){return(this.isMirror?this.bitMatrix.get(r,t):this.bitMatrix.get(t,r))?o<<1|1:o<<1}readCodewords(){const t=this.readFormatInformation(),r=this.readVersion(),o=yn.values.get(t.getDataMask()),s=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,s);const l=r.buildFunctionPattern();let c=!0;const d=new Uint8Array(r.getTotalCodewords());let h=0,p=0,w=0;for(let C=s-1;C>0;C-=2){C===6&&C--;for(let A=0;A<s;A++){const N=c?s-1-A:A;for(let D=0;D<2;D++)l.get(C-D,N)||(w++,p<<=1,this.bitMatrix.get(C-D,N)&&(p|=1),w===8&&(d[h++]=p,w=0,p=0))}c=!c}if(h!==r.getTotalCodewords())throw new P;return d}remask(){if(this.parsedFormatInfo===null)return;const t=yn.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,r)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let r=0,o=t.getWidth();r<o;r++)for(let s=r+1,l=t.getHeight();s<l;s++)t.get(r,s)!==t.get(s,r)&&(t.flip(s,r),t.flip(r,s))}}class ll{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r,o){if(t.length!==r.getTotalCodewords())throw new S;const s=r.getECBlocksForLevel(o);let l=0;const c=s.getECBlocks();for(const D of c)l+=D.getCount();const d=new Array(l);let h=0;for(const D of c)for(let M=0;M<D.getCount();M++){const F=D.getDataCodewords(),H=s.getECCodewordsPerBlock()+F;d[h++]=new ll(F,new Uint8Array(H))}const p=d[0].codewords.length;let w=d.length-1;for(;w>=0&&d[w].codewords.length!==p;)w--;w++;const C=p-s.getECCodewordsPerBlock();let A=0;for(let D=0;D<C;D++)for(let M=0;M<h;M++)d[M].codewords[D]=t[A++];for(let D=w;D<h;D++)d[D].codewords[C]=t[A++];const N=d[0].codewords.length;for(let D=C;D<N;D++)for(let M=0;M<h;M++){const F=M<w?D:D+1;d[M].codewords[F]=t[A++]}return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var En;(function(E){E[E.TERMINATOR=0]="TERMINATOR",E[E.NUMERIC=1]="NUMERIC",E[E.ALPHANUMERIC=2]="ALPHANUMERIC",E[E.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",E[E.BYTE=4]="BYTE",E[E.ECI=5]="ECI",E[E.KANJI=6]="KANJI",E[E.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",E[E.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",E[E.HANZI=9]="HANZI"})(En||(En={}));class we{constructor(t,r,o,s){this.value=t,this.stringValue=r,this.characterCountBitsForVersions=o,this.bits=s,we.FOR_BITS.set(s,this),we.FOR_VALUE.set(t,this)}static forBits(t){const r=we.FOR_BITS.get(t);if(r===void 0)throw new S;return r}getCharacterCountBits(t){const r=t.getVersionNumber();let o;return r<=9?o=0:r<=26?o=1:o=2,this.characterCountBitsForVersions[o]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof we))return!1;const r=t;return this.value===r.value}toString(){return this.stringValue}}we.FOR_BITS=new Map,we.FOR_VALUE=new Map,we.TERMINATOR=new we(En.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),we.NUMERIC=new we(En.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),we.ALPHANUMERIC=new we(En.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),we.STRUCTURED_APPEND=new we(En.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),we.BYTE=new we(En.BYTE,"BYTE",Int32Array.from([8,16,16]),4),we.ECI=new we(En.ECI,"ECI",Int32Array.from([0,0,0]),7),we.KANJI=new we(En.KANJI,"KANJI",Int32Array.from([8,10,12]),8),we.FNC1_FIRST_POSITION=new we(En.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),we.FNC1_SECOND_POSITION=new we(En.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),we.HANZI=new we(En.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class rt{static decode(t,r,o,s){const l=new al(t);let c=new Ae;const d=new Array;let h=-1,p=-1;try{let w=null,C=!1,A;do{if(l.available()<4)A=we.TERMINATOR;else{const N=l.readBits(4);A=we.forBits(N)}switch(A){case we.TERMINATOR:break;case we.FNC1_FIRST_POSITION:case we.FNC1_SECOND_POSITION:C=!0;break;case we.STRUCTURED_APPEND:if(l.available()<16)throw new P;h=l.readBits(8),p=l.readBits(8);break;case we.ECI:const N=rt.parseECIValue(l);if(w=Y.getCharacterSetECIByValue(N),w===null)throw new P;break;case we.HANZI:const D=l.readBits(4),M=l.readBits(A.getCharacterCountBits(r));D===rt.GB2312_SUBSET&&rt.decodeHanziSegment(l,c,M);break;default:const F=l.readBits(A.getCharacterCountBits(r));switch(A){case we.NUMERIC:rt.decodeNumericSegment(l,c,F);break;case we.ALPHANUMERIC:rt.decodeAlphanumericSegment(l,c,F,C);break;case we.BYTE:rt.decodeByteSegment(l,c,F,w,d,s);break;case we.KANJI:rt.decodeKanjiSegment(l,c,F);break;default:throw new P}break}}while(A!==we.TERMINATOR)}catch{throw new P}return new jn(t,c.toString(),d.length===0?null:d,o===null?null:o.toString(),h,p)}static decodeHanziSegment(t,r,o){if(o*13>t.available())throw new P;const s=new Uint8Array(2*o);let l=0;for(;o>0;){const c=t.readBits(13);let d=c/96<<8&4294967295|c%96;d<959?d+=41377:d+=42657,s[l]=d>>8&255,s[l+1]=d&255,l+=2,o--}try{r.append(Ie.decode(s,pe.GB2312))}catch(c){throw new P(c)}}static decodeKanjiSegment(t,r,o){if(o*13>t.available())throw new P;const s=new Uint8Array(2*o);let l=0;for(;o>0;){const c=t.readBits(13);let d=c/192<<8&4294967295|c%192;d<7936?d+=33088:d+=49472,s[l]=d>>8,s[l+1]=d,l+=2,o--}try{r.append(Ie.decode(s,pe.SHIFT_JIS))}catch(c){throw new P(c)}}static decodeByteSegment(t,r,o,s,l,c){if(8*o>t.available())throw new P;const d=new Uint8Array(o);for(let p=0;p<o;p++)d[p]=t.readBits(8);let h;s===null?h=pe.guessEncoding(d,c):h=s.getName();try{r.append(Ie.decode(d,h))}catch(p){throw new P(p)}l.push(d)}static toAlphaNumericChar(t){if(t>=rt.ALPHANUMERIC_CHARS.length)throw new P;return rt.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,r,o,s){const l=r.length();for(;o>1;){if(t.available()<11)throw new P;const c=t.readBits(11);r.append(rt.toAlphaNumericChar(Math.floor(c/45))),r.append(rt.toAlphaNumericChar(c%45)),o-=2}if(o===1){if(t.available()<6)throw new P;r.append(rt.toAlphaNumericChar(t.readBits(6)))}if(s)for(let c=l;c<r.length();c++)r.charAt(c)==="%"&&(c<r.length()-1&&r.charAt(c+1)==="%"?r.deleteCharAt(c+1):r.setCharAt(c,""))}static decodeNumericSegment(t,r,o){for(;o>=3;){if(t.available()<10)throw new P;const s=t.readBits(10);if(s>=1e3)throw new P;r.append(rt.toAlphaNumericChar(Math.floor(s/100))),r.append(rt.toAlphaNumericChar(Math.floor(s/10)%10)),r.append(rt.toAlphaNumericChar(s%10)),o-=3}if(o===2){if(t.available()<7)throw new P;const s=t.readBits(7);if(s>=100)throw new P;r.append(rt.toAlphaNumericChar(Math.floor(s/10))),r.append(rt.toAlphaNumericChar(s%10))}else if(o===1){if(t.available()<4)throw new P;const s=t.readBits(4);if(s>=10)throw new P;r.append(rt.toAlphaNumericChar(s))}}static parseECIValue(t){const r=t.readBits(8);if(!(r&128))return r&127;if((r&192)===128){const o=t.readBits(8);return(r&63)<<8&4294967295|o}if((r&224)===192){const o=t.readBits(16);return(r&31)<<16&4294967295|o}throw new P}}rt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",rt.GB2312_SUBSET=1;class d1{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const r=t[0];t[0]=t[2],t[2]=r}}class T2{constructor(){this.rsDecoder=new Vn(de.QR_CODE_FIELD_256)}decodeBooleanArray(t,r){return this.decodeBitMatrix(Ue.parseFromBooleanArray(t),r)}decodeBitMatrix(t,r){const o=new N2(t);let s=null;try{return this.decodeBitMatrixParser(o,r)}catch(l){s=l}try{o.remask(),o.setMirror(!0),o.readVersion(),o.readFormatInformation(),o.mirror();const l=this.decodeBitMatrixParser(o,r);return l.setOther(new d1(!0)),l}catch(l){throw s!==null?s:l}}decodeBitMatrixParser(t,r){const o=t.readVersion(),s=t.readFormatInformation().getErrorCorrectionLevel(),l=t.readCodewords(),c=ll.getDataBlocks(l,o,s);let d=0;for(const w of c)d+=w.getNumDataCodewords();const h=new Uint8Array(d);let p=0;for(const w of c){const C=w.getCodewords(),A=w.getNumDataCodewords();this.correctErrors(C,A);for(let N=0;N<A;N++)h[p++]=C[N]}return rt.decode(h,o,s,r)}correctErrors(t,r){const o=new Int32Array(t);try{this.rsDecoder.decode(o,t.length-r)}catch{throw new L}for(let s=0;s<r;s++)t[s]=o[s]}}class cl extends ge{constructor(t,r,o){super(t,r),this.estimatedModuleSize=o}aboutEquals(t,r,o){if(Math.abs(r-this.getY())<=t&&Math.abs(o-this.getX())<=t){const s=Math.abs(t-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(t,r,o){const s=(this.getX()+r)/2,l=(this.getY()+t)/2,c=(this.estimatedModuleSize+o)/2;return new cl(s,l,c)}}class ps{constructor(t,r,o,s,l,c,d){this.image=t,this.startX=r,this.startY=o,this.width=s,this.height=l,this.moduleSize=c,this.resultPointCallback=d,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,r=this.height,o=this.width,s=t+o,l=this.startY+r/2,c=new Int32Array(3),d=this.image;for(let h=0;h<r;h++){const p=l+(h&1?-Math.floor((h+1)/2):Math.floor((h+1)/2));c[0]=0,c[1]=0,c[2]=0;let w=t;for(;w<s&&!d.get(w,p);)w++;let C=0;for(;w<s;){if(d.get(w,p))if(C===1)c[1]++;else if(C===2){if(this.foundPatternCross(c)){const A=this.handlePossibleCenter(c,p,w);if(A!==null)return A}c[0]=c[2],c[1]=1,c[2]=0,C=1}else c[++C]++;else C===1&&C++,c[C]++;w++}if(this.foundPatternCross(c)){const A=this.handlePossibleCenter(c,p,s);if(A!==null)return A}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new W}static centerFromEnd(t,r){return r-t[2]-t[1]/2}foundPatternCross(t){const r=this.moduleSize,o=r/2;for(let s=0;s<3;s++)if(Math.abs(r-t[s])>=o)return!1;return!0}crossCheckVertical(t,r,o,s){const l=this.image,c=l.getHeight(),d=this.crossCheckStateCount;d[0]=0,d[1]=0,d[2]=0;let h=t;for(;h>=0&&l.get(r,h)&&d[1]<=o;)d[1]++,h--;if(h<0||d[1]>o)return NaN;for(;h>=0&&!l.get(r,h)&&d[0]<=o;)d[0]++,h--;if(d[0]>o)return NaN;for(h=t+1;h<c&&l.get(r,h)&&d[1]<=o;)d[1]++,h++;if(h===c||d[1]>o)return NaN;for(;h<c&&!l.get(r,h)&&d[2]<=o;)d[2]++,h++;if(d[2]>o)return NaN;const p=d[0]+d[1]+d[2];return 5*Math.abs(p-s)>=2*s?NaN:this.foundPatternCross(d)?ps.centerFromEnd(d,h):NaN}handlePossibleCenter(t,r,o){const s=t[0]+t[1]+t[2],l=ps.centerFromEnd(t,o),c=this.crossCheckVertical(r,l,2*t[1],s);if(!isNaN(c)){const d=(t[0]+t[1]+t[2])/3;for(const p of this.possibleCenters)if(p.aboutEquals(d,c,l))return p.combineEstimate(c,l,d);const h=new cl(l,c,d);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null}}class ul extends ge{constructor(t,r,o,s){super(t,r),this.estimatedModuleSize=o,this.count=s,s===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,r,o){if(Math.abs(r-this.getY())<=t&&Math.abs(o-this.getX())<=t){const s=Math.abs(t-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(t,r,o){const s=this.count+1,l=(this.count*this.getX()+r)/s,c=(this.count*this.getY()+t)/s,d=(this.count*this.estimatedModuleSize+o)/s;return new ul(l,c,d,s)}}class b2{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class _t{constructor(t,r){this.image=t,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const r=t!=null&&t.get(Z.TRY_HARDER)!==void 0,o=t!=null&&t.get(Z.PURE_BARCODE)!==void 0,s=this.image,l=s.getHeight(),c=s.getWidth();let d=Math.floor(3*l/(4*_t.MAX_MODULES));(d<_t.MIN_SKIP||r)&&(d=_t.MIN_SKIP);let h=!1;const p=new Int32Array(5);for(let C=d-1;C<l&&!h;C+=d){p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0;let A=0;for(let N=0;N<c;N++)if(s.get(N,C))(A&1)===1&&A++,p[A]++;else if(A&1)p[A]++;else if(A===4)if(_t.foundPatternCross(p)){if(this.handlePossibleCenter(p,C,N,o)===!0)if(d=2,this.hasSkipped===!0)h=this.haveMultiplyConfirmedCenters();else{const M=this.findRowSkip();M>p[2]&&(C+=M-p[2]-d,N=c-1)}else{p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,A=3;continue}A=0,p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0}else p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,A=3;else p[++A]++;_t.foundPatternCross(p)&&this.handlePossibleCenter(p,C,c,o)===!0&&(d=p[0],this.hasSkipped&&(h=this.haveMultiplyConfirmedCenters()))}const w=this.selectBestPatterns();return ge.orderBestPatterns(w),new b2(w)}static centerFromEnd(t,r){return r-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let r=0;for(let l=0;l<5;l++){const c=t[l];if(c===0)return!1;r+=c}if(r<7)return!1;const o=r/7,s=o/2;return Math.abs(o-t[0])<s&&Math.abs(o-t[1])<s&&Math.abs(3*o-t[2])<3*s&&Math.abs(o-t[3])<s&&Math.abs(o-t[4])<s}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,r,o,s){const l=this.getCrossCheckStateCount();let c=0;const d=this.image;for(;t>=c&&r>=c&&d.get(r-c,t-c);)l[2]++,c++;if(t<c||r<c)return!1;for(;t>=c&&r>=c&&!d.get(r-c,t-c)&&l[1]<=o;)l[1]++,c++;if(t<c||r<c||l[1]>o)return!1;for(;t>=c&&r>=c&&d.get(r-c,t-c)&&l[0]<=o;)l[0]++,c++;if(l[0]>o)return!1;const h=d.getHeight(),p=d.getWidth();for(c=1;t+c<h&&r+c<p&&d.get(r+c,t+c);)l[2]++,c++;if(t+c>=h||r+c>=p)return!1;for(;t+c<h&&r+c<p&&!d.get(r+c,t+c)&&l[3]<o;)l[3]++,c++;if(t+c>=h||r+c>=p||l[3]>=o)return!1;for(;t+c<h&&r+c<p&&d.get(r+c,t+c)&&l[4]<o;)l[4]++,c++;if(l[4]>=o)return!1;const w=l[0]+l[1]+l[2]+l[3]+l[4];return Math.abs(w-s)<2*s&&_t.foundPatternCross(l)}crossCheckVertical(t,r,o,s){const l=this.image,c=l.getHeight(),d=this.getCrossCheckStateCount();let h=t;for(;h>=0&&l.get(r,h);)d[2]++,h--;if(h<0)return NaN;for(;h>=0&&!l.get(r,h)&&d[1]<=o;)d[1]++,h--;if(h<0||d[1]>o)return NaN;for(;h>=0&&l.get(r,h)&&d[0]<=o;)d[0]++,h--;if(d[0]>o)return NaN;for(h=t+1;h<c&&l.get(r,h);)d[2]++,h++;if(h===c)return NaN;for(;h<c&&!l.get(r,h)&&d[3]<o;)d[3]++,h++;if(h===c||d[3]>=o)return NaN;for(;h<c&&l.get(r,h)&&d[4]<o;)d[4]++,h++;if(d[4]>=o)return NaN;const p=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(p-s)>=2*s?NaN:_t.foundPatternCross(d)?_t.centerFromEnd(d,h):NaN}crossCheckHorizontal(t,r,o,s){const l=this.image,c=l.getWidth(),d=this.getCrossCheckStateCount();let h=t;for(;h>=0&&l.get(h,r);)d[2]++,h--;if(h<0)return NaN;for(;h>=0&&!l.get(h,r)&&d[1]<=o;)d[1]++,h--;if(h<0||d[1]>o)return NaN;for(;h>=0&&l.get(h,r)&&d[0]<=o;)d[0]++,h--;if(d[0]>o)return NaN;for(h=t+1;h<c&&l.get(h,r);)d[2]++,h++;if(h===c)return NaN;for(;h<c&&!l.get(h,r)&&d[3]<o;)d[3]++,h++;if(h===c||d[3]>=o)return NaN;for(;h<c&&l.get(h,r)&&d[4]<o;)d[4]++,h++;if(d[4]>=o)return NaN;const p=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(p-s)>=s?NaN:_t.foundPatternCross(d)?_t.centerFromEnd(d,h):NaN}handlePossibleCenter(t,r,o,s){const l=t[0]+t[1]+t[2]+t[3]+t[4];let c=_t.centerFromEnd(t,o),d=this.crossCheckVertical(r,Math.floor(c),t[2],l);if(!isNaN(d)&&(c=this.crossCheckHorizontal(Math.floor(c),Math.floor(d),t[2],l),!isNaN(c)&&(!s||this.crossCheckDiagonal(Math.floor(d),Math.floor(c),t[2],l)))){const h=l/7;let p=!1;const w=this.possibleCenters;for(let C=0,A=w.length;C<A;C++){const N=w[C];if(N.aboutEquals(h,d,c)){w[C]=N.combineEstimate(d,c,h),p=!0;break}}if(!p){const C=new ul(c,d,h);w.push(C),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(C)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const o of this.possibleCenters)if(o.getCount()>=_t.CENTER_QUORUM)if(r==null)r=o;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-o.getX())-Math.abs(r.getY()-o.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,r=0;const o=this.possibleCenters.length;for(const c of this.possibleCenters)c.getCount()>=_t.CENTER_QUORUM&&(t++,r+=c.getEstimatedModuleSize());if(t<3)return!1;const s=r/o;let l=0;for(const c of this.possibleCenters)l+=Math.abs(c.getEstimatedModuleSize()-s);return l<=.05*r}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new W;const r=this.possibleCenters;let o;if(t>3){let s=0,l=0;for(const h of this.possibleCenters){const p=h.getEstimatedModuleSize();s+=p,l+=p*p}o=s/t;let c=Math.sqrt(l/t-o*o);r.sort((h,p)=>{const w=Math.abs(p.getEstimatedModuleSize()-o),C=Math.abs(h.getEstimatedModuleSize()-o);return w<C?-1:w>C?1:0});const d=Math.max(.2*o,c);for(let h=0;h<r.length&&r.length>3;h++){const p=r[h];Math.abs(p.getEstimatedModuleSize()-o)>d&&(r.splice(h,1),h--)}}if(r.length>3){let s=0;for(const l of r)s+=l.getEstimatedModuleSize();o=s/r.length,r.sort((l,c)=>{if(c.getCount()===l.getCount()){const d=Math.abs(c.getEstimatedModuleSize()-o),h=Math.abs(l.getEstimatedModuleSize()-o);return d<h?1:d>h?-1:0}else return c.getCount()-l.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}_t.CENTER_QUORUM=2,_t.MIN_SKIP=3,_t.MAX_MODULES=57;class to{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(Z.NEED_RESULT_POINT_CALLBACK);const o=new _t(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(o)}processFinderPatternInfo(t){const r=t.getTopLeft(),o=t.getTopRight(),s=t.getBottomLeft(),l=this.calculateModuleSize(r,o,s);if(l<1)throw new W("No pattern found in proccess finder.");const c=to.computeDimension(r,o,s,l),d=xe.getProvisionalVersionForDimension(c),h=d.getDimensionForVersion()-7;let p=null;if(d.getAlignmentPatternCenters().length>0){const N=o.getX()-r.getX()+s.getX(),D=o.getY()-r.getY()+s.getY(),M=1-3/h,F=Math.floor(r.getX()+M*(N-r.getX())),H=Math.floor(r.getY()+M*(D-r.getY()));for(let te=4;te<=16;te<<=1)try{p=this.findAlignmentInRegion(l,F,H,te);break}catch(ne){if(!(ne instanceof W))throw ne}}const w=to.createTransform(r,o,s,p,c),C=to.sampleGrid(this.image,w,c);let A;return p===null?A=[s,r,o]:A=[s,r,o,p],new us(C,A)}static createTransform(t,r,o,s,l){const c=l-3.5;let d,h,p,w;return s!==null?(d=s.getX(),h=s.getY(),p=c-3,w=p):(d=r.getX()-t.getX()+o.getX(),h=r.getY()-t.getY()+o.getY(),p=c,w=c),Tn.quadrilateralToQuadrilateral(3.5,3.5,c,3.5,p,w,3.5,c,t.getX(),t.getY(),r.getX(),r.getY(),d,h,o.getX(),o.getY())}static sampleGrid(t,r,o){return gr.getInstance().sampleGridWithTransform(t,o,o,r)}static computeDimension(t,r,o,s){const l=Pe.round(ge.distance(t,r)/s),c=Pe.round(ge.distance(t,o)/s);let d=Math.floor((l+c)/2)+7;switch(d&3){case 0:d++;break;case 2:d--;break;case 3:throw new W("Dimensions could be not found.")}return d}calculateModuleSize(t,r,o){return(this.calculateModuleSizeOneWay(t,r)+this.calculateModuleSizeOneWay(t,o))/2}calculateModuleSizeOneWay(t,r){const o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(r.getX()),Math.floor(r.getY())),s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(o)?s/7:isNaN(s)?o/7:(o+s)/14}sizeOfBlackWhiteBlackRunBothWays(t,r,o,s){let l=this.sizeOfBlackWhiteBlackRun(t,r,o,s),c=1,d=t-(o-t);d<0?(c=t/(t-d),d=0):d>=this.image.getWidth()&&(c=(this.image.getWidth()-1-t)/(d-t),d=this.image.getWidth()-1);let h=Math.floor(r-(s-r)*c);return c=1,h<0?(c=r/(r-h),h=0):h>=this.image.getHeight()&&(c=(this.image.getHeight()-1-r)/(h-r),h=this.image.getHeight()-1),d=Math.floor(t+(d-t)*c),l+=this.sizeOfBlackWhiteBlackRun(t,r,d,h),l-1}sizeOfBlackWhiteBlackRun(t,r,o,s){const l=Math.abs(s-r)>Math.abs(o-t);if(l){let N=t;t=r,r=N,N=o,o=s,s=N}const c=Math.abs(o-t),d=Math.abs(s-r);let h=-c/2;const p=t<o?1:-1,w=r<s?1:-1;let C=0;const A=o+p;for(let N=t,D=r;N!==A;N+=p){const M=l?D:N,F=l?N:D;if(C===1===this.image.get(M,F)){if(C===2)return Pe.distance(N,D,t,r);C++}if(h+=d,h>0){if(D===s)break;D+=w,h-=c}}return C===2?Pe.distance(o+p,s,t,r):NaN}findAlignmentInRegion(t,r,o,s){const l=Math.floor(s*t),c=Math.max(0,r-l),d=Math.min(this.image.getWidth()-1,r+l);if(d-c<t*3)throw new W("Alignment top exceeds estimated module size.");const h=Math.max(0,o-l),p=Math.min(this.image.getHeight()-1,o+l);if(p-h<t*3)throw new W("Alignment bottom exceeds estimated module size.");return new ps(this.image,c,h,d-c,p-h,t,this.resultPointCallback).find()}}class wr{constructor(){this.decoder=new T2}getDecoder(){return this.decoder}decode(t,r){let o,s;if(r!=null&&r.get(Z.PURE_BARCODE)!==void 0){const h=wr.extractPureBits(t.getBlackMatrix());o=this.decoder.decodeBitMatrix(h,r),s=wr.NO_POINTS}else{const h=new to(t.getBlackMatrix()).detect(r);o=this.decoder.decodeBitMatrix(h.getBits(),r),s=h.getPoints()}o.getOther()instanceof d1&&o.getOther().applyMirroredCorrection(s);const l=new $(o.getText(),o.getRawBytes(),void 0,s,he.QR_CODE,void 0),c=o.getByteSegments();c!==null&&l.putMetadata(xt.BYTE_SEGMENTS,c);const d=o.getECLevel();return d!==null&&l.putMetadata(xt.ERROR_CORRECTION_LEVEL,d),o.hasStructuredAppend()&&(l.putMetadata(xt.STRUCTURED_APPEND_SEQUENCE,o.getStructuredAppendSequenceNumber()),l.putMetadata(xt.STRUCTURED_APPEND_PARITY,o.getStructuredAppendParity())),l}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),o=t.getBottomRightOnBit();if(r===null||o===null)throw new W;const s=this.moduleSize(r,t);let l=r[1],c=o[1],d=r[0],h=o[0];if(d>=h||l>=c)throw new W;if(c-l!==h-d&&(h=d+(c-l),h>=t.getWidth()))throw new W;const p=Math.round((h-d+1)/s),w=Math.round((c-l+1)/s);if(p<=0||w<=0)throw new W;if(w!==p)throw new W;const C=Math.floor(s/2);l+=C,d+=C;const A=d+Math.floor((p-1)*s)-h;if(A>0){if(A>C)throw new W;d-=A}const N=l+Math.floor((w-1)*s)-c;if(N>0){if(N>C)throw new W;l-=N}const D=new Ue(p,w);for(let M=0;M<w;M++){const F=l+Math.floor(M*s);for(let H=0;H<p;H++)t.get(d+Math.floor(H*s),F)&&D.set(H,M)}return D}static moduleSize(t,r){const o=r.getHeight(),s=r.getWidth();let l=t[0],c=t[1],d=!0,h=0;for(;l<s&&c<o;){if(d!==r.get(l,c)){if(++h===5)break;d=!d}l++,c++}if(l===s||c===o)throw new W;return(l-t[0])/7}}wr.NO_POINTS=new Array;class Ce{PDF417Common(){}static getBitCountSum(t){return Pe.sum(t)}static toIntArray(t){if(t==null||!t.length)return Ce.EMPTY_INT_ARRAY;const r=new Int32Array(t.length);let o=0;for(const s of t)r[o++]=s;return r}static getCodeword(t){const r=I.binarySearch(Ce.SYMBOL_TABLE,t&262143);return r<0?-1:(Ce.CODEWORD_TABLE[r]-1)%Ce.NUMBER_OF_CODEWORDS}}Ce.NUMBER_OF_CODEWORDS=929,Ce.MAX_CODEWORDS_IN_BARCODE=Ce.NUMBER_OF_CODEWORDS-1,Ce.MIN_ROWS_IN_BARCODE=3,Ce.MAX_ROWS_IN_BARCODE=90,Ce.MODULES_IN_CODEWORD=17,Ce.MODULES_IN_STOP_PATTERN=18,Ce.BARS_IN_MODULE=8,Ce.EMPTY_INT_ARRAY=new Int32Array([]),Ce.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ce.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class R2{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Ne{static detectMultiple(t,r,o){let s=t.getBlackMatrix(),l=Ne.detect(o,s);return l.length||(s=s.clone(),s.rotate180(),l=Ne.detect(o,s)),new R2(s,l)}static detect(t,r){const o=new Array;let s=0,l=0,c=!1;for(;s<r.getHeight();){const d=Ne.findVertices(r,s,l);if(d[0]==null&&d[3]==null){if(!c)break;c=!1,l=0;for(const h of o)h[1]!=null&&(s=Math.trunc(Math.max(s,h[1].getY()))),h[3]!=null&&(s=Math.max(s,Math.trunc(h[3].getY())));s+=Ne.ROW_STEP;continue}if(c=!0,o.push(d),!t)break;d[2]!=null?(l=Math.trunc(d[2].getX()),s=Math.trunc(d[2].getY())):(l=Math.trunc(d[4].getX()),s=Math.trunc(d[4].getY()))}return o}static findVertices(t,r,o){const s=t.getHeight(),l=t.getWidth(),c=new Array(8);return Ne.copyToResult(c,Ne.findRowsWithPattern(t,s,l,r,o,Ne.START_PATTERN),Ne.INDEXES_START_PATTERN),c[4]!=null&&(o=Math.trunc(c[4].getX()),r=Math.trunc(c[4].getY())),Ne.copyToResult(c,Ne.findRowsWithPattern(t,s,l,r,o,Ne.STOP_PATTERN),Ne.INDEXES_STOP_PATTERN),c}static copyToResult(t,r,o){for(let s=0;s<o.length;s++)t[o[s]]=r[s]}static findRowsWithPattern(t,r,o,s,l,c){const d=new Array(4);let h=!1;const p=new Int32Array(c.length);for(;s<r;s+=Ne.ROW_STEP){let C=Ne.findGuardPattern(t,l,s,o,!1,c,p);if(C!=null){for(;s>0;){const A=Ne.findGuardPattern(t,l,--s,o,!1,c,p);if(A!=null)C=A;else{s++;break}}d[0]=new ge(C[0],s),d[1]=new ge(C[1],s),h=!0;break}}let w=s+1;if(h){let C=0,A=Int32Array.from([Math.trunc(d[0].getX()),Math.trunc(d[1].getX())]);for(;w<r;w++){const N=Ne.findGuardPattern(t,A[0],w,o,!1,c,p);if(N!=null&&Math.abs(A[0]-N[0])<Ne.MAX_PATTERN_DRIFT&&Math.abs(A[1]-N[1])<Ne.MAX_PATTERN_DRIFT)A=N,C=0;else{if(C>Ne.SKIPPED_ROW_COUNT_MAX)break;C++}}w-=C+1,d[2]=new ge(A[0],w),d[3]=new ge(A[1],w)}return w-s<Ne.BARCODE_MIN_HEIGHT&&I.fill(d,null),d}static findGuardPattern(t,r,o,s,l,c,d){I.fillWithin(d,0,d.length,0);let h=r,p=0;for(;t.get(h,o)&&h>0&&p++<Ne.MAX_PIXEL_DRIFT;)h--;let w=h,C=0,A=c.length;for(let N=l;w<s;w++)if(t.get(w,o)!==N)d[C]++;else{if(C===A-1){if(Ne.patternMatchVariance(d,c,Ne.MAX_INDIVIDUAL_VARIANCE)<Ne.MAX_AVG_VARIANCE)return new Int32Array([h,w]);h+=d[0]+d[1],k.arraycopy(d,2,d,0,C-1),d[C-1]=0,d[C]=0,C--}else C++;d[C]=1,N=!N}return C===A-1&&Ne.patternMatchVariance(d,c,Ne.MAX_INDIVIDUAL_VARIANCE)<Ne.MAX_AVG_VARIANCE?new Int32Array([h,w-1]):null}static patternMatchVariance(t,r,o){let s=t.length,l=0,c=0;for(let p=0;p<s;p++)l+=t[p],c+=r[p];if(l<c)return 1/0;let d=l/c;o*=d;let h=0;for(let p=0;p<s;p++){let w=t[p],C=r[p]*d,A=w>C?w-C:C-w;if(A>o)return 1/0;h+=A}return h/l}}Ne.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ne.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ne.MAX_AVG_VARIANCE=.42,Ne.MAX_INDIVIDUAL_VARIANCE=.8,Ne.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ne.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ne.MAX_PIXEL_DRIFT=3,Ne.MAX_PATTERN_DRIFT=5,Ne.SKIPPED_ROW_COUNT_MAX=25,Ne.ROW_STEP=5,Ne.BARCODE_MIN_HEIGHT=10;class Rt{constructor(t,r){if(r.length===0)throw new S;this.field=t;let o=r.length;if(o>1&&r[0]===0){let s=1;for(;s<o&&r[s]===0;)s++;s===o?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(o-s),k.arraycopy(r,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let s=0;for(let l of this.coefficients)s=this.field.add(s,l);return s}let r=this.coefficients[0],o=this.coefficients.length;for(let s=1;s<o;s++)r=this.field.add(this.field.multiply(t,r),this.coefficients[s]);return r}add(t){if(!this.field.equals(t.field))throw new S("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,o=t.coefficients;if(r.length>o.length){let c=r;r=o,o=c}let s=new Int32Array(o.length),l=o.length-r.length;k.arraycopy(o,0,s,0,l);for(let c=l;c<o.length;c++)s[c]=this.field.add(r[c-l],o[c]);return new Rt(this.field,s)}subtract(t){if(!this.field.equals(t.field))throw new S("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof Rt?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new S("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new Rt(this.field,new Int32Array([0]));let r=this.coefficients,o=r.length,s=t.coefficients,l=s.length,c=new Int32Array(o+l-1);for(let d=0;d<o;d++){let h=r[d];for(let p=0;p<l;p++)c[d+p]=this.field.add(c[d+p],this.field.multiply(h,s[p]))}return new Rt(this.field,c)}negative(){let t=this.coefficients.length,r=new Int32Array(t);for(let o=0;o<t;o++)r[o]=this.field.subtract(0,this.coefficients[o]);return new Rt(this.field,r)}multiplyScalar(t){if(t===0)return new Rt(this.field,new Int32Array([0]));if(t===1)return this;let r=this.coefficients.length,o=new Int32Array(r);for(let s=0;s<r;s++)o[s]=this.field.multiply(this.coefficients[s],t);return new Rt(this.field,o)}multiplyByMonomial(t,r){if(t<0)throw new S;if(r===0)return new Rt(this.field,new Int32Array([0]));let o=this.coefficients.length,s=new Int32Array(o+t);for(let l=0;l<o;l++)s[l]=this.field.multiply(this.coefficients[l],r);return new Rt(this.field,s)}toString(){let t=new Ae;for(let r=this.getDegree();r>=0;r--){let o=this.getCoefficient(r);o!==0&&(o<0?(t.append(" - "),o=-o):t.length()>0&&t.append(" + "),(r===0||o!==1)&&t.append(o),r!==0&&(r===1?t.append("x"):(t.append("x^"),t.append(r))))}return t.toString()}}class O2{add(t,r){return(t+r)%this.modulus}subtract(t,r){return(this.modulus+t-r)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new S;return this.logTable[t]}inverse(t){if(t===0)throw new _e;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class fl extends O2{constructor(t,r){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let o=1;for(let s=0;s<t;s++)this.expTable[s]=o,o=o*r%t;for(let s=0;s<t-1;s++)this.logTable[this.expTable[s]]=s;this.zero=new Rt(this,new Int32Array([0])),this.one=new Rt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new S;if(r===0)return this.zero;let o=new Int32Array(t+1);return o[0]=r,new Rt(this,o)}}fl.PDF417_GF=new fl(Ce.NUMBER_OF_CODEWORDS,3);class h1{constructor(){this.field=fl.PDF417_GF}decode(t,r,o){let s=new Rt(this.field,t),l=new Int32Array(r),c=!1;for(let D=r;D>0;D--){let M=s.evaluateAt(this.field.exp(D));l[r-D]=M,M!==0&&(c=!0)}if(!c)return 0;let d=this.field.getOne();if(o!=null)for(const D of o){let M=this.field.exp(t.length-1-D),F=new Rt(this.field,new Int32Array([this.field.subtract(0,M),1]));d=d.multiply(F)}let h=new Rt(this.field,l),p=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),h,r),w=p[0],C=p[1],A=this.findErrorLocations(w),N=this.findErrorMagnitudes(C,w,A);for(let D=0;D<A.length;D++){let M=t.length-1-this.field.log(A[D]);if(M<0)throw L.getChecksumInstance();t[M]=this.field.subtract(t[M],N[D])}return A.length}runEuclideanAlgorithm(t,r,o){if(t.getDegree()<r.getDegree()){let A=t;t=r,r=A}let s=t,l=r,c=this.field.getZero(),d=this.field.getOne();for(;l.getDegree()>=Math.round(o/2);){let A=s,N=c;if(s=l,c=d,s.isZero())throw L.getChecksumInstance();l=A;let D=this.field.getZero(),M=s.getCoefficient(s.getDegree()),F=this.field.inverse(M);for(;l.getDegree()>=s.getDegree()&&!l.isZero();){let H=l.getDegree()-s.getDegree(),te=this.field.multiply(l.getCoefficient(l.getDegree()),F);D=D.add(this.field.buildMonomial(H,te)),l=l.subtract(s.multiplyByMonomial(H,te))}d=D.multiply(c).subtract(N).negative()}let h=d.getCoefficient(0);if(h===0)throw L.getChecksumInstance();let p=this.field.inverse(h),w=d.multiply(p),C=l.multiply(p);return[w,C]}findErrorLocations(t){let r=t.getDegree(),o=new Int32Array(r),s=0;for(let l=1;l<this.field.getSize()&&s<r;l++)t.evaluateAt(l)===0&&(o[s]=this.field.inverse(l),s++);if(s!==r)throw L.getChecksumInstance();return o}findErrorMagnitudes(t,r,o){let s=r.getDegree(),l=new Int32Array(s);for(let p=1;p<=s;p++)l[s-p]=this.field.multiply(p,r.getCoefficient(p));let c=new Rt(this.field,l),d=o.length,h=new Int32Array(d);for(let p=0;p<d;p++){let w=this.field.inverse(o[p]),C=this.field.subtract(0,t.evaluateAt(w)),A=this.field.inverse(c.evaluateAt(w));h[p]=this.field.multiply(C,A)}return h}}class Xr{constructor(t,r,o,s,l){t instanceof Xr?this.constructor_2(t):this.constructor_1(t,r,o,s,l)}constructor_1(t,r,o,s,l){const c=r==null||o==null,d=s==null||l==null;if(c&&d)throw new W;c?(r=new ge(0,s.getY()),o=new ge(0,l.getY())):d&&(s=new ge(t.getWidth()-1,r.getY()),l=new ge(t.getWidth()-1,o.getY())),this.image=t,this.topLeft=r,this.bottomLeft=o,this.topRight=s,this.bottomRight=l,this.minX=Math.trunc(Math.min(r.getX(),o.getX())),this.maxX=Math.trunc(Math.max(s.getX(),l.getX())),this.minY=Math.trunc(Math.min(r.getY(),s.getY())),this.maxY=Math.trunc(Math.max(o.getY(),l.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,r){return t==null?r:r==null?t:new Xr(t.image,t.topLeft,t.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(t,r,o){let s=this.topLeft,l=this.bottomLeft,c=this.topRight,d=this.bottomRight;if(t>0){let h=o?this.topLeft:this.topRight,p=Math.trunc(h.getY()-t);p<0&&(p=0);let w=new ge(h.getX(),p);o?s=w:c=w}if(r>0){let h=o?this.bottomLeft:this.bottomRight,p=Math.trunc(h.getY()+r);p>=this.image.getHeight()&&(p=this.image.getHeight()-1);let w=new ge(h.getX(),p);o?l=w:d=w}return new Xr(this.image,s,l,c,d)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class D2{constructor(t,r,o,s){this.columnCount=t,this.errorCorrectionLevel=s,this.rowCountUpperPart=r,this.rowCountLowerPart=o,this.rowCount=r+o}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class no{constructor(){this.buffer=""}static form(t,r){let o=-1;function s(c,d,h,p,w,C){if(c==="%%")return"%";if(r[++o]===void 0)return;c=p?parseInt(p.substr(1)):void 0;let A=w?parseInt(w.substr(1)):void 0,N;switch(C){case"s":N=r[o];break;case"c":N=r[o][0];break;case"f":N=parseFloat(r[o]).toFixed(c);break;case"p":N=parseFloat(r[o]).toPrecision(c);break;case"e":N=parseFloat(r[o]).toExponential(c);break;case"x":N=parseInt(r[o]).toString(A||16);break;case"d":N=parseFloat(parseInt(r[o],A||10).toPrecision(c)).toFixed(0);break}N=typeof N=="object"?JSON.stringify(N):(+N).toString(A);let D=parseInt(h),M=h&&h[0]+""=="0"?"0":" ";for(;N.length<D;)N=d!==void 0?N+M:M+N;return N}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(l,s)}format(t,...r){this.buffer+=no.form(t,r)}toString(){return this.buffer}}class ro{constructor(t){this.boundingBox=new Xr(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let r=this.getCodeword(t);if(r!=null)return r;for(let o=1;o<ro.MAX_NEARBY_DISTANCE;o++){let s=this.imageRowToCodewordIndex(t)-o;if(s>=0&&(r=this.codewords[s],r!=null)||(s=this.imageRowToCodewordIndex(t)+o,s<this.codewords.length&&(r=this.codewords[s],r!=null)))return r}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,r){this.codewords[this.imageRowToCodewordIndex(t)]=r}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new no;let r=0;for(const o of this.codewords){if(o==null){t.format("%3d:    |   %n",r++);continue}t.format("%3d: %3d|%3d%n",r++,o.getRowNumber(),o.getValue())}return t.toString()}}ro.MAX_NEARBY_DISTANCE=5;class io{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let r=this.values.get(t);r==null&&(r=0),r++,this.values.set(t,r)}getValue(){let t=-1,r=new Array;for(const[o,s]of this.values.entries()){const l={getKey:()=>o,getValue:()=>s};l.getValue()>t?(t=l.getValue(),r=[],r.push(l.getKey())):l.getValue()===t&&r.push(l.getKey())}return Ce.toIntArray(r)}getConfidence(t){return this.values.get(t)}}class g1 extends ro{constructor(t,r){super(t),this._isLeft=r}setRowNumbers(){for(let t of this.getCodewords())t!=null&&t.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,t);let o=this.getBoundingBox(),s=this._isLeft?o.getTopLeft():o.getTopRight(),l=this._isLeft?o.getBottomLeft():o.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=-1,p=1,w=0;for(let C=c;C<d;C++){if(r[C]==null)continue;let A=r[C],N=A.getRowNumber()-h;if(N===0)w++;else if(N===1)p=Math.max(p,w),w=1,h=A.getRowNumber();else if(N<0||A.getRowNumber()>=t.getRowCount()||N>C)r[C]=null;else{let D;p>2?D=(p-2)*N:D=N;let M=D>=C;for(let F=1;F<=D&&!M;F++)M=r[C-F]!=null;M?r[C]=null:(h=A.getRowNumber(),w=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let r=new Int32Array(t.getRowCount());for(let o of this.getCodewords())if(o!=null){let s=o.getRowNumber();if(s>=r.length)continue;r[s]++}return r}adjustIncompleteIndicatorColumnRowNumbers(t){let r=this.getBoundingBox(),o=this._isLeft?r.getTopLeft():r.getTopRight(),s=this._isLeft?r.getBottomLeft():r.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(o.getY())),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),d=this.getCodewords(),h=-1;for(let p=l;p<c;p++){if(d[p]==null)continue;let w=d[p];w.setRowNumberAsRowIndicatorColumn();let C=w.getRowNumber()-h;C===0||(C===1?h=w.getRowNumber():w.getRowNumber()>=t.getRowCount()?d[p]=null:h=w.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),r=new io,o=new io,s=new io,l=new io;for(let d of t){if(d==null)continue;d.setRowNumberAsRowIndicatorColumn();let h=d.getValue()%30,p=d.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:o.setValue(h*3+1);break;case 1:l.setValue(h/3),s.setValue(h%3);break;case 2:r.setValue(h+1);break}}if(r.getValue().length===0||o.getValue().length===0||s.getValue().length===0||l.getValue().length===0||r.getValue()[0]<1||o.getValue()[0]+s.getValue()[0]<Ce.MIN_ROWS_IN_BARCODE||o.getValue()[0]+s.getValue()[0]>Ce.MAX_ROWS_IN_BARCODE)return null;let c=new D2(r.getValue()[0],o.getValue()[0],s.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(t,c),c}removeIncorrectCodewords(t,r){for(let o=0;o<t.length;o++){let s=t[o];if(t[o]==null)continue;let l=s.getValue()%30,c=s.getRowNumber();if(c>r.getRowCount()){t[o]=null;continue}switch(this._isLeft||(c+=2),c%3){case 0:l*3+1!==r.getRowCountUpperPart()&&(t[o]=null);break;case 1:(Math.trunc(l/3)!==r.getErrorCorrectionLevel()||l%3!==r.getRowCountLowerPart())&&(t[o]=null);break;case 2:l+1!==r.getColumnCount()&&(t[o]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class oo{constructor(t,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=Ce.MAX_CODEWORDS_IN_BARCODE,r;do r=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let o=this.detectionResultColumns[r].getCodewords();for(let s=0;s<o.length;s++)o[s]!=null&&(o[s].hasValidRowNumber()||this.adjustRowNumbers(r,s,o))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<t.length;o++)if(t[o]!=null&&r[o]!=null&&t[o].getRowNumber()===r[o].getRowNumber())for(let s=1;s<=this.barcodeColumnCount;s++){let l=this.detectionResultColumns[s].getCodewords()[o];l!=null&&(l.setRowNumber(t[o].getRowNumber()),l.hasValidRowNumber()||(this.detectionResultColumns[s].getCodewords()[o]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<r.length;o++){if(r[o]==null)continue;let s=r[o].getRowNumber(),l=0;for(let c=this.barcodeColumnCount+1;c>0&&l<this.ADJUST_ROW_NUMBER_SKIP;c--){let d=this.detectionResultColumns[c].getCodewords()[o];d!=null&&(l=oo.adjustRowNumberIfValid(s,l,d),d.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,r=this.detectionResultColumns[0].getCodewords();for(let o=0;o<r.length;o++){if(r[o]==null)continue;let s=r[o].getRowNumber(),l=0;for(let c=1;c<this.barcodeColumnCount+1&&l<this.ADJUST_ROW_NUMBER_SKIP;c++){let d=this.detectionResultColumns[c].getCodewords()[o];d!=null&&(l=oo.adjustRowNumberIfValid(s,l,d),d.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,r,o){return o==null||o.hasValidRowNumber()||(o.isValidRowNumber(t)?(o.setRowNumber(t),r=0):++r),r}adjustRowNumbers(t,r,o){if(!this.detectionResultColumns[t-1])return;let s=o[r],l=this.detectionResultColumns[t-1].getCodewords(),c=l;this.detectionResultColumns[t+1]!=null&&(c=this.detectionResultColumns[t+1].getCodewords());let d=new Array(14);d[2]=l[r],d[3]=c[r],r>0&&(d[0]=o[r-1],d[4]=l[r-1],d[5]=c[r-1]),r>1&&(d[8]=o[r-2],d[10]=l[r-2],d[11]=c[r-2]),r<o.length-1&&(d[1]=o[r+1],d[6]=l[r+1],d[7]=c[r+1]),r<o.length-2&&(d[9]=o[r+2],d[12]=l[r+2],d[13]=c[r+2]);for(let h of d)if(oo.adjustRowNumber(s,h))return}static adjustRowNumber(t,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===t.getBucket()?(t.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,r){this.detectionResultColumns[t]=r}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new no;for(let o=0;o<t.getCodewords().length;o++){r.format("CW %3d:",o);for(let s=0;s<this.barcodeColumnCount+2;s++){if(this.detectionResultColumns[s]==null){r.format("    |   ");continue}let l=this.detectionResultColumns[s].getCodewords()[o];if(l==null){r.format("    |   ");continue}r.format(" %3d|%3d",l.getRowNumber(),l.getValue())}r.format("%n")}return r.toString()}}class so{constructor(t,r,o,s){this.rowNumber=so.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(r),this.bucket=Math.trunc(o),this.value=Math.trunc(s)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==so.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}so.BARCODE_ROW_UNKNOWN=-1;class Qt{static initialize(){for(let t=0;t<Ce.SYMBOL_TABLE.length;t++){let r=Ce.SYMBOL_TABLE[t],o=r&1;for(let s=0;s<Ce.BARS_IN_MODULE;s++){let l=0;for(;(r&1)===o;)l+=1,r>>=1;o=r&1,Qt.RATIOS_TABLE[t]||(Qt.RATIOS_TABLE[t]=new Array(Ce.BARS_IN_MODULE)),Qt.RATIOS_TABLE[t][Ce.BARS_IN_MODULE-s-1]=Math.fround(l/Ce.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let r=Qt.getDecodedCodewordValue(Qt.sampleBitCounts(t));return r!==-1?r:Qt.getClosestDecodedValue(t)}static sampleBitCounts(t){let r=Pe.sum(t),o=new Int32Array(Ce.BARS_IN_MODULE),s=0,l=0;for(let c=0;c<Ce.MODULES_IN_CODEWORD;c++){let d=r/(2*Ce.MODULES_IN_CODEWORD)+c*r/Ce.MODULES_IN_CODEWORD;l+t[s]<=d&&(l+=t[s],s++),o[s]++}return o}static getDecodedCodewordValue(t){let r=Qt.getBitValue(t);return Ce.getCodeword(r)===-1?-1:r}static getBitValue(t){let r=0;for(let o=0;o<t.length;o++)for(let s=0;s<t[o];s++)r=r<<1|(o%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(t){let r=Pe.sum(t),o=new Array(Ce.BARS_IN_MODULE);if(r>1)for(let c=0;c<o.length;c++)o[c]=Math.fround(t[c]/r);let s=cs.MAX_VALUE,l=-1;this.bSymbolTableReady||Qt.initialize();for(let c=0;c<Qt.RATIOS_TABLE.length;c++){let d=0,h=Qt.RATIOS_TABLE[c];for(let p=0;p<Ce.BARS_IN_MODULE;p++){let w=Math.fround(h[p]-o[p]);if(d+=Math.fround(w*w),d>=s)break}d<s&&(s=d,l=Ce.SYMBOL_TABLE[c])}return l}}Qt.bSymbolTableReady=!1,Qt.RATIOS_TABLE=new Array(Ce.SYMBOL_TABLE.length).map(E=>new Array(Ce.BARS_IN_MODULE));class p1{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class x1{static parseLong(t,r=void 0){return parseInt(t,r)}}class m1 extends x{}m1.kind="NullPointerException";class k2{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,r,o){if(t==null)throw new m1;if(r<0||r>t.length||o<0||r+o>t.length||r+o<0)throw new X;if(o===0)return;for(let s=0;s<o;s++)this.write(t[r+s])}flush(){}close(){}}class M2 extends x{}class B2 extends k2{constructor(t=32){if(super(),this.count=0,t<0)throw new S("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let o=this.buf.length<<1;if(o-t<0&&(o=t),o<0){if(t<0)throw new M2;o=b.MAX_VALUE}this.buf=I.copyOfUint8Array(this.buf,o)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,r,o){if(r<0||r>t.length||o<0||r+o-t.length>0)throw new X;this.ensureCapacity(this.count+o),k.arraycopy(t,r,this.buf,this.count,o),this.count+=o}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return I.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var Ge;(function(E){E[E.ALPHA=0]="ALPHA",E[E.LOWER=1]="LOWER",E[E.MIXED=2]="MIXED",E[E.PUNCT=3]="PUNCT",E[E.ALPHA_SHIFT=4]="ALPHA_SHIFT",E[E.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ge||(Ge={}));function w1(){if(typeof window<"u")return window.BigInt||null;if(typeof co<"u")return co.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let xs;function yr(E){if(typeof xs>"u"&&(xs=w1()),xs===null)throw new Error("BigInt is not supported!");return xs(E)}function P2(){let E=[];E[0]=yr(1);let t=yr(900);E[1]=t;for(let r=2;r<16;r++)E[r]=E[r-1]*t;return E}class V{static decode(t,r){let o=new Ae(""),s=Y.ISO8859_1;o.enableDecoding(s);let l=1,c=t[l++],d=new p1;for(;l<t[0];){switch(c){case V.TEXT_COMPACTION_MODE_LATCH:l=V.textCompaction(t,l,o);break;case V.BYTE_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:l=V.byteCompaction(c,t,s,l,o);break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(t[l++]);break;case V.NUMERIC_COMPACTION_MODE_LATCH:l=V.numericCompaction(t,l,o);break;case V.ECI_CHARSET:Y.getCharacterSetECIByValue(t[l++]);break;case V.ECI_GENERAL_PURPOSE:l+=2;break;case V.ECI_USER_DEFINED:l++;break;case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:l=V.decodeMacroBlock(t,l,d);break;case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:throw new P;default:l--,l=V.textCompaction(t,l,o);break}if(l<t.length)c=t[l++];else throw P.getFormatInstance()}if(o.length()===0)throw P.getFormatInstance();let h=new jn(null,o.toString(),null,r);return h.setOther(d),h}static decodeMacroBlock(t,r,o){if(r+V.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw P.getFormatInstance();let s=new Int32Array(V.NUMBER_OF_SEQUENCE_CODEWORDS);for(let d=0;d<V.NUMBER_OF_SEQUENCE_CODEWORDS;d++,r++)s[d]=t[r];o.setSegmentIndex(b.parseInt(V.decodeBase900toBase10(s,V.NUMBER_OF_SEQUENCE_CODEWORDS)));let l=new Ae;r=V.textCompaction(t,r,l),o.setFileId(l.toString());let c=-1;for(t[r]===V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(c=r+1);r<t[0];)switch(t[r]){case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,t[r]){case V.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let d=new Ae;r=V.textCompaction(t,r+1,d),o.setFileName(d.toString());break;case V.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let h=new Ae;r=V.textCompaction(t,r+1,h),o.setSender(h.toString());break;case V.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let p=new Ae;r=V.textCompaction(t,r+1,p),o.setAddressee(p.toString());break;case V.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let w=new Ae;r=V.numericCompaction(t,r+1,w),o.setSegmentCount(b.parseInt(w.toString()));break;case V.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let C=new Ae;r=V.numericCompaction(t,r+1,C),o.setTimestamp(x1.parseLong(C.toString()));break;case V.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let A=new Ae;r=V.numericCompaction(t,r+1,A),o.setChecksum(b.parseInt(A.toString()));break;case V.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let N=new Ae;r=V.numericCompaction(t,r+1,N),o.setFileSize(x1.parseLong(N.toString()));break;default:throw P.getFormatInstance()}break;case V.MACRO_PDF417_TERMINATOR:r++,o.setLastSegment(!0);break;default:throw P.getFormatInstance()}if(c!==-1){let d=r-c;o.isLastSegment()&&d--,o.setOptionalData(I.copyOfRange(t,c,c+d))}return r}static textCompaction(t,r,o){let s=new Int32Array((t[0]-r)*2),l=new Int32Array((t[0]-r)*2),c=0,d=!1;for(;r<t[0]&&!d;){let h=t[r++];if(h<V.TEXT_COMPACTION_MODE_LATCH)s[c]=h/30,s[c+1]=h%30,c+=2;else switch(h){case V.TEXT_COMPACTION_MODE_LATCH:s[c++]=V.TEXT_COMPACTION_MODE_LATCH;break;case V.BYTE_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:case V.NUMERIC_COMPACTION_MODE_LATCH:case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:r--,d=!0;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s[c]=V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,h=t[r++],l[c]=h,c++;break}}return V.decodeTextCompaction(s,l,c,o),r}static decodeTextCompaction(t,r,o,s){let l=Ge.ALPHA,c=Ge.ALPHA,d=0;for(;d<o;){let h=t[d],p="";switch(l){case Ge.ALPHA:if(h<26)p=String.fromCharCode(65+h);else switch(h){case 26:p=" ";break;case V.LL:l=Ge.LOWER;break;case V.ML:l=Ge.MIXED;break;case V.PS:c=l,l=Ge.PUNCT_SHIFT;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[d]);break;case V.TEXT_COMPACTION_MODE_LATCH:l=Ge.ALPHA;break}break;case Ge.LOWER:if(h<26)p=String.fromCharCode(97+h);else switch(h){case 26:p=" ";break;case V.AS:c=l,l=Ge.ALPHA_SHIFT;break;case V.ML:l=Ge.MIXED;break;case V.PS:c=l,l=Ge.PUNCT_SHIFT;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[d]);break;case V.TEXT_COMPACTION_MODE_LATCH:l=Ge.ALPHA;break}break;case Ge.MIXED:if(h<V.PL)p=V.MIXED_CHARS[h];else switch(h){case V.PL:l=Ge.PUNCT;break;case 26:p=" ";break;case V.LL:l=Ge.LOWER;break;case V.AL:l=Ge.ALPHA;break;case V.PS:c=l,l=Ge.PUNCT_SHIFT;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[d]);break;case V.TEXT_COMPACTION_MODE_LATCH:l=Ge.ALPHA;break}break;case Ge.PUNCT:if(h<V.PAL)p=V.PUNCT_CHARS[h];else switch(h){case V.PAL:l=Ge.ALPHA;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[d]);break;case V.TEXT_COMPACTION_MODE_LATCH:l=Ge.ALPHA;break}break;case Ge.ALPHA_SHIFT:if(l=c,h<26)p=String.fromCharCode(65+h);else switch(h){case 26:p=" ";break;case V.TEXT_COMPACTION_MODE_LATCH:l=Ge.ALPHA;break}break;case Ge.PUNCT_SHIFT:if(l=c,h<V.PAL)p=V.PUNCT_CHARS[h];else switch(h){case V.PAL:l=Ge.ALPHA;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[d]);break;case V.TEXT_COMPACTION_MODE_LATCH:l=Ge.ALPHA;break}break}p!==""&&s.append(p),d++}}static byteCompaction(t,r,o,s,l){let c=new B2,d=0,h=0,p=!1;switch(t){case V.BYTE_COMPACTION_MODE_LATCH:let w=new Int32Array(6),C=r[s++];for(;s<r[0]&&!p;)switch(w[d++]=C,h=900*h+C,C=r[s++],C){case V.TEXT_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH:case V.NUMERIC_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:s--,p=!0;break;default:if(d%5===0&&d>0){for(let A=0;A<6;++A)c.write(Number(yr(h)>>yr(8*(5-A))));h=0,d=0}break}s===r[0]&&C<V.TEXT_COMPACTION_MODE_LATCH&&(w[d++]=C);for(let A=0;A<d;A++)c.write(w[A]);break;case V.BYTE_COMPACTION_MODE_LATCH_6:for(;s<r[0]&&!p;){let A=r[s++];if(A<V.TEXT_COMPACTION_MODE_LATCH)d++,h=900*h+A;else switch(A){case V.TEXT_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH:case V.NUMERIC_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:s--,p=!0;break}if(d%5===0&&d>0){for(let N=0;N<6;++N)c.write(Number(yr(h)>>yr(8*(5-N))));h=0,d=0}}break}return l.append(Ie.decode(c.toByteArray(),o)),s}static numericCompaction(t,r,o){let s=0,l=!1,c=new Int32Array(V.MAX_NUMERIC_CODEWORDS);for(;r<t[0]&&!l;){let d=t[r++];if(r===t[0]&&(l=!0),d<V.TEXT_COMPACTION_MODE_LATCH)c[s]=d,s++;else switch(d){case V.TEXT_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:r--,l=!0;break}(s%V.MAX_NUMERIC_CODEWORDS===0||d===V.NUMERIC_COMPACTION_MODE_LATCH||l)&&s>0&&(o.append(V.decodeBase900toBase10(c,s)),s=0)}return r}static decodeBase900toBase10(t,r){let o=yr(0);for(let l=0;l<r;l++)o+=V.EXP900[r-l-1]*yr(t[l]);let s=o.toString();if(s.charAt(0)!=="1")throw new P;return s.substring(1)}}V.TEXT_COMPACTION_MODE_LATCH=900,V.BYTE_COMPACTION_MODE_LATCH=901,V.NUMERIC_COMPACTION_MODE_LATCH=902,V.BYTE_COMPACTION_MODE_LATCH_6=924,V.ECI_USER_DEFINED=925,V.ECI_GENERAL_PURPOSE=926,V.ECI_CHARSET=927,V.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,V.MACRO_PDF417_TERMINATOR=922,V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,V.MAX_NUMERIC_CODEWORDS=15,V.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,V.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,V.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,V.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,V.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,V.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,V.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,V.PL=25,V.LL=27,V.AS=27,V.ML=28,V.AL=28,V.PS=29,V.PAL=29,V.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,V.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",V.EXP900=w1()?P2():[],V.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Te{constructor(){}static decode(t,r,o,s,l,c,d){let h=new Xr(t,r,o,s,l),p=null,w=null,C;for(let D=!0;;D=!1){if(r!=null&&(p=Te.getRowIndicatorColumn(t,h,r,!0,c,d)),s!=null&&(w=Te.getRowIndicatorColumn(t,h,s,!1,c,d)),C=Te.merge(p,w),C==null)throw W.getNotFoundInstance();let M=C.getBoundingBox();if(D&&M!=null&&(M.getMinY()<h.getMinY()||M.getMaxY()>h.getMaxY()))h=M;else break}C.setBoundingBox(h);let A=C.getBarcodeColumnCount()+1;C.setDetectionResultColumn(0,p),C.setDetectionResultColumn(A,w);let N=p!=null;for(let D=1;D<=A;D++){let M=N?D:A-D;if(C.getDetectionResultColumn(M)!==void 0)continue;let F;M===0||M===A?F=new g1(h,M===0):F=new ro(h),C.setDetectionResultColumn(M,F);let H=-1,te=H;for(let ne=h.getMinY();ne<=h.getMaxY();ne++){if(H=Te.getStartColumn(C,M,ne,N),H<0||H>h.getMaxX()){if(te===-1)continue;H=te}let J=Te.detectCodeword(t,h.getMinX(),h.getMaxX(),N,H,ne,c,d);J!=null&&(F.setCodeword(ne,J),te=H,c=Math.min(c,J.getWidth()),d=Math.max(d,J.getWidth()))}}return Te.createDecoderResult(C)}static merge(t,r){if(t==null&&r==null)return null;let o=Te.getBarcodeMetadata(t,r);if(o==null)return null;let s=Xr.merge(Te.adjustBoundingBox(t),Te.adjustBoundingBox(r));return new oo(o,s)}static adjustBoundingBox(t){if(t==null)return null;let r=t.getRowHeights();if(r==null)return null;let o=Te.getMax(r),s=0;for(let d of r)if(s+=o-d,d>0)break;let l=t.getCodewords();for(let d=0;s>0&&l[d]==null;d++)s--;let c=0;for(let d=r.length-1;d>=0&&(c+=o-r[d],!(r[d]>0));d--);for(let d=l.length-1;c>0&&l[d]==null;d--)c--;return t.getBoundingBox().addMissingRows(s,c,t.isLeft())}static getMax(t){let r=-1;for(let o of t)r=Math.max(r,o);return r}static getBarcodeMetadata(t,r){let o;if(t==null||(o=t.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let s;return r==null||(s=r.getBarcodeMetadata())==null?o:o.getColumnCount()!==s.getColumnCount()&&o.getErrorCorrectionLevel()!==s.getErrorCorrectionLevel()&&o.getRowCount()!==s.getRowCount()?null:o}static getRowIndicatorColumn(t,r,o,s,l,c){let d=new g1(r,s);for(let h=0;h<2;h++){let p=h===0?1:-1,w=Math.trunc(Math.trunc(o.getX()));for(let C=Math.trunc(Math.trunc(o.getY()));C<=r.getMaxY()&&C>=r.getMinY();C+=p){let A=Te.detectCodeword(t,0,t.getWidth(),s,w,C,l,c);A!=null&&(d.setCodeword(C,A),s?w=A.getStartX():w=A.getEndX())}}return d}static adjustCodewordCount(t,r){let o=r[0][1],s=o.getValue(),l=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-Te.getNumberOfECCodeWords(t.getBarcodeECLevel());if(s.length===0){if(l<1||l>Ce.MAX_CODEWORDS_IN_BARCODE)throw W.getNotFoundInstance();o.setValue(l)}else s[0]!==l&&o.setValue(l)}static createDecoderResult(t){let r=Te.createBarcodeMatrix(t);Te.adjustCodewordCount(t,r);let o=new Array,s=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),l=[],c=new Array;for(let h=0;h<t.getBarcodeRowCount();h++)for(let p=0;p<t.getBarcodeColumnCount();p++){let w=r[h][p+1].getValue(),C=h*t.getBarcodeColumnCount()+p;w.length===0?o.push(C):w.length===1?s[C]=w[0]:(c.push(C),l.push(w))}let d=new Array(l.length);for(let h=0;h<d.length;h++)d[h]=l[h];return Te.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),s,Ce.toIntArray(o),Ce.toIntArray(c),d)}static createDecoderResultFromAmbiguousValues(t,r,o,s,l){let c=new Int32Array(s.length),d=100;for(;d-- >0;){for(let h=0;h<c.length;h++)r[s[h]]=l[h][c[h]];try{return Te.decodeCodewords(r,t,o)}catch(h){if(!(h instanceof L))throw h}if(c.length===0)throw L.getChecksumInstance();for(let h=0;h<c.length;h++)if(c[h]<l[h].length-1){c[h]++;break}else if(c[h]=0,h===c.length-1)throw L.getChecksumInstance()}throw L.getChecksumInstance()}static createBarcodeMatrix(t){let r=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let s=0;s<r.length;s++)for(let l=0;l<r[s].length;l++)r[s][l]=new io;let o=0;for(let s of t.getDetectionResultColumns()){if(s!=null){for(let l of s.getCodewords())if(l!=null){let c=l.getRowNumber();if(c>=0){if(c>=r.length)continue;r[c][o].setValue(l.getValue())}}}o++}return r}static isValidBarcodeColumn(t,r){return r>=0&&r<=t.getBarcodeColumnCount()+1}static getStartColumn(t,r,o,s){let l=s?1:-1,c=null;if(Te.isValidBarcodeColumn(t,r-l)&&(c=t.getDetectionResultColumn(r-l).getCodeword(o)),c!=null)return s?c.getEndX():c.getStartX();if(c=t.getDetectionResultColumn(r).getCodewordNearby(o),c!=null)return s?c.getStartX():c.getEndX();if(Te.isValidBarcodeColumn(t,r-l)&&(c=t.getDetectionResultColumn(r-l).getCodewordNearby(o)),c!=null)return s?c.getEndX():c.getStartX();let d=0;for(;Te.isValidBarcodeColumn(t,r-l);){r-=l;for(let h of t.getDetectionResultColumn(r).getCodewords())if(h!=null)return(s?h.getEndX():h.getStartX())+l*d*(h.getEndX()-h.getStartX());d++}return s?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,r,o,s,l,c,d,h){l=Te.adjustCodewordStartColumn(t,r,o,s,l,c);let p=Te.getModuleBitCount(t,r,o,s,l,c);if(p==null)return null;let w,C=Pe.sum(p);if(s)w=l+C;else{for(let D=0;D<p.length/2;D++){let M=p[D];p[D]=p[p.length-1-D],p[p.length-1-D]=M}w=l,l=w-C}if(!Te.checkCodewordSkew(C,d,h))return null;let A=Qt.getDecodedValue(p),N=Ce.getCodeword(A);return N===-1?null:new so(l,w,Te.getCodewordBucketNumber(A),N)}static getModuleBitCount(t,r,o,s,l,c){let d=l,h=new Int32Array(8),p=0,w=s?1:-1,C=s;for(;(s?d<o:d>=r)&&p<h.length;)t.get(d,c)===C?(h[p]++,d+=w):(p++,C=!C);return p===h.length||d===(s?o:r)&&p===h.length-1?h:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,r,o,s,l,c){let d=l,h=s?-1:1;for(let p=0;p<2;p++){for(;(s?d>=r:d<o)&&s===t.get(d,c);){if(Math.abs(l-d)>Te.CODEWORD_SKEW_SIZE)return l;d+=h}h=-h,s=!s}return d}static checkCodewordSkew(t,r,o){return r-Te.CODEWORD_SKEW_SIZE<=t&&t<=o+Te.CODEWORD_SKEW_SIZE}static decodeCodewords(t,r,o){if(t.length===0)throw P.getFormatInstance();let s=1<<r+1,l=Te.correctErrors(t,o,s);Te.verifyCodewordCount(t,s);let c=V.decode(t,""+r);return c.setErrorsCorrected(l),c.setErasures(o.length),c}static correctErrors(t,r,o){if(r!=null&&r.length>o/2+Te.MAX_ERRORS||o<0||o>Te.MAX_EC_CODEWORDS)throw L.getChecksumInstance();return Te.errorCorrection.decode(t,o,r)}static verifyCodewordCount(t,r){if(t.length<4)throw P.getFormatInstance();let o=t[0];if(o>t.length)throw P.getFormatInstance();if(o===0)if(r<t.length)t[0]=t.length-r;else throw P.getFormatInstance()}static getBitCountForCodeword(t){let r=new Int32Array(8),o=0,s=r.length-1;for(;!((t&1)!==o&&(o=t&1,s--,s<0));)r[s]++,t>>=1;return r}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return Te.getCodewordBucketNumber(Te.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let r=new no;for(let o=0;o<t.length;o++){r.format("Row %2d: ",o);for(let s=0;s<t[o].length;s++){let l=t[o][s];l.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",l.getValue()[0],l.getConfidence(l.getValue()[0]))}r.format("%n")}return r.toString()}}Te.CODEWORD_SKEW_SIZE=2,Te.MAX_ERRORS=3,Te.MAX_EC_CODEWORDS=512,Te.errorCorrection=new h1;class Ot{decode(t,r=null){let o=Ot.decode(t,r,!1);if(o==null||o.length===0||o[0]==null)throw W.getNotFoundInstance();return o[0]}decodeMultiple(t,r=null){try{return Ot.decode(t,r,!0)}catch(o){throw o instanceof P||o instanceof L?W.getNotFoundInstance():o}}static decode(t,r,o){const s=new Array,l=Ne.detectMultiple(t,r,o);for(const c of l.getPoints()){const d=Te.decode(l.getBits(),c[4],c[5],c[6],c[7],Ot.getMinCodewordWidth(c),Ot.getMaxCodewordWidth(c)),h=new $(d.getText(),d.getRawBytes(),void 0,c,he.PDF_417);h.putMetadata(xt.ERROR_CORRECTION_LEVEL,d.getECLevel());const p=d.getOther();p!=null&&h.putMetadata(xt.PDF417_EXTRA_METADATA,p),s.push(h)}return s.map(c=>c)}static getMaxWidth(t,r){return t==null||r==null?0:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMinWidth(t,r){return t==null||r==null?b.MAX_VALUE:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(Ot.getMaxWidth(t[0],t[4]),Ot.getMaxWidth(t[6],t[2])*Ce.MODULES_IN_CODEWORD/Ce.MODULES_IN_STOP_PATTERN),Math.max(Ot.getMaxWidth(t[1],t[5]),Ot.getMaxWidth(t[7],t[3])*Ce.MODULES_IN_CODEWORD/Ce.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(Ot.getMinWidth(t[0],t[4]),Ot.getMinWidth(t[6],t[2])*Ce.MODULES_IN_CODEWORD/Ce.MODULES_IN_STOP_PATTERN),Math.min(Ot.getMinWidth(t[1],t[5]),Ot.getMinWidth(t[7],t[3])*Ce.MODULES_IN_CODEWORD/Ce.MODULES_IN_STOP_PATTERN)))}reset(){}}class ms extends x{}ms.kind="ReaderException";class y1{constructor(t,r){this.verbose=t===!0,r&&this.setHints(r)}decode(t,r){return r&&this.setHints(r),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const r=!a(t)&&t.get(Z.TRY_HARDER)===!0,o=a(t)?null:t.get(Z.POSSIBLE_FORMATS),s=new Array;if(!a(o)){const l=o.some(c=>c===he.UPC_A||c===he.UPC_E||c===he.EAN_13||c===he.EAN_8||c===he.CODABAR||c===he.CODE_39||c===he.CODE_93||c===he.CODE_128||c===he.ITF||c===he.RSS_14||c===he.RSS_EXPANDED);l&&!r&&s.push(new pi(t,this.verbose)),o.includes(he.QR_CODE)&&s.push(new wr),o.includes(he.DATA_MATRIX)&&s.push(new mr),o.includes(he.AZTEC)&&s.push(new fs),o.includes(he.PDF_417)&&s.push(new Ot),l&&r&&s.push(new pi(t,this.verbose))}s.length===0&&(r||s.push(new pi(t,this.verbose)),s.push(new wr),s.push(new mr),s.push(new fs),s.push(new Ot),r&&s.push(new pi(t,this.verbose))),this.readers=s}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new ms("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(t,this.hints)}catch(o){if(o instanceof ms)continue}throw new W("No MultiFormat Readers were able to detect the code.")}}class L2 extends Tt{constructor(t=null,r=500){const o=new y1;o.setHints(t),super(o,r)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class F2 extends Tt{constructor(t=500){super(new Ot,t)}}class U2 extends Tt{constructor(t=500){super(new wr,t)}}var dl;(function(E){E[E.ERROR_CORRECTION=0]="ERROR_CORRECTION",E[E.CHARACTER_SET=1]="CHARACTER_SET",E[E.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",E[E.MIN_SIZE=3]="MIN_SIZE",E[E.MAX_SIZE=4]="MAX_SIZE",E[E.MARGIN=5]="MARGIN",E[E.PDF417_COMPACT=6]="PDF417_COMPACT",E[E.PDF417_COMPACTION=7]="PDF417_COMPACTION",E[E.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",E[E.AZTEC_LAYERS=9]="AZTEC_LAYERS",E[E.QR_VERSION=10]="QR_VERSION"})(dl||(dl={}));var Ct=dl;class hl{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new le(t,Int32Array.from([1])))}buildGenerator(t){const r=this.cachedGenerators;if(t>=r.length){let o=r[r.length-1];const s=this.field;for(let l=r.length;l<=t;l++){const c=o.multiply(new le(s,Int32Array.from([1,s.exp(l-1+s.getGeneratorBase())])));r.push(c),o=c}}return r[t]}encode(t,r){if(r===0)throw new S("No error correction bytes");const o=t.length-r;if(o<=0)throw new S("No data bytes provided");const s=this.buildGenerator(r),l=new Int32Array(o);k.arraycopy(t,0,l,0,o);let c=new le(this.field,l);c=c.multiplyByMonomial(r,1);const h=c.divide(s)[1].getCoefficients(),p=r-h.length;for(let w=0;w<p;w++)t[o+w]=0;k.arraycopy(h,0,t,o+p,h.length)}}class ut{constructor(){}static applyMaskPenaltyRule1(t){return ut.applyMaskPenaltyRule1Internal(t,!0)+ut.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let r=0;const o=t.getArray(),s=t.getWidth(),l=t.getHeight();for(let c=0;c<l-1;c++){const d=o[c];for(let h=0;h<s-1;h++){const p=d[h];p===d[h+1]&&p===o[c+1][h]&&p===o[c+1][h+1]&&r++}}return ut.N2*r}static applyMaskPenaltyRule3(t){let r=0;const o=t.getArray(),s=t.getWidth(),l=t.getHeight();for(let c=0;c<l;c++)for(let d=0;d<s;d++){const h=o[c];d+6<s&&h[d]===1&&h[d+1]===0&&h[d+2]===1&&h[d+3]===1&&h[d+4]===1&&h[d+5]===0&&h[d+6]===1&&(ut.isWhiteHorizontal(h,d-4,d)||ut.isWhiteHorizontal(h,d+7,d+11))&&r++,c+6<l&&o[c][d]===1&&o[c+1][d]===0&&o[c+2][d]===1&&o[c+3][d]===1&&o[c+4][d]===1&&o[c+5][d]===0&&o[c+6][d]===1&&(ut.isWhiteVertical(o,d,c-4,c)||ut.isWhiteVertical(o,d,c+7,c+11))&&r++}return r*ut.N3}static isWhiteHorizontal(t,r,o){r=Math.max(r,0),o=Math.min(o,t.length);for(let s=r;s<o;s++)if(t[s]===1)return!1;return!0}static isWhiteVertical(t,r,o,s){o=Math.max(o,0),s=Math.min(s,t.length);for(let l=o;l<s;l++)if(t[l][r]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let r=0;const o=t.getArray(),s=t.getWidth(),l=t.getHeight();for(let h=0;h<l;h++){const p=o[h];for(let w=0;w<s;w++)p[w]===1&&r++}const c=t.getHeight()*t.getWidth();return Math.floor(Math.abs(r*2-c)*10/c)*ut.N4}static getDataMaskBit(t,r,o){let s,l;switch(t){case 0:s=o+r&1;break;case 1:s=o&1;break;case 2:s=r%3;break;case 3:s=(o+r)%3;break;case 4:s=Math.floor(o/2)+Math.floor(r/3)&1;break;case 5:l=o*r,s=(l&1)+l%3;break;case 6:l=o*r,s=(l&1)+l%3&1;break;case 7:l=o*r,s=l%3+(o+r&1)&1;break;default:throw new S("Invalid mask pattern: "+t)}return s===0}static applyMaskPenaltyRule1Internal(t,r){let o=0;const s=r?t.getHeight():t.getWidth(),l=r?t.getWidth():t.getHeight(),c=t.getArray();for(let d=0;d<s;d++){let h=0,p=-1;for(let w=0;w<l;w++){const C=r?c[d][w]:c[w][d];C===p?h++:(h>=5&&(o+=ut.N1+(h-5)),h=1,p=C)}h>=5&&(o+=ut.N1+(h-5))}return o}}ut.N1=3,ut.N2=3,ut.N3=40,ut.N4=10;class ws{constructor(t,r){this.width=t,this.height=r;const o=new Array(r);for(let s=0;s!==r;s++)o[s]=new Uint8Array(t);this.bytes=o}getHeight(){return this.height}getWidth(){return this.width}get(t,r){return this.bytes[r][t]}getArray(){return this.bytes}setNumber(t,r,o){this.bytes[r][t]=o}setBoolean(t,r,o){this.bytes[r][t]=o?1:0}clear(t){for(const r of this.bytes)I.fill(r,t)}equals(t){if(!(t instanceof ws))return!1;const r=t;if(this.width!==r.width||this.height!==r.height)return!1;for(let o=0,s=this.height;o<s;++o){const l=this.bytes[o],c=r.bytes[o];for(let d=0,h=this.width;d<h;++d)if(l[d]!==c[d])return!1}return!0}toString(){const t=new Ae;for(let r=0,o=this.height;r<o;++r){const s=this.bytes[r];for(let l=0,c=this.width;l<c;++l)switch(s[l]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class Yr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new Ae;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<Yr.NUM_MASK_PATTERNS}}Yr.NUM_MASK_PATTERNS=8;class Ye extends x{}Ye.kind="WriterException";class ye{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,r,o,s,l){ye.clearMatrix(l),ye.embedBasicPatterns(o,l),ye.embedTypeInfo(r,s,l),ye.maybeEmbedVersionInfo(o,l),ye.embedDataBits(t,s,l)}static embedBasicPatterns(t,r){ye.embedPositionDetectionPatternsAndSeparators(r),ye.embedDarkDotAtLeftBottomCorner(r),ye.maybeEmbedPositionAdjustmentPatterns(t,r),ye.embedTimingPatterns(r)}static embedTypeInfo(t,r,o){const s=new j;ye.makeTypeInfoBits(t,r,s);for(let l=0,c=s.getSize();l<c;++l){const d=s.get(s.getSize()-1-l),h=ye.TYPE_INFO_COORDINATES[l],p=h[0],w=h[1];if(o.setBoolean(p,w,d),l<8){const C=o.getWidth()-l-1;o.setBoolean(C,8,d)}else{const A=o.getHeight()-7+(l-8);o.setBoolean(8,A,d)}}}static maybeEmbedVersionInfo(t,r){if(t.getVersionNumber()<7)return;const o=new j;ye.makeVersionInfoBits(t,o);let s=6*3-1;for(let l=0;l<6;++l)for(let c=0;c<3;++c){const d=o.get(s);s--,r.setBoolean(l,r.getHeight()-11+c,d),r.setBoolean(r.getHeight()-11+c,l,d)}}static embedDataBits(t,r,o){let s=0,l=-1,c=o.getWidth()-1,d=o.getHeight()-1;for(;c>0;){for(c===6&&(c-=1);d>=0&&d<o.getHeight();){for(let h=0;h<2;++h){const p=c-h;if(!ye.isEmpty(o.get(p,d)))continue;let w;s<t.getSize()?(w=t.get(s),++s):w=!1,r!==255&&ut.getDataMaskBit(r,p,d)&&(w=!w),o.setBoolean(p,d,w)}d+=l}l=-l,d+=l,c-=2}if(s!==t.getSize())throw new Ye("Not all bits consumed: "+s+"/"+t.getSize())}static findMSBSet(t){return 32-b.numberOfLeadingZeros(t)}static calculateBCHCode(t,r){if(r===0)throw new S("0 polynomial");const o=ye.findMSBSet(r);for(t<<=o-1;ye.findMSBSet(t)>=o;)t^=r<<ye.findMSBSet(t)-o;return t}static makeTypeInfoBits(t,r,o){if(!Yr.isValidMaskPattern(r))throw new Ye("Invalid mask pattern");const s=t.getBits()<<3|r;o.appendBits(s,5);const l=ye.calculateBCHCode(s,ye.TYPE_INFO_POLY);o.appendBits(l,10);const c=new j;if(c.appendBits(ye.TYPE_INFO_MASK_PATTERN,15),o.xor(c),o.getSize()!==15)throw new Ye("should not happen but we got: "+o.getSize())}static makeVersionInfoBits(t,r){r.appendBits(t.getVersionNumber(),6);const o=ye.calculateBCHCode(t.getVersionNumber(),ye.VERSION_INFO_POLY);if(r.appendBits(o,12),r.getSize()!==18)throw new Ye("should not happen but we got: "+r.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let r=8;r<t.getWidth()-8;++r){const o=(r+1)%2;ye.isEmpty(t.get(r,6))&&t.setNumber(r,6,o),ye.isEmpty(t.get(6,r))&&t.setNumber(6,r,o)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new Ye;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,r,o){for(let s=0;s<8;++s){if(!ye.isEmpty(o.get(t+s,r)))throw new Ye;o.setNumber(t+s,r,0)}}static embedVerticalSeparationPattern(t,r,o){for(let s=0;s<7;++s){if(!ye.isEmpty(o.get(t,r+s)))throw new Ye;o.setNumber(t,r+s,0)}}static embedPositionAdjustmentPattern(t,r,o){for(let s=0;s<5;++s){const l=ye.POSITION_ADJUSTMENT_PATTERN[s];for(let c=0;c<5;++c)o.setNumber(t+c,r+s,l[c])}}static embedPositionDetectionPattern(t,r,o){for(let s=0;s<7;++s){const l=ye.POSITION_DETECTION_PATTERN[s];for(let c=0;c<7;++c)o.setNumber(t+c,r+s,l[c])}}static embedPositionDetectionPatternsAndSeparators(t){const r=ye.POSITION_DETECTION_PATTERN[0].length;ye.embedPositionDetectionPattern(0,0,t),ye.embedPositionDetectionPattern(t.getWidth()-r,0,t),ye.embedPositionDetectionPattern(0,t.getWidth()-r,t);const o=8;ye.embedHorizontalSeparationPattern(0,o-1,t),ye.embedHorizontalSeparationPattern(t.getWidth()-o,o-1,t),ye.embedHorizontalSeparationPattern(0,t.getWidth()-o,t);const s=7;ye.embedVerticalSeparationPattern(s,0,t),ye.embedVerticalSeparationPattern(t.getHeight()-s-1,0,t),ye.embedVerticalSeparationPattern(s,t.getHeight()-s,t)}static maybeEmbedPositionAdjustmentPatterns(t,r){if(t.getVersionNumber()<2)return;const o=t.getVersionNumber()-1,s=ye.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[o];for(let l=0,c=s.length;l!==c;l++){const d=s[l];if(d>=0)for(let h=0;h!==c;h++){const p=s[h];p>=0&&ye.isEmpty(r.get(p,d))&&ye.embedPositionAdjustmentPattern(p-2,d-2,r)}}}}ye.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ye.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ye.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ye.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ye.VERSION_INFO_POLY=7973,ye.TYPE_INFO_POLY=1335,ye.TYPE_INFO_MASK_PATTERN=21522;class j2{constructor(t,r){this.dataBytes=t,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Qe{constructor(){}static calculateMaskPenalty(t){return ut.applyMaskPenaltyRule1(t)+ut.applyMaskPenaltyRule2(t)+ut.applyMaskPenaltyRule3(t)+ut.applyMaskPenaltyRule4(t)}static encode(t,r,o=null){let s=Qe.DEFAULT_BYTE_MODE_ENCODING;const l=o!==null&&o.get(Ct.CHARACTER_SET)!==void 0;l&&(s=o.get(Ct.CHARACTER_SET).toString());const c=this.chooseMode(t,s),d=new j;if(c===we.BYTE&&(l||Qe.DEFAULT_BYTE_MODE_ENCODING!==s)){const ne=Y.getCharacterSetECIByName(s);ne!==void 0&&this.appendECI(ne,d)}this.appendModeInfo(c,d);const h=new j;this.appendBytes(t,c,h,s);let p;if(o!==null&&o.get(Ct.QR_VERSION)!==void 0){const ne=Number.parseInt(o.get(Ct.QR_VERSION).toString(),10);p=xe.getVersionForNumber(ne);const J=this.calculateBitsNeeded(c,d,h,p);if(!this.willFit(J,p,r))throw new Ye("Data too big for requested version")}else p=this.recommendVersion(r,c,d,h);const w=new j;w.appendBitArray(d);const C=c===we.BYTE?h.getSizeInBytes():t.length;this.appendLengthInfo(C,p,c,w),w.appendBitArray(h);const A=p.getECBlocksForLevel(r),N=p.getTotalCodewords()-A.getTotalECCodewords();this.terminateBits(N,w);const D=this.interleaveWithECBytes(w,p.getTotalCodewords(),N,A.getNumBlocks()),M=new Yr;M.setECLevel(r),M.setMode(c),M.setVersion(p);const F=p.getDimensionForVersion(),H=new ws(F,F),te=this.chooseMaskPattern(D,r,p,H);return M.setMaskPattern(te),ye.buildMatrix(D,r,p,te,H),M.setMatrix(H),M}static recommendVersion(t,r,o,s){const l=this.calculateBitsNeeded(r,o,s,xe.getVersionForNumber(1)),c=this.chooseVersion(l,t),d=this.calculateBitsNeeded(r,o,s,c);return this.chooseVersion(d,t)}static calculateBitsNeeded(t,r,o,s){return r.getSize()+t.getCharacterCountBits(s)+o.getSize()}static getAlphanumericCode(t){return t<Qe.ALPHANUMERIC_TABLE.length?Qe.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,r=null){if(Y.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(t))return we.KANJI;let o=!1,s=!1;for(let l=0,c=t.length;l<c;++l){const d=t.charAt(l);if(Qe.isDigit(d))o=!0;else if(this.getAlphanumericCode(d.charCodeAt(0))!==-1)s=!0;else return we.BYTE}return s?we.ALPHANUMERIC:o?we.NUMERIC:we.BYTE}static isOnlyDoubleByteKanji(t){let r;try{r=Ie.encode(t,Y.SJIS)}catch{return!1}const o=r.length;if(o%2!==0)return!1;for(let s=0;s<o;s+=2){const l=r[s]&255;if((l<129||l>159)&&(l<224||l>235))return!1}return!0}static chooseMaskPattern(t,r,o,s){let l=Number.MAX_SAFE_INTEGER,c=-1;for(let d=0;d<Yr.NUM_MASK_PATTERNS;d++){ye.buildMatrix(t,r,o,d,s);let h=this.calculateMaskPenalty(s);h<l&&(l=h,c=d)}return c}static chooseVersion(t,r){for(let o=1;o<=40;o++){const s=xe.getVersionForNumber(o);if(Qe.willFit(t,s,r))return s}throw new Ye("Data too big")}static willFit(t,r,o){const s=r.getTotalCodewords(),c=r.getECBlocksForLevel(o).getTotalECCodewords(),d=s-c,h=(t+7)/8;return d>=h}static terminateBits(t,r){const o=t*8;if(r.getSize()>o)throw new Ye("data bits cannot fit in the QR Code"+r.getSize()+" > "+o);for(let c=0;c<4&&r.getSize()<o;++c)r.appendBit(!1);const s=r.getSize()&7;if(s>0)for(let c=s;c<8;c++)r.appendBit(!1);const l=t-r.getSizeInBytes();for(let c=0;c<l;++c)r.appendBits(c&1?17:236,8);if(r.getSize()!==o)throw new Ye("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,r,o,s,l,c){if(s>=o)throw new Ye("Block ID too large");const d=t%o,h=o-d,p=Math.floor(t/o),w=p+1,C=Math.floor(r/o),A=C+1,N=p-C,D=w-A;if(N!==D)throw new Ye("EC bytes mismatch");if(o!==h+d)throw new Ye("RS blocks mismatch");if(t!==(C+N)*h+(A+D)*d)throw new Ye("Total bytes mismatch");s<h?(l[0]=C,c[0]=N):(l[0]=A,c[0]=D)}static interleaveWithECBytes(t,r,o,s){if(t.getSizeInBytes()!==o)throw new Ye("Number of bits and data bytes does not match");let l=0,c=0,d=0;const h=new Array;for(let w=0;w<s;++w){const C=new Int32Array(1),A=new Int32Array(1);Qe.getNumDataBytesAndNumECBytesForBlockID(r,o,s,w,C,A);const N=C[0],D=new Uint8Array(N);t.toBytes(8*l,D,0,N);const M=Qe.generateECBytes(D,A[0]);h.push(new j2(D,M)),c=Math.max(c,N),d=Math.max(d,M.length),l+=C[0]}if(o!==l)throw new Ye("Data bytes does not match offset");const p=new j;for(let w=0;w<c;++w)for(const C of h){const A=C.getDataBytes();w<A.length&&p.appendBits(A[w],8)}for(let w=0;w<d;++w)for(const C of h){const A=C.getErrorCorrectionBytes();w<A.length&&p.appendBits(A[w],8)}if(r!==p.getSizeInBytes())throw new Ye("Interleaving error: "+r+" and "+p.getSizeInBytes()+" differ.");return p}static generateECBytes(t,r){const o=t.length,s=new Int32Array(o+r);for(let c=0;c<o;c++)s[c]=t[c]&255;new hl(de.QR_CODE_FIELD_256).encode(s,r);const l=new Uint8Array(r);for(let c=0;c<r;c++)l[c]=s[o+c];return l}static appendModeInfo(t,r){r.appendBits(t.getBits(),4)}static appendLengthInfo(t,r,o,s){const l=o.getCharacterCountBits(r);if(t>=1<<l)throw new Ye(t+" is bigger than "+((1<<l)-1));s.appendBits(t,l)}static appendBytes(t,r,o,s){switch(r){case we.NUMERIC:Qe.appendNumericBytes(t,o);break;case we.ALPHANUMERIC:Qe.appendAlphanumericBytes(t,o);break;case we.BYTE:Qe.append8BitBytes(t,o,s);break;case we.KANJI:Qe.appendKanjiBytes(t,o);break;default:throw new Ye("Invalid mode: "+r)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const r=Qe.getDigit(t);return r>=0&&r<=9}static appendNumericBytes(t,r){const o=t.length;let s=0;for(;s<o;){const l=Qe.getDigit(t.charAt(s));if(s+2<o){const c=Qe.getDigit(t.charAt(s+1)),d=Qe.getDigit(t.charAt(s+2));r.appendBits(l*100+c*10+d,10),s+=3}else if(s+1<o){const c=Qe.getDigit(t.charAt(s+1));r.appendBits(l*10+c,7),s+=2}else r.appendBits(l,4),s++}}static appendAlphanumericBytes(t,r){const o=t.length;let s=0;for(;s<o;){const l=Qe.getAlphanumericCode(t.charCodeAt(s));if(l===-1)throw new Ye;if(s+1<o){const c=Qe.getAlphanumericCode(t.charCodeAt(s+1));if(c===-1)throw new Ye;r.appendBits(l*45+c,11),s+=2}else r.appendBits(l,6),s++}}static append8BitBytes(t,r,o){let s;try{s=Ie.encode(t,o)}catch(l){throw new Ye(l)}for(let l=0,c=s.length;l!==c;l++){const d=s[l];r.appendBits(d,8)}}static appendKanjiBytes(t,r){let o;try{o=Ie.encode(t,Y.SJIS)}catch(l){throw new Ye(l)}const s=o.length;for(let l=0;l<s;l+=2){const c=o[l]&255,d=o[l+1]&255,h=c<<8&4294967295|d;let p=-1;if(h>=33088&&h<=40956?p=h-33088:h>=57408&&h<=60351&&(p=h-49472),p===-1)throw new Ye("Invalid byte sequence");const w=(p>>8)*192+(p&255);r.appendBits(w,13)}}static appendECI(t,r){r.appendBits(we.ECI.getBits(),4),r.appendBits(t.getValue(),8)}}Qe.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Qe.DEFAULT_BYTE_MODE_ENCODING=Y.UTF8.getName();class Zr{write(t,r,o,s=null){if(t.length===0)throw new S("Found empty contents");if(r<0||o<0)throw new S("Requested dimensions are too small: "+r+"x"+o);let l=Ke.L,c=Zr.QUIET_ZONE_SIZE;s!==null&&(s.get(Ct.ERROR_CORRECTION)!==void 0&&(l=Ke.fromString(s.get(Ct.ERROR_CORRECTION).toString())),s.get(Ct.MARGIN)!==void 0&&(c=Number.parseInt(s.get(Ct.MARGIN).toString(),10)));const d=Qe.encode(t,l,s);return this.renderResult(d,r,o,c)}writeToDom(t,r,o,s,l=null){typeof t=="string"&&(t=document.querySelector(t));const c=this.write(r,o,s,l);t&&t.appendChild(c)}renderResult(t,r,o,s){const l=t.getMatrix();if(l===null)throw new bt;const c=l.getWidth(),d=l.getHeight(),h=c+s*2,p=d+s*2,w=Math.max(r,h),C=Math.max(o,p),A=Math.min(Math.floor(w/h),Math.floor(C/p)),N=Math.floor((w-c*A)/2),D=Math.floor((C-d*A)/2),M=this.createSVGElement(w,C);for(let F=0,H=D;F<d;F++,H+=A)for(let te=0,ne=N;te<c;te++,ne+=A)if(l.get(te,F)===1){const J=this.createSvgRectElement(ne,H,A,A);M.appendChild(J)}return M}createSVGElement(t,r){const o=document.createElementNS(Zr.SVG_NS,"svg");return o.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"width",r.toString()),o}createSvgRectElement(t,r,o,s){const l=document.createElementNS(Zr.SVG_NS,"rect");return l.setAttributeNS(null,"x",t.toString()),l.setAttributeNS(null,"y",r.toString()),l.setAttributeNS(null,"height",o.toString()),l.setAttributeNS(null,"width",s.toString()),l.setAttributeNS(null,"fill","#000000"),l}}Zr.QUIET_ZONE_SIZE=4,Zr.SVG_NS="http://www.w3.org/2000/svg";class mi{encode(t,r,o,s,l){if(t.length===0)throw new S("Found empty contents");if(r!==he.QR_CODE)throw new S("Can only encode QR_CODE, but got "+r);if(o<0||s<0)throw new S(`Requested dimensions are too small: ${o}x${s}`);let c=Ke.L,d=mi.QUIET_ZONE_SIZE;l!==null&&(l.get(Ct.ERROR_CORRECTION)!==void 0&&(c=Ke.fromString(l.get(Ct.ERROR_CORRECTION).toString())),l.get(Ct.MARGIN)!==void 0&&(d=Number.parseInt(l.get(Ct.MARGIN).toString(),10)));const h=Qe.encode(t,c,l);return mi.renderResult(h,o,s,d)}static renderResult(t,r,o,s){const l=t.getMatrix();if(l===null)throw new bt;const c=l.getWidth(),d=l.getHeight(),h=c+s*2,p=d+s*2,w=Math.max(r,h),C=Math.max(o,p),A=Math.min(Math.floor(w/h),Math.floor(C/p)),N=Math.floor((w-c*A)/2),D=Math.floor((C-d*A)/2),M=new Ue(w,C);for(let F=0,H=D;F<d;F++,H+=A)for(let te=0,ne=N;te<c;te++,ne+=A)l.get(te,F)===1&&M.setRegion(ne,H,A,A);return M}}mi.QUIET_ZONE_SIZE=4;class V2{encode(t,r,o,s,l){let c;switch(r){case he.QR_CODE:c=new mi;break;default:throw new S("No encoder available for format "+r)}return c.encode(t,r,o,s,l)}}class Gn extends ie{constructor(t,r,o,s,l,c,d,h){if(super(c,d),this.yuvData=t,this.dataWidth=r,this.dataHeight=o,this.left=s,this.top=l,s+c>r||l+d>o)throw new S("Crop rectangle does not fit within image data.");h&&this.reverseHorizontal(c,d)}getRow(t,r){if(t<0||t>=this.getHeight())throw new S("Requested row is outside the image: "+t);const o=this.getWidth();(r==null||r.length<o)&&(r=new Uint8ClampedArray(o));const s=(t+this.top)*this.dataWidth+this.left;return k.arraycopy(this.yuvData,s,r,0,o),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.yuvData;const o=t*r,s=new Uint8ClampedArray(o);let l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return k.arraycopy(this.yuvData,l,s,0,o),s;for(let c=0;c<r;c++){const d=c*t;k.arraycopy(this.yuvData,l,s,d,t),l+=this.dataWidth}return s}isCropSupported(){return!0}crop(t,r,o,s){return new Gn(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+r,o,s,!1)}renderThumbnail(){const t=this.getWidth()/Gn.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/Gn.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(t*r),s=this.yuvData;let l=this.top*this.dataWidth+this.left;for(let c=0;c<r;c++){const d=c*t;for(let h=0;h<t;h++){const p=s[l+h*Gn.THUMBNAIL_SCALE_FACTOR]&255;o[d+h]=4278190080|p*65793}l+=this.dataWidth*Gn.THUMBNAIL_SCALE_FACTOR}return o}getThumbnailWidth(){return this.getWidth()/Gn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Gn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,r){const o=this.yuvData;for(let s=0,l=this.top*this.dataWidth+this.left;s<r;s++,l+=this.dataWidth){const c=l+t/2;for(let d=l,h=l+t-1;d<c;d++,h--){const p=o[d];o[d]=o[h],o[h]=p}}}invert(){return new me(this)}}Gn.THUMBNAIL_SCALE_FACTOR=2;class gl extends ie{constructor(t,r,o,s,l,c,d){if(super(r,o),this.dataWidth=s,this.dataHeight=l,this.left=c,this.top=d,t.BYTES_PER_ELEMENT===4){const h=r*o,p=new Uint8ClampedArray(h);for(let w=0;w<h;w++){const C=t[w],A=C>>16&255,N=C>>7&510,D=C&255;p[w]=(A+N+D)/4&255}this.luminances=p}else this.luminances=t;if(s===void 0&&(this.dataWidth=r),l===void 0&&(this.dataHeight=o),c===void 0&&(this.left=0),d===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+o>this.dataHeight)throw new S("Crop rectangle does not fit within image data.")}getRow(t,r){if(t<0||t>=this.getHeight())throw new S("Requested row is outside the image: "+t);const o=this.getWidth();(r==null||r.length<o)&&(r=new Uint8ClampedArray(o));const s=(t+this.top)*this.dataWidth+this.left;return k.arraycopy(this.luminances,s,r,0,o),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.luminances;const o=t*r,s=new Uint8ClampedArray(o);let l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return k.arraycopy(this.luminances,l,s,0,o),s;for(let c=0;c<r;c++){const d=c*t;k.arraycopy(this.luminances,l,s,d,t),l+=this.dataWidth}return s}isCropSupported(){return!0}crop(t,r,o,s){return new gl(this.luminances,o,s,this.dataWidth,this.dataHeight,this.left+t,this.top+r)}invert(){return new me(this)}}class E1 extends Y{static forName(t){return this.getCharacterSetECIByName(t)}}class pl{}pl.ISO_8859_1=Y.ISO8859_1;class C1{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class A1{static singletonList(t){return[t]}static min(t,r){return t.sort(r)[0]}}class H2{constructor(t){this.previous=t}getPrevious(){return this.previous}}class wi extends H2{constructor(t,r,o){super(t),this.value=r,this.bitCount=o}appendTo(t,r){t.appendBits(this.value,this.bitCount)}add(t,r){return new wi(this,t,r)}addBinaryShift(t,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new wi(this,t,r)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+b.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class xl extends wi{constructor(t,r,o){super(t,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=o}appendTo(t,r){for(let o=0;o<this.binaryShiftByteCount;o++)(o===0||o===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):o===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(r[this.binaryShiftStart+o],8)}addBinaryShift(t,r){return new xl(this,t,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function z2(E,t,r){return new xl(E,t,r)}function ao(E,t,r){return new wi(E,t,r)}const W2=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Er=0,ys=1,Cn=2,S1=3,Xn=4,G2=new wi(null,0,0),ml=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function X2(E){for(let t of E)I.fill(t,-1);return E[Er][Xn]=0,E[ys][Xn]=0,E[ys][Er]=28,E[S1][Xn]=0,E[Cn][Xn]=0,E[Cn][Er]=15,E}const v1=X2(I.createInt32Array(6,6));class Yn{constructor(t,r,o,s){this.token=t,this.mode=r,this.binaryShiftByteCount=o,this.bitCount=s}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,r){let o=this.bitCount,s=this.token;if(t!==this.mode){let c=ml[this.mode][t];s=ao(s,c&65535,c>>16),o+=c>>16}let l=t===Cn?4:5;return s=ao(s,r,l),new Yn(s,t,0,o+l)}shiftAndAppend(t,r){let o=this.token,s=this.mode===Cn?4:5;return o=ao(o,v1[this.mode][t],s),o=ao(o,r,5),new Yn(o,this.mode,0,this.bitCount+s+5)}addBinaryShiftChar(t){let r=this.token,o=this.mode,s=this.bitCount;if(this.mode===Xn||this.mode===Cn){let d=ml[o][Er];r=ao(r,d&65535,d>>16),s+=d>>16,o=Er}let l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,c=new Yn(r,o,this.binaryShiftByteCount+1,s+l);return c.binaryShiftByteCount===2078&&(c=c.endBinaryShift(t+1)),c}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=z2(r,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new Yn(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let r=this.bitCount+(ml[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?r+=Yn.calculateBinaryShiftCost(t)-Yn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(r+=10),r<=t.bitCount}toBitArray(t){let r=[];for(let s=this.endBinaryShift(t.length).token;s!==null;s=s.getPrevious())r.unshift(s);let o=new j;for(const s of r)s.appendTo(o,t);return o}toString(){return pe.format("%s bits=%d bytes=%d",W2[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}Yn.INITIAL_STATE=new Yn(G2,Er,0,0);function Y2(E){const t=pe.getCharCode(" "),r=pe.getCharCode("."),o=pe.getCharCode(",");E[Er][t]=1;const s=pe.getCharCode("Z"),l=pe.getCharCode("A");for(let A=l;A<=s;A++)E[Er][A]=A-l+2;E[ys][t]=1;const c=pe.getCharCode("z"),d=pe.getCharCode("a");for(let A=d;A<=c;A++)E[ys][A]=A-d+2;E[Cn][t]=1;const h=pe.getCharCode("9"),p=pe.getCharCode("0");for(let A=p;A<=h;A++)E[Cn][A]=A-p+2;E[Cn][o]=12,E[Cn][r]=13;const w=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let A=0;A<w.length;A++)E[S1][pe.getCharCode(w[A])]=A;const C=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let A=0;A<C.length;A++)pe.getCharCode(C[A])>0&&(E[Xn][pe.getCharCode(C[A])]=A);return E}const wl=Y2(I.createInt32Array(5,256));class lo{constructor(t){this.text=t}encode(){const t=pe.getCharCode(" "),r=pe.getCharCode(`
`);let o=A1.singletonList(Yn.INITIAL_STATE);for(let l=0;l<this.text.length;l++){let c,d=l+1<this.text.length?this.text[l+1]:0;switch(this.text[l]){case pe.getCharCode("\r"):c=d===r?2:0;break;case pe.getCharCode("."):c=d===t?3:0;break;case pe.getCharCode(","):c=d===t?4:0;break;case pe.getCharCode(":"):c=d===t?5:0;break;default:c=0}c>0?(o=lo.updateStateListForPair(o,l,c),l++):o=this.updateStateListForChar(o,l)}return A1.min(o,(l,c)=>l.getBitCount()-c.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,r){const o=[];for(let s of t)this.updateStateForChar(s,r,o);return lo.simplifyStates(o)}updateStateForChar(t,r,o){let s=this.text[r]&255,l=wl[t.getMode()][s]>0,c=null;for(let d=0;d<=Xn;d++){let h=wl[d][s];if(h>0){if(c==null&&(c=t.endBinaryShift(r)),!l||d===t.getMode()||d===Cn){const p=c.latchAndAppend(d,h);o.push(p)}if(!l&&v1[t.getMode()][d]>=0){const p=c.shiftAndAppend(d,h);o.push(p)}}}if(t.getBinaryShiftByteCount()>0||wl[t.getMode()][s]===0){let d=t.addBinaryShiftChar(r);o.push(d)}}static updateStateListForPair(t,r,o){const s=[];for(let l of t)this.updateStateForPair(l,r,o,s);return this.simplifyStates(s)}static updateStateForPair(t,r,o,s){let l=t.endBinaryShift(r);if(s.push(l.latchAndAppend(Xn,o)),t.getMode()!==Xn&&s.push(l.shiftAndAppend(Xn,o)),o===3||o===4){let c=l.latchAndAppend(Cn,16-o).latchAndAppend(Cn,1);s.push(c)}if(t.getBinaryShiftByteCount()>0){let c=t.addBinaryShiftChar(r).addBinaryShiftChar(r+1);s.push(c)}}static simplifyStates(t){let r=[];for(const o of t){let s=!0;for(const l of r){if(l.isBetterThanOrEqualTo(o)){s=!1;break}o.isBetterThanOrEqualTo(l)&&(r=r.filter(c=>c!==l))}s&&r.push(o)}return r}}class Le{constructor(){}static encodeBytes(t){return Le.encode(t,Le.DEFAULT_EC_PERCENT,Le.DEFAULT_AZTEC_LAYERS)}static encode(t,r,o){let s=new lo(t).encode(),l=b.truncDivision(s.getSize()*r,100)+11,c=s.getSize()+l,d,h,p,w,C;if(o!==Le.DEFAULT_AZTEC_LAYERS){if(d=o<0,h=Math.abs(o),h>(d?Le.MAX_NB_BITS_COMPACT:Le.MAX_NB_BITS))throw new S(pe.format("Illegal value %s for layers",o));p=Le.totalBitsInLayer(h,d),w=Le.WORD_SIZE[h];let J=p-p%w;if(C=Le.stuffBits(s,w),C.getSize()+l>J)throw new S("Data to large for user specified layer");if(d&&C.getSize()>w*64)throw new S("Data to large for user specified layer")}else{w=0,C=null;for(let J=0;;J++){if(J>Le.MAX_NB_BITS)throw new S("Data too large for an Aztec code");if(d=J<=3,h=d?J+1:J,p=Le.totalBitsInLayer(h,d),c>p)continue;(C==null||w!==Le.WORD_SIZE[h])&&(w=Le.WORD_SIZE[h],C=Le.stuffBits(s,w));let Oe=p-p%w;if(!(d&&C.getSize()>w*64)&&C.getSize()+l<=Oe)break}}let A=Le.generateCheckWords(C,p,w),N=C.getSize()/w,D=Le.generateModeMessage(d,h,N),M=(d?11:14)+h*4,F=new Int32Array(M),H;if(d){H=M;for(let J=0;J<F.length;J++)F[J]=J}else{H=M+1+2*b.truncDivision(b.truncDivision(M,2)-1,15);let J=b.truncDivision(M,2),Oe=b.truncDivision(H,2);for(let Se=0;Se<J;Se++){let $t=Se+b.truncDivision(Se,15);F[J-Se-1]=Oe-$t-1,F[J+Se]=Oe+$t+1}}let te=new Ue(H);for(let J=0,Oe=0;J<h;J++){let Se=(h-J)*4+(d?9:12);for(let $t=0;$t<Se;$t++){let Rn=$t*2;for(let Jt=0;Jt<2;Jt++)A.get(Oe+Rn+Jt)&&te.set(F[J*2+Jt],F[J*2+$t]),A.get(Oe+Se*2+Rn+Jt)&&te.set(F[J*2+$t],F[M-1-J*2-Jt]),A.get(Oe+Se*4+Rn+Jt)&&te.set(F[M-1-J*2-Jt],F[M-1-J*2-$t]),A.get(Oe+Se*6+Rn+Jt)&&te.set(F[M-1-J*2-$t],F[J*2+Jt])}Oe+=Se*8}if(Le.drawModeMessage(te,d,H,D),d)Le.drawBullsEye(te,b.truncDivision(H,2),5);else{Le.drawBullsEye(te,b.truncDivision(H,2),7);for(let J=0,Oe=0;J<b.truncDivision(M,2)-1;J+=15,Oe+=16)for(let Se=b.truncDivision(H,2)&1;Se<H;Se+=2)te.set(b.truncDivision(H,2)-Oe,Se),te.set(b.truncDivision(H,2)+Oe,Se),te.set(Se,b.truncDivision(H,2)-Oe),te.set(Se,b.truncDivision(H,2)+Oe)}let ne=new C1;return ne.setCompact(d),ne.setSize(H),ne.setLayers(h),ne.setCodeWords(N),ne.setMatrix(te),ne}static drawBullsEye(t,r,o){for(let s=0;s<o;s+=2)for(let l=r-s;l<=r+s;l++)t.set(l,r-s),t.set(l,r+s),t.set(r-s,l),t.set(r+s,l);t.set(r-o,r-o),t.set(r-o+1,r-o),t.set(r-o,r-o+1),t.set(r+o,r-o),t.set(r+o,r-o+1),t.set(r+o,r+o-1)}static generateModeMessage(t,r,o){let s=new j;return t?(s.appendBits(r-1,2),s.appendBits(o-1,6),s=Le.generateCheckWords(s,28,4)):(s.appendBits(r-1,5),s.appendBits(o-1,11),s=Le.generateCheckWords(s,40,4)),s}static drawModeMessage(t,r,o,s){let l=b.truncDivision(o,2);if(r)for(let c=0;c<7;c++){let d=l-3+c;s.get(c)&&t.set(d,l-5),s.get(c+7)&&t.set(l+5,d),s.get(20-c)&&t.set(d,l+5),s.get(27-c)&&t.set(l-5,d)}else for(let c=0;c<10;c++){let d=l-5+c+b.truncDivision(c,5);s.get(c)&&t.set(d,l-7),s.get(c+10)&&t.set(l+7,d),s.get(29-c)&&t.set(d,l+7),s.get(39-c)&&t.set(l-7,d)}}static generateCheckWords(t,r,o){let s=t.getSize()/o,l=new hl(Le.getGF(o)),c=b.truncDivision(r,o),d=Le.bitsToWords(t,o,c);l.encode(d,c-s);let h=r%o,p=new j;p.appendBits(0,h);for(const w of Array.from(d))p.appendBits(w,o);return p}static bitsToWords(t,r,o){let s=new Int32Array(o),l,c;for(l=0,c=t.getSize()/r;l<c;l++){let d=0;for(let h=0;h<r;h++)d|=t.get(l*r+h)?1<<r-h-1:0;s[l]=d}return s}static getGF(t){switch(t){case 4:return de.AZTEC_PARAM;case 6:return de.AZTEC_DATA_6;case 8:return de.AZTEC_DATA_8;case 10:return de.AZTEC_DATA_10;case 12:return de.AZTEC_DATA_12;default:throw new S("Unsupported word size "+t)}}static stuffBits(t,r){let o=new j,s=t.getSize(),l=(1<<r)-2;for(let c=0;c<s;c+=r){let d=0;for(let h=0;h<r;h++)(c+h>=s||t.get(c+h))&&(d|=1<<r-1-h);(d&l)===l?(o.appendBits(d&l,r),c--):d&l?o.appendBits(d,r):(o.appendBits(d|1,r),c--)}return o}static totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}Le.DEFAULT_EC_PERCENT=33,Le.DEFAULT_AZTEC_LAYERS=0,Le.MAX_NB_BITS=32,Le.MAX_NB_BITS_COMPACT=4,Le.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Es{encode(t,r,o,s){return this.encodeWithHints(t,r,o,s,null)}encodeWithHints(t,r,o,s,l){let c=pl.ISO_8859_1,d=Le.DEFAULT_EC_PERCENT,h=Le.DEFAULT_AZTEC_LAYERS;return l!=null&&(l.has(Ct.CHARACTER_SET)&&(c=E1.forName(l.get(Ct.CHARACTER_SET).toString())),l.has(Ct.ERROR_CORRECTION)&&(d=b.parseInt(l.get(Ct.ERROR_CORRECTION).toString())),l.has(Ct.AZTEC_LAYERS)&&(h=b.parseInt(l.get(Ct.AZTEC_LAYERS).toString()))),Es.encodeLayers(t,r,o,s,c,d,h)}static encodeLayers(t,r,o,s,l,c,d){if(r!==he.AZTEC)throw new S("Can only encode AZTEC, but got "+r);let h=Le.encode(pe.getBytes(t,l),c,d);return Es.renderResult(h,o,s)}static renderResult(t,r,o){let s=t.getMatrix();if(s==null)throw new bt;let l=s.getWidth(),c=s.getHeight(),d=Math.max(r,l),h=Math.max(o,c),p=Math.min(d/l,h/c),w=(d-l*p)/2,C=(h-c*p)/2,A=new Ue(d,h);for(let N=0,D=C;N<c;N++,D+=p)for(let M=0,F=w;M<l;M++,F+=p)s.get(M,N)&&A.setRegion(F,D,p,p);return A}}i.AbstractExpandedDecoder=rl,i.ArgumentException=v,i.ArithmeticException=_e,i.AztecCode=C1,i.AztecCodeReader=fs,i.AztecCodeWriter=Es,i.AztecDecoder=Me,i.AztecDetector=a1,i.AztecDetectorResult=o1,i.AztecEncoder=Le,i.AztecHighLevelEncoder=lo,i.AztecPoint=Ht,i.BarcodeFormat=he,i.Binarizer=B,i.BinaryBitmap=R,i.BitArray=j,i.BitMatrix=Ue,i.BitSource=al,i.BrowserAztecCodeReader=y2,i.BrowserBarcodeReader=v2,i.BrowserCodeReader=Tt,i.BrowserDatamatrixCodeReader=I2,i.BrowserMultiFormatReader=L2,i.BrowserPDF417Reader=F2,i.BrowserQRCodeReader=U2,i.BrowserQRCodeSvgWriter=Zr,i.CharacterSetECI=Y,i.ChecksumException=L,i.Code128Reader=oe,i.Code39Reader=yt,i.DataMatrixDecodedBitStreamParser=xr,i.DataMatrixReader=mr,i.DecodeHintType=Z,i.DecoderResult=jn,i.DefaultGridSampler=s1,i.DetectorResult=us,i.EAN13Reader=zr,i.EncodeHintType=Ct,i.Exception=x,i.FormatException=P,i.GenericGF=de,i.GenericGFPoly=le,i.GlobalHistogramBinarizer=De,i.GridSampler=Ja,i.GridSamplerInstance=gr,i.HTMLCanvasElementLuminanceSource=ae,i.HybridBinarizer=re,i.ITFReader=Xe,i.IllegalArgumentException=S,i.IllegalStateException=bt,i.InvertedLuminanceSource=me,i.LuminanceSource=ie,i.MathUtils=Pe,i.MultiFormatOneDReader=pi,i.MultiFormatReader=y1,i.MultiFormatWriter=V2,i.NotFoundException=W,i.OneDReader=mt,i.PDF417DecodedBitStreamParser=V,i.PDF417DecoderErrorCorrection=h1,i.PDF417Reader=Ot,i.PDF417ResultMetadata=p1,i.PerspectiveTransform=Tn,i.PlanarYUVLuminanceSource=Gn,i.QRCodeByteMatrix=ws,i.QRCodeDataMask=yn,i.QRCodeDecodedBitStreamParser=rt,i.QRCodeDecoderErrorCorrectionLevel=Ke,i.QRCodeDecoderFormatInformation=Lt,i.QRCodeEncoder=Qe,i.QRCodeEncoderQRCode=Yr,i.QRCodeMaskUtil=ut,i.QRCodeMatrixUtil=ye,i.QRCodeMode=we,i.QRCodeReader=wr,i.QRCodeVersion=xe,i.QRCodeWriter=mi,i.RGBLuminanceSource=gl,i.RSS14Reader=ct,i.RSSExpandedReader=Q,i.ReaderException=ms,i.ReedSolomonDecoder=Vn,i.ReedSolomonEncoder=hl,i.ReedSolomonException=at,i.Result=$,i.ResultMetadataType=xt,i.ResultPoint=ge,i.StringUtils=pe,i.UnsupportedOperationException=Ee,i.VideoInputDevice=We,i.WhiteRectangleDetector=Jn,i.WriterException=Ye,i.ZXingArrays=I,i.ZXingCharset=E1,i.ZXingInteger=b,i.ZXingStandardCharsets=pl,i.ZXingStringBuilder=Ae,i.ZXingStringEncoding=Ie,i.ZXingSystem=k,i.createAbstractExpandedDecoder=f1,Object.defineProperty(i,"__esModule",{value:!0})})})($c,$c.exports);var Je=$c.exports;const Iw=lf(Je),Nw=af({__proto__:null,default:Iw},[Je]);var J0=function(){function e(n,i,a){if(this.formatMap=new Map([[ue.QR_CODE,Je.BarcodeFormat.QR_CODE],[ue.AZTEC,Je.BarcodeFormat.AZTEC],[ue.CODABAR,Je.BarcodeFormat.CODABAR],[ue.CODE_39,Je.BarcodeFormat.CODE_39],[ue.CODE_93,Je.BarcodeFormat.CODE_93],[ue.CODE_128,Je.BarcodeFormat.CODE_128],[ue.DATA_MATRIX,Je.BarcodeFormat.DATA_MATRIX],[ue.MAXICODE,Je.BarcodeFormat.MAXICODE],[ue.ITF,Je.BarcodeFormat.ITF],[ue.EAN_13,Je.BarcodeFormat.EAN_13],[ue.EAN_8,Je.BarcodeFormat.EAN_8],[ue.PDF_417,Je.BarcodeFormat.PDF_417],[ue.RSS_14,Je.BarcodeFormat.RSS_14],[ue.RSS_EXPANDED,Je.BarcodeFormat.RSS_EXPANDED],[ue.UPC_A,Je.BarcodeFormat.UPC_A],[ue.UPC_E,Je.BarcodeFormat.UPC_E],[ue.UPC_EAN_EXTENSION,Je.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Nw)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=i,this.logger=a;var u=this.createZXingFormats(n),f=new Map;f.set(Je.DecodeHintType.POSSIBLE_FORMATS,u),f.set(Je.DecodeHintType.TRY_HARDER,!1),this.hints=f}return e.prototype.decodeAsync=function(n){var i=this;return new Promise(function(a,u){try{a(i.decode(n))}catch(f){u(f)}})},e.prototype.decode=function(n){var i=new Je.MultiFormatReader(this.verbose,this.hints),a=new Je.HTMLCanvasElementLuminanceSource(n),u=new Je.BinaryBitmap(new Je.HybridBinarizer(a)),f=i.decode(u);return{text:f.text,format:Kh.create(this.toHtml5QrcodeSupportedFormats(f.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(i,a,u){n.set(i,a)}),n},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createZXingFormats=function(n){for(var i=[],a=0,u=n;a<u.length;a++){var f=u[a];this.formatMap.has(f)?i.push(this.formatMap.get(f)):this.logger.logError("".concat(f," is not supported by")+"ZXingHtml5QrcodeShim")}return i},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),Tw=function(e,n,i,a){function u(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function m(v){try{x(a.next(v))}catch(S){g(S)}}function y(v){try{x(a.throw(v))}catch(S){g(S)}}function x(v){v.done?f(v.value):u(v.value).then(m,y)}x((a=a.apply(e,n||[])).next())})},bw=function(e,n){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(v){return y([x,v])}}function y(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(a=1,u&&(f=x[0]&2?u.return:x[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,x[1])).done)return f;switch(u=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,u=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=n.call(e,i)}catch(v){x=[6,v],u=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},ef=function(){function e(n,i,a){if(this.formatMap=new Map([[ue.QR_CODE,"qr_code"],[ue.AZTEC,"aztec"],[ue.CODABAR,"codabar"],[ue.CODE_39,"code_39"],[ue.CODE_93,"code_93"],[ue.CODE_128,"code_128"],[ue.DATA_MATRIX,"data_matrix"],[ue.ITF,"itf"],[ue.EAN_13,"ean_13"],[ue.EAN_8,"ean_8"],[ue.PDF_417,"pdf417"],[ue.UPC_A,"upc_a"],[ue.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=i,this.logger=a;var u=this.createBarcodeDetectorFormats(n);if(this.detector=new BarcodeDetector(u),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var n=new BarcodeDetector({formats:["qr_code"]});return typeof n<"u"},e.prototype.decodeAsync=function(n){return Tw(this,void 0,void 0,function(){var i,a;return bw(this,function(u){switch(u.label){case 0:return[4,this.detector.detect(n)];case 1:if(i=u.sent(),!i||i.length===0)throw"No barcode or QR code detected.";return a=this.selectLargestBarcode(i),[2,{text:a.rawValue,format:Kh.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(n){for(var i=null,a=0,u=0,f=n;u<f.length;u++){var g=f[u],m=g.boundingBox.width*g.boundingBox.height;m>a&&(a=m,i=g)}if(!i)throw"No largest barcode found";return i},e.prototype.createBarcodeDetectorFormats=function(n){for(var i=[],a=0,u=n;a<u.length;a++){var f=u[a];this.formatMap.has(f)?i.push(this.formatMap.get(f)):this.logger.warn("".concat(f," is not supported by")+"BarcodeDetectorDelegate")}return{formats:i}},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(i,a,u){n.set(i,a)}),n},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),tf=function(e,n,i,a){function u(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function m(v){try{x(a.next(v))}catch(S){g(S)}}function y(v){try{x(a.throw(v))}catch(S){g(S)}}function x(v){v.done?f(v.value):u(v.value).then(m,y)}x((a=a.apply(e,n||[])).next())})},nf=function(e,n){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(v){return y([x,v])}}function y(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(a=1,u&&(f=x[0]&2?u.return:x[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,x[1])).done)return f;switch(u=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,u=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=n.call(e,i)}catch(v){x=[6,v],u=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Rw=function(){function e(n,i,a,u){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=a,i&&ef.isSupported()?(this.primaryDecoder=new ef(n,a,u),this.secondaryDecoder=new J0(n,a,u)):this.primaryDecoder=new J0(n,a,u)}return e.prototype.decodeAsync=function(n){return tf(this,void 0,void 0,function(){var i;return nf(this,function(a){switch(a.label){case 0:i=performance.now(),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(n)];case 2:return[2,a.sent()];case 3:return this.possiblyLogPerformance(i),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(n){return tf(this,void 0,void 0,function(){var i,a;return nf(this,function(u){switch(u.label){case 0:i=performance.now(),u.label=1;case 1:return u.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(n)];case 2:return[2,u.sent()];case 3:if(a=u.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(n)];throw a;case 4:return this.possiblyLogPerformance(i),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(n){if(this.verbose){var i=performance.now()-n;this.executionResults.push(i),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var n=0,i=0,a=this.executionResults;i<a.length;i++){var u=a[i];n+=u}var f=n/this.executionResults.length;console.log("".concat(f," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),t1=function(){var e=function(n,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(a[f]=u[f])},e(n,i)};return function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(n,i);function a(){this.constructor=n}n.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}}(),Ia=function(e,n,i,a){function u(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function m(v){try{x(a.next(v))}catch(S){g(S)}}function y(v){try{x(a.throw(v))}catch(S){g(S)}}function x(v){v.done?f(v.value):u(v.value).then(m,y)}x((a=a.apply(e,n||[])).next())})},Na=function(e,n){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(v){return y([x,v])}}function y(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(a=1,u&&(f=x[0]&2?u.return:x[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,x[1])).done)return f;switch(u=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,u=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=n.call(e,i)}catch(v){x=[6,v],u=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Qh=function(){function e(n,i){this.name=n,this.track=i}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(n){var i={};i[this.name]=n;var a={advanced:[i]};return this.track.applyConstraints(a)},e.prototype.value=function(){var n=this.track.getSettings();if(this.name in n){var i=n[this.name];return i}return null},e}(),Ow=function(e){t1(n,e);function n(i,a){return e.call(this,i,a)||this}return n.prototype.min=function(){return this.getCapabilities().min},n.prototype.max=function(){return this.getCapabilities().max},n.prototype.step=function(){return this.getCapabilities().step},n.prototype.apply=function(i){var a={};a[this.name]=i;var u={advanced:[a]};return this.track.applyConstraints(u)},n.prototype.getCapabilities=function(){this.failIfNotSupported();var i=this.track.getCapabilities(),a=i[this.name];return{min:a.min,max:a.max,step:a.step}},n.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},n}(Qh),Dw=function(e){t1(n,e);function n(i){return e.call(this,"zoom",i)||this}return n}(Ow),kw=function(e){t1(n,e);function n(i){return e.call(this,"torch",i)||this}return n}(Qh),Mw=function(){function e(n){this.track=n}return e.prototype.zoomFeature=function(){return new Dw(this.track)},e.prototype.torchFeature=function(){return new kw(this.track)},e}(),Bw=function(){function e(n,i,a){this.isClosed=!1,this.parentElement=n,this.mediaStream=i,this.callbacks=a,this.surface=this.createVideoElement(this.parentElement.clientWidth),n.append(this.surface)}return e.prototype.createVideoElement=function(n){var i=document.createElement("video");return i.style.width="".concat(n,"px"),i.style.display="block",i.muted=!0,i.setAttribute("muted","true"),i.playsInline=!0,i},e.prototype.setupSurface=function(){var n=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var i=function(){var a=n.surface.clientWidth,u=n.surface.clientHeight;n.callbacks.onRenderSurfaceReady(a,u),n.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(n,i,a,u){return Ia(this,void 0,void 0,function(){var f,g;return Na(this,function(m){switch(m.label){case 0:return f=new e(n,i,u),a.aspectRatio?(g={aspectRatio:a.aspectRatio},[4,f.getFirstTrackOrFail().applyConstraints(g)]):[3,2];case 1:m.sent(),m.label=2;case 2:return f.setupSurface(),[2,f]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(n){this.failIfClosed();var i=this,a=function(){setTimeout(n,200),i.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(n){return Ia(this,void 0,void 0,function(){return Na(this,function(i){if("aspectRatio"in n)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(n)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var n=this;return new Promise(function(i,a){var u=n.mediaStream.getVideoTracks(),f=u.length,g=0;n.mediaStream.getVideoTracks().forEach(function(m){n.mediaStream.removeTrack(m),m.stop(),++g,g>=f&&(n.isClosed=!0,n.parentElement.removeChild(n.surface),i())})})},e.prototype.getCapabilities=function(){return new Mw(this.getFirstTrackOrFail())},e}(),Pw=function(){function e(n){this.mediaStream=n}return e.prototype.render=function(n,i,a){return Ia(this,void 0,void 0,function(){return Na(this,function(u){return[2,Bw.create(n,this.mediaStream,i,a)]})})},e.create=function(n){return Ia(this,void 0,void 0,function(){var i,a;return Na(this,function(u){switch(u.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return i={audio:!1,video:n},[4,navigator.mediaDevices.getUserMedia(i)];case 1:return a=u.sent(),[2,new e(a)]}})})},e}(),rf=function(e,n,i,a){function u(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function m(v){try{x(a.next(v))}catch(S){g(S)}}function y(v){try{x(a.throw(v))}catch(S){g(S)}}function x(v){v.done?f(v.value):u(v.value).then(m,y)}x((a=a.apply(e,n||[])).next())})},of=function(e,n){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(v){return y([x,v])}}function y(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(a=1,u&&(f=x[0]&2?u.return:x[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,x[1])).done)return f;switch(u=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,u=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=n.call(e,i)}catch(v){x=[6,v],u=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Lw=function(){function e(){}return e.failIfNotSupported=function(){return rf(this,void 0,void 0,function(){return of(this,function(n){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(n){return rf(this,void 0,void 0,function(){return of(this,function(i){return[2,Pw.create(n)]})})},e}(),Fw=function(e,n,i,a){function u(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function m(v){try{x(a.next(v))}catch(S){g(S)}}function y(v){try{x(a.throw(v))}catch(S){g(S)}}function x(v){v.done?f(v.value):u(v.value).then(m,y)}x((a=a.apply(e,n||[])).next())})},Uw=function(e,n){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(x){return function(v){return y([x,v])}}function y(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(a=1,u&&(f=x[0]&2?u.return:x[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,x[1])).done)return f;switch(u=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,u=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=n.call(e,i)}catch(v){x=[6,v],u=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},jw=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var n=MediaStreamTrack;return MediaStreamTrack&&n.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var n=Mi.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(n=Mi.insecureContextCameraQueryError()),Promise.reject(n)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var n=location.host.split(":")[0];return n==="127.0.0.1"||n==="localhost"},e.getCamerasFromMediaDevices=function(){return Fw(this,void 0,void 0,function(){var n,i,a,u,f,g,m;return Uw(this,function(y){switch(y.label){case 0:return n=function(x){for(var v=x.getVideoTracks(),S=0,R=v;S<R.length;S++){var L=R[S];L.enabled=!1,L.stop(),x.removeTrack(L)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return i=y.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(a=y.sent(),u=[],f=0,g=a;f<g.length;f++)m=g[f],m.kind==="videoinput"&&u.push({id:m.deviceId,label:m.label});return n(i),[2,u]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(n,i){var a=function(f){for(var g=[],m=0,y=f;m<y.length;m++){var x=y[m];x.kind==="video"&&g.push({id:x.id,label:x.label})}n(g)},u=MediaStreamTrack;u.getSources(a)})},e}(),ft;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(ft||(ft={}));var Vw=function(){function e(){this.state=ft.NOT_STARTED,this.onGoingTransactionNewState=ft.UNKNOWN}return e.prototype.directTransition=function(n){this.failIfTransitionOngoing(),this.validateTransition(n),this.state=n},e.prototype.startTransition=function(n){return this.failIfTransitionOngoing(),this.validateTransition(n),this.onGoingTransactionNewState=n,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===ft.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var n=this.onGoingTransactionNewState;this.onGoingTransactionNewState=ft.UNKNOWN,this.directTransition(n)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===ft.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=ft.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==ft.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(n){switch(this.state){case ft.UNKNOWN:throw"Transition from unknown is not allowed";case ft.NOT_STARTED:this.failIfNewStateIs(n,[ft.PAUSED]);break;case ft.SCANNING:break;case ft.PAUSED:break}},e.prototype.failIfNewStateIs=function(n,i){for(var a=0,u=i;a<u.length;a++){var f=u[a];if(n===f)throw"Cannot transition from ".concat(this.state," to ").concat(n)}},e}(),Hw=function(){function e(n){this.stateManager=n}return e.prototype.startTransition=function(n){return this.stateManager.startTransition(n)},e.prototype.directTransition=function(n){this.stateManager.directTransition(n)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===ft.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==ft.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===ft.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===ft.PAUSED},e}(),zw=function(){function e(){}return e.create=function(){return new Hw(new Vw)},e}(),Ww=function(){var e=function(n,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(a[f]=u[f])},e(n,i)};return function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(n,i);function a(){this.constructor=n}n.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}}(),un=function(e){Ww(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.DEFAULT_WIDTH=300,n.DEFAULT_WIDTH_OFFSET=2,n.FILE_SCAN_MIN_HEIGHT=300,n.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,n.MIN_QR_BOX_SIZE=50,n.SHADED_LEFT=1,n.SHADED_RIGHT=2,n.SHADED_TOP=3,n.SHADED_BOTTOM=4,n.SHADED_REGION_ELEMENT_ID="qr-shaded-region",n.VERBOSE=!1,n.BORDER_SHADER_DEFAULT_COLOR="#ffffff",n.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",n}(Sw),Gw=function(){function e(n,i){this.logger=i,this.fps=un.SCAN_DEFAULT_FPS,n?(n.fps&&(this.fps=n.fps),this.disableFlip=n.disableFlip===!0,this.qrbox=n.qrbox,this.aspectRatio=n.aspectRatio,this.videoConstraints=n.videoConstraints):this.disableFlip=un.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?qh.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!er(this.qrbox)},e.create=function(n,i){return new e(n,i)},e}(),Xw=function(){function e(n,i){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");this.elementId=n,this.verbose=!1;var a;typeof i=="boolean"?this.verbose=i===!0:i&&(a=i,this.verbose=a.verbose===!0,a.experimentalFeatures),this.logger=new _w(this.verbose),this.qrcode=new Rw(this.getSupportedFormats(i),this.getUseBarCodeDetectorIfSupported(a),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=zw.create()}return e.prototype.start=function(n,i,a,u){var f=this;if(!n)throw"cameraIdOrConfig is required";if(!a||typeof a!="function")throw"qrCodeSuccessCallback is required and should be a function.";var g;u?g=u:g=this.verbose?this.logger.log:function(){};var m=Gw.create(i,this.logger);this.clearElement();var y=!1;m.videoConstraints&&(m.isMediaStreamConstraintsValid()?y=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=y,v=document.getElementById(this.elementId);v.clientWidth?v.clientWidth:un.DEFAULT_WIDTH,v.style.position="relative",this.shouldScan=!0,this.element=v;var S=this,R=this.stateManagerProxy.startTransition(ft.SCANNING);return new Promise(function(L,B){var k=x?m.videoConstraints:S.createVideoConstraints(n);if(!k){R.cancel(),B("videoConstraints should be defined");return}var X={};(!x||m.aspectRatio)&&(X.aspectRatio=m.aspectRatio);var O={onRenderSurfaceReady:function(I,b){S.setupUi(I,b,m),S.isScanning=!0,S.foreverScan(m,a,g)}};Lw.failIfNotSupported().then(function(I){I.create(k).then(function(b){return b.render(f.element,X,O).then(function(j){S.renderedCamera=j,R.execute(),L(null)}).catch(function(j){R.cancel(),B(j)})}).catch(function(b){R.cancel(),B(Mi.errorGettingUserMedia(b))})}).catch(function(I){R.cancel(),B(Mi.cameraStreamingNotSupported())})})},e.prototype.pause=function(n){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(ft.PAUSED),this.showPausedState(),(er(n)||n!==!0)&&(n=!1),n&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var n=this,i=function(){n.stateManagerProxy.directTransition(ft.SCANNING),n.hidePausedState()};if(!this.renderedCamera.isPaused()){i();return}this.renderedCamera.resume(function(){i()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var n=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var i=this.stateManagerProxy.startTransition(ft.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var a=function(){if(n.element){var f=document.getElementById(un.SHADED_REGION_ELEMENT_ID);f&&n.element.removeChild(f)}},u=this;return this.renderedCamera.close().then(function(){return u.renderedCamera=null,u.element&&(u.element.removeChild(u.canvasElement),u.canvasElement=null),a(),u.qrRegion&&(u.qrRegion=null),u.context&&(u.context=null),i.execute(),u.hidePausedState(),u.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(n,i){return this.scanFileV2(n,i).then(function(a){return a.decodedText})},e.prototype.scanFileV2=function(n,i){var a=this;if(!n||!(n instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(er(i)&&(i=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(u,f){a.possiblyCloseLastScanImageFile(),a.clearElement(),a.lastScanImageFile=URL.createObjectURL(n);var g=new Image;g.onload=function(){var m=g.width,y=g.height,x=document.getElementById(a.elementId),v=x.clientWidth?x.clientWidth:un.DEFAULT_WIDTH,S=Math.max(x.clientHeight?x.clientHeight:y,un.FILE_SCAN_MIN_HEIGHT),R=a.computeCanvasDrawConfig(m,y,v,S);if(i){var L=a.createCanvasElement(v,S,"qr-canvas-visible");L.style.display="inline-block",x.appendChild(L);var B=L.getContext("2d");if(!B)throw"Unable to get 2d context from canvas";B.canvas.width=v,B.canvas.height=S,B.drawImage(g,0,0,m,y,R.x,R.y,R.width,R.height)}var k=un.FILE_SCAN_HIDDEN_CANVAS_PADDING,X=Math.max(g.width,R.width),O=Math.max(g.height,R.height),I=X+2*k,b=O+2*k,j=a.createCanvasElement(I,b);x.appendChild(j);var K=j.getContext("2d");if(!K)throw"Unable to get 2d context from canvas";K.canvas.width=I,K.canvas.height=b,K.drawImage(g,0,0,m,y,k,k,X,O);try{a.qrcode.decodeRobustlyAsync(j).then(function(Z){u($0.createFromQrcodeResult(Z))}).catch(f)}catch(Z){f("QR code parse error, error = ".concat(Z))}},g.onerror=f,g.onabort=f,g.onstalled=f,g.onsuspend=f,g.src=URL.createObjectURL(n)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return jw.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(n){if(n){if(!qh.isMediaStreamConstraintsValid(n,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(n)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(n){var i=[ue.QR_CODE,ue.AZTEC,ue.CODABAR,ue.CODE_39,ue.CODE_93,ue.CODE_128,ue.DATA_MATRIX,ue.MAXICODE,ue.ITF,ue.EAN_13,ue.EAN_8,ue.PDF_417,ue.RSS_14,ue.RSS_EXPANDED,ue.UPC_A,ue.UPC_E,ue.UPC_EAN_EXTENSION];if(!n||typeof n=="boolean"||!n.formatsToSupport)return i;if(!Array.isArray(n.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(n.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var a=[],u=0,f=n.formatsToSupport;u<f.length;u++){var g=f[u];Aw(g)?a.push(g):this.logger.warn("Invalid format: ".concat(g," passed in config, ignoring."))}if(a.length===0)throw"None of formatsToSupport match supported values.";return a},e.prototype.getUseBarCodeDetectorIfSupported=function(n){if(er(n))return!0;if(!er(n.useBarCodeDetectorIfSupported))return n.useBarCodeDetectorIfSupported!==!1;if(er(n.experimentalFeatures))return!0;var i=n.experimentalFeatures;return er(i.useBarCodeDetectorIfSupported)?!0:i.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(n,i,a){var u=this,f=a.qrbox;this.validateQrboxConfig(f);var g=this.toQrdimensions(n,i,f),m=function(x){if(x<un.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(un.MIN_QR_BOX_SIZE,"px.")},y=function(x){return x>n&&(u.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=n),x};m(g.width),m(g.height),g.width=y(g.width)},e.prototype.validateQrboxConfig=function(n){if(typeof n!="number"&&typeof n!="function"&&(n.width===void 0||n.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(n,i,a){if(typeof a=="number")return{width:a,height:a};if(typeof a=="function")try{return a(n,i)}catch(u){throw new Error("qrbox config was passed as a function but it failed with unknown error"+u)}return a},e.prototype.setupUi=function(n,i,a){a.isShadedBoxEnabled()&&this.validateQrboxSize(n,i,a);var u=er(a.qrbox)?{width:n,height:i}:a.qrbox;this.validateQrboxConfig(u);var f=this.toQrdimensions(n,i,u);f.height>i&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var g=a.isShadedBoxEnabled()&&f.height<=i,m={x:0,y:0,width:n,height:i},y=g?this.getShadedRegionBounds(n,i,f):m,x=this.createCanvasElement(y.width,y.height),v={willReadFrequently:!0},S=x.getContext("2d",v);S.canvas.width=y.width,S.canvas.height=y.height,this.element.append(x),g&&this.possiblyInsertShadingElement(this.element,n,i,f),this.createScannerPausedUiElement(this.element),this.qrRegion=y,this.context=S,this.canvasElement=x},e.prototype.createScannerPausedUiElement=function(n){var i=document.createElement("div");i.innerText=Mi.scannerPaused(),i.style.display="none",i.style.position="absolute",i.style.top="0px",i.style.zIndex="1",i.style.background="rgba(9, 9, 9, 0.46)",i.style.color="#FFECEC",i.style.textAlign="center",i.style.width="100%",n.appendChild(i),this.scannerPausedUiElement=i},e.prototype.scanContext=function(n,i){var a=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(u){return n(u.text,$0.createFromQrcodeResult(u)),a.possiblyUpdateShaders(!0),!0}).catch(function(u){a.possiblyUpdateShaders(!1);var f=Mi.codeParseError(u);return i(f,vw.createFrom(f)),!1})},e.prototype.foreverScan=function(n,i,a){var u=this;if(this.shouldScan&&this.renderedCamera){var f=this.renderedCamera.getSurface(),g=f.videoWidth/f.clientWidth,m=f.videoHeight/f.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var y=this.qrRegion.width*g,x=this.qrRegion.height*m,v=this.qrRegion.x*g,S=this.qrRegion.y*m;this.context.drawImage(f,v,S,y,x,0,0,this.qrRegion.width,this.qrRegion.height);var R=function(){u.foreverScanTimeout=setTimeout(function(){u.foreverScan(n,i,a)},u.getTimeoutFps(n.fps))};this.scanContext(i,a).then(function(L){!L&&n.disableFlip!==!0?(u.context.translate(u.context.canvas.width,0),u.context.scale(-1,1),u.scanContext(i,a).finally(function(){R()})):R()}).catch(function(L){u.logger.logError("Error happend while scanning context",L),R()})}},e.prototype.createVideoConstraints=function(n){if(typeof n=="string")return{deviceId:{exact:n}};if(typeof n=="object"){var i="facingMode",a="deviceId",u={user:!0,environment:!0},f="exact",g=function(B){if(B in u)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(B,"'")},m=Object.keys(n);if(m.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(m.length," keys");var y=Object.keys(n)[0];if(y!==i&&y!==a)throw"Only '".concat(i,"' and '").concat(a,"' ")+" are supported for 'cameraIdOrConfig'";if(y===i){var x=n.facingMode;if(typeof x=="string"){if(g(x))return{facingMode:x}}else if(typeof x=="object")if(f in x){if(g(x["".concat(f)]))return{facingMode:{exact:x["".concat(f)]}}}else throw"'facingMode' should be string or object with"+" ".concat(f," as key.");else{var v=typeof x;throw"Invalid type of 'facingMode' = ".concat(v)}}else{var S=n.deviceId;if(typeof S=="string")return{deviceId:S};if(typeof S=="object"){if(f in S)return{deviceId:{exact:S["".concat(f)]}};throw"'deviceId' should be string or object with"+" ".concat(f," as key.")}else{var R=typeof S;throw"Invalid type of 'deviceId' = ".concat(R)}}}var L=typeof n;throw"Invalid type of 'cameraIdOrConfig' = ".concat(L)},e.prototype.computeCanvasDrawConfig=function(n,i,a,u){if(n<=a&&i<=u){var f=(a-n)/2,g=(u-i)/2;return{x:f,y:g,width:n,height:i}}else{var m=n,y=i;return n>a&&(i=a/n*i,n=a),i>u&&(n=u/i*n,i=u),this.logger.log("Image downsampled from "+"".concat(m,"X").concat(y)+" to ".concat(n,"X").concat(i,".")),this.computeCanvasDrawConfig(n,i,a,u)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var n=document.getElementById(this.elementId);n&&(n.innerHTML="")},e.prototype.possiblyUpdateShaders=function(n){this.qrMatch!==n&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(i){i.style.backgroundColor=n?un.BORDER_SHADER_MATCH_COLOR:un.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=n)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(n,i,a){var u=n,f=i,g=document.createElement("canvas");return g.style.width="".concat(u,"px"),g.style.height="".concat(f,"px"),g.style.display="none",g.id=er(a)?"qr-canvas":a,g},e.prototype.getShadedRegionBounds=function(n,i,a){if(a.width>n||a.height>i)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(n-a.width)/2,y:(i-a.height)/2,width:a.width,height:a.height}},e.prototype.possiblyInsertShadingElement=function(n,i,a,u){if(!(i-u.width<1||a-u.height<1)){var f=document.createElement("div");f.style.position="absolute";var g=(i-u.width)/2,m=(a-u.height)/2;if(f.style.borderLeft="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderRight="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderTop="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderBottom="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),f.style.boxSizing="border-box",f.style.top="0px",f.style.bottom="0px",f.style.left="0px",f.style.right="0px",f.id="".concat(un.SHADED_REGION_ELEMENT_ID),i-u.width<11||a-u.height<11)this.hasBorderShaders=!1;else{var y=5,x=40;this.insertShaderBorders(f,x,y,-y,null,0,!0),this.insertShaderBorders(f,x,y,-y,null,0,!1),this.insertShaderBorders(f,x,y,null,-y,0,!0),this.insertShaderBorders(f,x,y,null,-y,0,!1),this.insertShaderBorders(f,y,x+y,-y,null,-y,!0),this.insertShaderBorders(f,y,x+y,null,-y,-y,!0),this.insertShaderBorders(f,y,x+y,-y,null,-y,!1),this.insertShaderBorders(f,y,x+y,null,-y,-y,!1),this.hasBorderShaders=!0}n.append(f)}},e.prototype.insertShaderBorders=function(n,i,a,u,f,g,m){var y=document.createElement("div");y.style.position="absolute",y.style.backgroundColor=un.BORDER_SHADER_DEFAULT_COLOR,y.style.width="".concat(i,"px"),y.style.height="".concat(a,"px"),u!==null&&(y.style.top="".concat(u,"px")),f!==null&&(y.style.bottom="".concat(f,"px")),m?y.style.left="".concat(g,"px"):y.style.right="".concat(g,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(y),n.appendChild(y)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(n){return 1e3/n},e}(),sf;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(sf||(sf={}));const Yw=({onScanSuccess:e,onScanError:n,onScanCancel:i})=>{const[a,u]=z.useState(!1),f=async(m,y,x={})=>{try{const v=await m.scanFile(y,!0,x);return console.log("Scan attempt succeeded:",v),v}catch(v){throw console.log("Scan attempt failed:",v),v}},g=async m=>{const y=m.target.files[0];if(!y)return;u(!0);const x=new Xw("qr-reader");try{const v=[{},{bindSearchRegion:!0,maxLength:512,minLength:1},{returnDetailedScanResult:!0,maxLength:512,minLength:1},{experimentalFeatures:{useBarCodeDetectorIfSupported:!1},maxLength:512,minLength:1}];for(let S=0;S<v.length;S++)try{console.log(`Attempting scan with config ${S+1}:`,v[S]);const R=await f(x,y,v[S]);if(R){x.clear(),e(R);return}}catch(R){console.log(`Config ${S+1} failed:`,R)}throw new Error("Unable to scan QR code with any configuration")}catch(v){console.error("Final error:",v),n(v)}finally{try{await x.clear()}catch(v){console.error("Error clearing scanner:",v)}u(!1)}};return T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-md w-full",children:[T.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Scan QR Code"}),T.jsxs("div",{className:"space-y-4",children:[T.jsx("div",{id:"qr-reader",style:{display:"none"}}),T.jsx("div",{className:"flex flex-col items-center",children:T.jsxs("label",{className:"w-full flex flex-col items-center px-4 py-6 bg-coral text-blue rounded-lg shadow-lg tracking-wide uppercase border border-blue cursor-pointer hover:bg-blue hover:text-white",children:[T.jsx("span",{className:"mt-2 text-base leading-normal",children:"Select an image"}),T.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:g,disabled:a})]})}),a&&T.jsx("div",{className:"text-center text-gray-600",children:"Processing image..."}),T.jsx("button",{onClick:i,className:"w-full mt-4 px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300",children:"Cancel"})]})]})})},en={coral:"#F38181",teal:"#4ECAC7",yellow:"#FEC43C"};function Zw(){const[e,n]=z.useState(""),[i,a]=z.useState([]),[u,f]=z.useState([]),[g,m]=z.useState(""),[y,x]=z.useState(""),[v,S]=z.useState(null),[R,L]=z.useState("");z.useState([]),z.useState([]);const[B,k]=z.useState([]),[X,O]=z.useState(""),[I,b]=z.useState(null),[j,K]=z.useState([]),[Z,P]=z.useState(!1),[q,Y]=z.useState(!1),[Ee,Ie]=z.useState(!1),[pe,Ae]=z.useState(!1),[Ue,W]=z.useState([]),[De,re]=z.useState(!1),{language:ie,toggleLanguage:me}=as(),ae=ls(ie);z.useEffect(()=>{(async()=>{try{const[le,_e,de]=await Promise.all([ww(),Z0(),Kl()]);a(le),f(_e),k(de)}catch(le){console.error("Error loading initial data:",le)}})()},[]),z.useEffect(()=>{(async()=>{try{let le=null;e==="return"?le=X||null:e==="borrow"&&(le=y||null);const _e=await Eo(le,Z),de=await Promise.all(_e.map(async at=>{try{const bt=await K0(at.id);return{...at,last_reminder_date:bt?bt.sent_at:null}}catch(bt){return console.error(`Failed to fetch reminder for loan_id ${at.id}:`,bt),{...at,last_reminder_date:null}}}));K(jn(de))}catch(le){console.error("Error fetching loan history:",le),K([])}})()},[Z,e,X,y]);const We=async()=>{re(!0);try{const se=await Promise.all(Ue.map(async de=>{try{const at=await Cw(de.id,"Book Return Reminder",{borrower_name:de.borrower_name,book_title:de.book_title,borrowed_at:de.borrowed_at});if(at.success){console.log(`Reminder sent successfully for loan_id: ${de.id}`);const bt=new Date().toISOString().slice(0,19).replace("T"," ");K(ht=>ht.map(Me=>Me.id===de.id?{...Me,last_reminder_date:bt}:Me));const Vn=await K0(de.id);Vn!=null&&Vn.sent_at&&K(ht=>ht.map(Me=>Me.id===de.id?{...Me,last_reminder_date:Vn.sent_at}:Me))}else console.error(`Failed to send reminder for loan_id: ${de.id} - ${at.error}`);return{success:at.success,loanId:de.id,error:at.error}}catch(at){return console.error(`Error sending reminder for loan_id ${de.id}:`,at),{success:!1,loanId:de.id,error:at.message}}})),le=se.filter(de=>de.success).length,_e=se.filter(de=>!de.success);if(le>0&&alert(`Sent ${le} reminders successfully!`),_e.length>0){const de=_e.map(at=>`Loan ID: ${at.loanId} - ${at.error}`).join(`
`);alert(`Failed to send ${_e.length} reminders.

${de}`)}W([]),Ae(!1)}catch(se){console.error("Failed to send reminders:",se),alert("Failed to send reminders. Please check your email service configuration.")}finally{re(!1)}},be=async se=>{const le=se.target.checked;P(le);try{let _e=null;e==="return"?_e=X||null:e==="borrow"&&(_e=y||null);const de=await Eo(_e,le);K(jn(de))}catch(_e){console.error("Error fetching loan history:",_e),K([])}},Tt=async()=>{Ie(!0),Y(!0)},$=async se=>{try{console.log("Handling scan result..."),Y(!1),Ie(!0);const le=await mw(se);if(le)if(e==="borrow"?(x(se),S(le)):e==="return"&&(O(se),b(le)),L(le.delivery_status),le.loan_status==="borrowed"){const _e=await Eo(se);if(_e&&_e.length>0){const de=_e[0];alert(`The book "${le.title}" was borrowed by ${de.borrower_name} on ${de.borrowed_at}.`)}else alert(`The book "${le.title}" is marked as borrowed, but no loan history is available.`)}else alert(`The book "${le.title}" is available.`);else alert("Book not found for the given QR code.")}catch(le){console.error("Error processing scan result:",le),alert("An error occurred while processing the QR code.")}finally{Ie(!1)}},Zt=se=>{console.error("QR Scan Error:",se),Y(!1),Ie(!1),alert("Failed to scan QR code. Please try again.")},he=()=>{Y(!1),Ie(!1)},Un=async()=>{if(g&&v&&R)try{if((await yw(v.qr_code,g.id,R)).message){alert("Book borrowed successfully!"),S(null),m(null),L("");const le=await Z0(),_e=await Kl(),de=await Eo(null,Z);f(le),k(_e),K(jn(de))}else alert("Error borrowing book.")}catch(se){console.error("Failed to borrow book:",se)}else alert("Please select a borrower, book, and book state.")},xt=async()=>{if(!X){alert("Please select a book to return.");return}try{if((await Ew(X)).success){alert("Book returned successfully!"),O(""),b(null);const le=await Kl(),_e=await Eo(null,Z);k(le),K(jn(_e))}else alert("Failed to return the book. Please try again.")}catch(se){console.error("Error returning book:",se),alert("An error occurred while returning the book. Please try again.")}},jn=se=>se.sort((le,_e)=>!le.return_date&&_e.return_date?-1:le.return_date&&!_e.return_date?1:new Date(_e.loan_start_date)-new Date(le.loan_start_date));return T.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6",children:[q&&T.jsx("div",{className:"scanner-modal",children:T.jsx(Yw,{onScanSuccess:$,onScanError:Zt,onScanCancel:he})}),T.jsxs("div",{className:"flex gap-4 mb-4",children:[T.jsx("div",{className:"absolute top-4 left-4",children:T.jsx("button",{className:"w-12 h-12 flex items-center justify-center rounded-full border border-teal-500 bg-white text-teal-500 shadow-md",onClick:me,children:ie==="en"?"HE":"EN"})}),T.jsx("button",{className:`flex-1 py-2 px-4 rounded ${e==="borrow"?"text-white":"text-gray-800"}`,style:{backgroundColor:e==="borrow"?en.coral:"transparent",borderColor:en.coral,borderWidth:"1px"},onClick:()=>n("borrow"),children:ae.borrow}),T.jsx("button",{className:`flex-1 py-2 px-4 rounded ${e==="return"?"text-white":"text-gray-800"}`,style:{backgroundColor:e==="return"?en.coral:"transparent",borderColor:en.coral,borderWidth:"1px"},onClick:()=>n("return"),children:ae.return})]}),e==="borrow"&&T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"flex gap-4",children:[T.jsxs("select",{value:(g==null?void 0:g.id)||"",onChange:se=>m(i.find(le=>le.id===parseInt(se.target.value))),className:"w-full p-2 border rounded",style:{borderColor:en.coral},children:[T.jsx("option",{value:"",children:ae.select_borrower}),i.map(se=>T.jsx("option",{value:se.id,children:se.parent_name},se.id))]}),T.jsxs("select",{className:"w-full p-2 border rounded",style:{borderColor:en.coral},onChange:se=>S(u.find(le=>le.qr_code===se.target.value)),value:(v==null?void 0:v.qr_code)||"",children:[T.jsx("option",{value:"",children:ae.Select_Book}),u.map(se=>T.jsx("option",{value:se.qr_code,children:se.title},se.qr_code))]})]}),v&&T.jsxs("select",{className:"w-full p-2 border rounded mt-2",style:{borderColor:en.coral},onChange:se=>L(se.target.value),value:R,children:[T.jsx("option",{value:"",children:ae.Select_Book_State}),T.jsx("option",{value:"כמו חדש",children:"כמו חדש"}),T.jsx("option",{value:"מצויין - בלאי בלתי מורגש",children:"מצויין - בלאי בלתי מורגש"}),T.jsx("option",{value:"טוב - בלאי קל",children:"טוב - בלאי קל"})]}),v&&T.jsxs("div",{className:"bg-gray-100 p-4 rounded mt-4",children:[T.jsx("h3",{className:"font-bold text-lg",children:v.title}),T.jsxs("p",{className:"text-sm",children:[ae.author,": ",v.author]}),T.jsxs("p",{className:"text-sm",children:[ae.year_of_publication,": ",v.year_of_publication]}),T.jsxs("p",{className:"text-sm",children:[ae.cover_type,": ",v.cover_type]}),T.jsxs("p",{className:"text-sm",children:[ae.pages,": ",v.pages]}),T.jsxs("p",{className:"text-sm",children:[ae.recommended_age,": ",v.recommended_age]}),T.jsxs("p",{className:"text-sm",children:[ae.Select_Book_State,": ",v.book_condition]})]}),T.jsxs("button",{className:"w-full flex items-center justify-center py-2 px-4 rounded text-white",style:{backgroundColor:en.coral},onClick:Tt,children:[T.jsx(qc,{className:"w-4 h-4 mr-2"}),"Scan QR Code"]}),T.jsx("button",{className:"w-full py-2 px-4 rounded text-white mt-2",style:{backgroundColor:en.coral},onClick:Un,children:ae.borrow}),T.jsx("div",{className:`loan-history-container ${ie==="he"?"rtl":""}`,children:j.map(se=>T.jsxs("div",{className:`loan-history-card ${se.returned_at?"":"active-loan flex items-center"} ${ie==="he"?"rtl":""}`,children:[T.jsx("div",{className:"loan-history-card-title",children:se.book_title}),T.jsxs("div",{className:"loan-history-card-detail",children:[ae.borrowed_by,": ",se.borrower_name]}),T.jsxs("div",{className:"loan-history-card-detail",children:[ae.borrow_date,": ",se.borrowed_at]}),T.jsxs("div",{className:"loan-history-card-detail",children:[ae.return_date,": ",se.returned_at||"Not Returned"]}),T.jsxs("div",{className:"loan-history-card-detail",children:[ae.delivery_status,": ",se.book_state||"N/A"]})]},se.id))})]}),e==="return"&&T.jsxs("div",{className:"mt-6",children:[T.jsx("div",{className:"mt-4",children:T.jsxs("select",{value:y||"",onChange:se=>{const le=se.target.value;x(le);const _e=u.find(de=>de.qr_code===le)||B.find(de=>de.qr_code===le);_e&&S(_e)},className:"w-full p-2 border rounded",style:{borderColor:en.coral},children:[T.jsx("option",{value:"",children:ae.Select_Book}),u.concat(B).map(se=>T.jsx("option",{value:se.qr_code,children:se.title},se.qr_code))]})}),T.jsxs("div",{className:"mt-4",children:[T.jsxs("button",{className:"w-full flex items-center justify-center py-2 px-4 rounded text-white",style:{backgroundColor:en.coral},onClick:Tt,children:[T.jsx(qc,{className:"w-4 h-4 mr-2"}),ae.ScanQR]}),T.jsx("button",{className:"w-full py-2 px-4 rounded text-white mt-2",style:{backgroundColor:en.coral},onClick:xt,disabled:!I,children:ae.return}),T.jsxs("button",{className:"w-full flex items-center justify-center py-2 px-4 rounded text-white mt-2",style:{backgroundColor:en.teal},onClick:()=>Ae(!pe),children:[T.jsx(pw,{className:"w-4 h-4 mr-2"}),ae.SendReminders]})]}),T.jsx("div",{className:"flex items-center my-4",children:T.jsxs("label",{className:"ml-4 flex items-center",children:[T.jsx("input",{id:"checkbox_showall",type:"checkbox",checked:Z,onChange:be,className:"mr-2"}),ae.ShowAllLoans]})}),pe&&j.filter(se=>!se.returned_at).length>0&&T.jsxs("div",{className:"reminder-section bg-gray-100 p-4 rounded-lg mb-4",children:[T.jsxs("div",{className:"flex items-center justify-between mb-2",children:[T.jsx("h3",{className:"text-lg font-semibold",children:"Send Reminders"}),T.jsxs("label",{className:"flex items-center",children:[T.jsx("input",{type:"checkbox",checked:Ue.length===j.filter(se=>!se.returned_at).length,onChange:se=>{if(se.target.checked){const le=j.filter(_e=>!_e.returned_at);W(le)}else W([])},className:"mr-2"}),"Select All"]})]}),T.jsx("button",{className:"w-full py-2 px-4 rounded text-white",style:{backgroundColor:en.coral},onClick:We,disabled:Ue.length===0||De,children:De?"Sending...":`Send ${Ue.length} Reminders`})]}),j.length>0&&T.jsx("div",{className:`loan-history-container ${ie==="he"?"rtl":""}`,children:j.map(se=>T.jsxs("div",{className:`loan-history-card ${se.returned_at?"":"active-loan"} ${ie==="he"?"rtl":""}`,onClick:()=>{const le=u.find(_e=>_e.qr_code===se.book_qr_code)||B.find(_e=>_e.qr_code===se.book_qr_code);le&&(S(le),x(le.qr_code)),window.scrollTo({top:0,behavior:"smooth"})},style:{cursor:"pointer"},children:[pe&&!se.returned_at&&T.jsx("input",{type:"checkbox",checked:Ue.some(le=>le.id===se.id),onChange:le=>{le.target.checked?W([...Ue,se]):W(Ue.filter(_e=>_e.id!==se.id))},className:"mr-2 ml-2 flex-shrink-0"}),T.jsxs("div",{className:"flex-grow",children:[T.jsx("div",{className:"loan-history-card-title",children:se.book_title}),T.jsxs("div",{className:"loan-history-card-detail",children:[ae.borrowed_by,": ",se.borrower_name]}),T.jsxs("div",{className:"loan-history-card-detail",children:[ae.borrow_date,": ",se.borrowed_at]}),T.jsxs("div",{className:"loan-history-card-detail",children:[ae.return_date,": ",se.returned_at||"Not Returned"]}),T.jsxs("div",{className:"loan-history-card-detail",children:[ae.delivery_status,": ",se.book_state||"N/A"]}),T.jsxs("div",{className:"loan-history-card-detail",children:[ae.last_reminder,": ",se.last_reminder_date||"No Reminders Sent"]})]})]},se.id))})]})]})}const $h=navigator.language||"en-US",Jh="http://localhost:5000",Kw=async(e="desc",n="title",i=!0)=>{try{const a=new URLSearchParams({order_by:e,sort_column:n,include_history:i.toString()});return(await Be.get(`${Jh}/api/generate_books_report?${a.toString()}`,{headers:{"Accept-Language":$h},responseType:"blob"})).data}catch(a){throw console.error("Error generating books report:",a),a}},qw=async(e="desc",n="title",i=!1)=>{try{const a=new URLSearchParams({order_by:e,sort_column:n,include_borrowed:i.toString()});return(await Be.get(`${Jh}/api/generate_inventory_report?${a.toString()}`,{headers:{"Accept-Language":$h},responseType:"blob"})).data}catch(a){throw console.error("Error generating inventory report:",a),a}},Qw=()=>{const{language:e,toggleLanguage:n}=as(),i=ls(e),[a,u]=z.useState(!1),[f,g]=z.useState(!0),[m,y]=z.useState("desc"),[x,v]=z.useState(""),[S,R]=z.useState(""),L={inventory:[{value:"title",label:i.book_title},{value:"author",label:i.author},{value:"id",label:i.id},{value:"loan_status",label:i.loan_status}],loans:[{value:"title",label:i.book_title},{value:"author",label:i.author},{value:"id",label:i.id}]},B=async()=>{try{let k;S==="inventory"?k=await qw(m,x,f):S==="loans"&&(k=await Kw(m,x,a));const X=window.URL.createObjectURL(new Blob([k])),O=document.createElement("a");O.href=X,O.setAttribute("download",`${S}_report.xlsx`),document.body.appendChild(O),O.click()}catch(k){console.error("Error generating report:",k),alert(i.error_generating_report)}};return T.jsxs("div",{className:`report-container ${e==="he"?"rtl":""}`,children:[T.jsx("button",{className:"w-12 h-12 flex items-center justify-center rounded-full border border-teal-500 bg-white text-teal-500 shadow-md absolute top-4 left-4",onClick:n,children:e==="en"?"HE":"EN"}),T.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-md",children:[T.jsxs("div",{className:"flex items-center justify-center mb-4",children:[T.jsx(fw,{className:"w-6 h-6 mr-2 text-teal-500"}),T.jsx("h2",{className:"text-xl font-bold text-gray-800",children:i.reports})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[T.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[T.jsxs("h3",{className:"text-md font-semibold text-teal-600 mb-3 flex items-center",children:[T.jsx(hw,{className:"w-4 h-4 mr-2"}),i.select_report_type]}),T.jsx("div",{className:"space-y-2",children:["inventory","loans"].map(k=>T.jsx("button",{onClick:()=>R(k),className:`w-full p-2 rounded-lg text-left text-sm ${S===k?"bg-teal-500 text-white shadow-md":"bg-white text-gray-700 hover:bg-gray-100 border border-gray-200"}`,children:k==="inventory"?i.inventory_report:i.loans_report},k))})]}),T.jsx("div",{className:`bg-white p-4 rounded-lg border border-gray-100 ${S?"":"opacity-50 pointer-events-none"}`,children:S&&T.jsxs("div",{className:"space-y-3",children:[T.jsxs("h3",{className:"text-md font-semibold text-teal-600 mb-3 flex items-center",children:[T.jsx(gw,{className:"w-4 h-4 mr-2"}),i.report_options]}),T.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[S==="loans"&&T.jsxs("div",{className:"flex items-center col-span-2",children:[T.jsx("input",{type:"checkbox",checked:a,onChange:k=>u(k.target.checked),className:"mr-2"}),T.jsx("label",{children:i.include_history})]}),S==="inventory"&&T.jsxs("div",{className:"flex items-center col-span-2",children:[T.jsx("input",{type:"checkbox",checked:f,onChange:k=>g(k.target.checked),className:"mr-2"}),T.jsx("label",{children:i.include_borrowed})]}),T.jsxs("div",{className:"flex flex-col",children:[T.jsx("label",{children:i.sort_by}),T.jsxs("select",{value:x,onChange:k=>v(k.target.value),className:"border rounded-md",children:[T.jsx("option",{value:"",children:i.select_field}),L[S].map(k=>T.jsx("option",{value:k.value,children:k.label},k.value))]})]}),T.jsxs("div",{className:"flex flex-col",children:[T.jsx("label",{children:i.order}),T.jsxs("select",{value:m,onChange:k=>y(k.target.value),className:"border rounded-md",children:[T.jsx("option",{value:"asc",children:i.ascending}),T.jsx("option",{value:"desc",children:i.descending})]})]})]}),T.jsxs("button",{onClick:B,disabled:!x,className:"w-full p-2 bg-teal-500 text-white rounded-md",children:[T.jsx(dw,{className:"w-4 h-4 mr-2"}),i.generate_report_button]})]})})]})]})]})};function sr(e,n,{checkForDefaultPrevented:i=!0}={}){return function(u){if(e==null||e(u),i===!1||!u.defaultPrevented)return n==null?void 0:n(u)}}function $w(e,n=[]){let i=[];function a(f,g){const m=z.createContext(g),y=i.length;i=[...i,g];const x=S=>{var O;const{scope:R,children:L,...B}=S,k=((O=R==null?void 0:R[e])==null?void 0:O[y])||m,X=z.useMemo(()=>B,Object.values(B));return T.jsx(k.Provider,{value:X,children:L})};x.displayName=f+"Provider";function v(S,R){var k;const L=((k=R==null?void 0:R[e])==null?void 0:k[y])||m,B=z.useContext(L);if(B)return B;if(g!==void 0)return g;throw new Error(`\`${S}\` must be used within \`${f}\``)}return[x,v]}const u=()=>{const f=i.map(g=>z.createContext(g));return function(m){const y=(m==null?void 0:m[e])||f;return z.useMemo(()=>({[`__scope${e}`]:{...m,[e]:y}}),[m,y])}};return u.scopeName=e,[a,Jw(u,...n)]}function Jw(...e){const n=e[0];if(e.length===1)return n;const i=()=>{const a=e.map(u=>({useScope:u(),scopeName:u.scopeName}));return function(f){const g=a.reduce((m,{useScope:y,scopeName:x})=>{const S=y(f)[`__scope${x}`];return{...m,...S}},{});return z.useMemo(()=>({[`__scope${n.scopeName}`]:g}),[g])}};return i.scopeName=n.scopeName,i}function e3(e,n=[]){let i=[];function a(f,g){const m=z.createContext(g),y=i.length;i=[...i,g];function x(S){const{scope:R,children:L,...B}=S,k=(R==null?void 0:R[e][y])||m,X=z.useMemo(()=>B,Object.values(B));return T.jsx(k.Provider,{value:X,children:L})}function v(S,R){const L=(R==null?void 0:R[e][y])||m,B=z.useContext(L);if(B)return B;if(g!==void 0)return g;throw new Error(`\`${S}\` must be used within \`${f}\``)}return x.displayName=f+"Provider",[x,v]}const u=()=>{const f=i.map(g=>z.createContext(g));return function(m){const y=(m==null?void 0:m[e])||f;return z.useMemo(()=>({[`__scope${e}`]:{...m,[e]:y}}),[m,y])}};return u.scopeName=e,[a,t3(u,...n)]}function t3(...e){const n=e[0];if(e.length===1)return n;const i=()=>{const a=e.map(u=>({useScope:u(),scopeName:u.scopeName}));return function(f){const g=a.reduce((m,{useScope:y,scopeName:x})=>{const S=y(f)[`__scope${x}`];return{...m,...S}},{});return z.useMemo(()=>({[`__scope${n.scopeName}`]:g}),[g])}};return i.scopeName=n.scopeName,i}function n3(e,n){typeof e=="function"?e(n):e!=null&&(e.current=n)}function e2(...e){return n=>e.forEach(i=>n3(i,n))}function Ta(...e){return z.useCallback(e2(...e),e)}var ba=z.forwardRef((e,n)=>{const{children:i,...a}=e,u=z.Children.toArray(i),f=u.find(i3);if(f){const g=f.props.children,m=u.map(y=>y===f?z.Children.count(g)>1?z.Children.only(null):z.isValidElement(g)?g.props.children:null:y);return T.jsx(Jc,{...a,ref:n,children:z.isValidElement(g)?z.cloneElement(g,void 0,m):null})}return T.jsx(Jc,{...a,ref:n,children:i})});ba.displayName="Slot";var Jc=z.forwardRef((e,n)=>{const{children:i,...a}=e;if(z.isValidElement(i)){const u=s3(i);return z.cloneElement(i,{...o3(a,i.props),ref:n?e2(n,u):u})}return z.Children.count(i)>1?z.Children.only(null):null});Jc.displayName="SlotClone";var r3=({children:e})=>T.jsx(T.Fragment,{children:e});function i3(e){return z.isValidElement(e)&&e.type===r3}function o3(e,n){const i={...n};for(const a in n){const u=e[a],f=n[a];/^on[A-Z]/.test(a)?u&&f?i[a]=(...m)=>{f(...m),u(...m)}:u&&(i[a]=u):a==="style"?i[a]={...u,...f}:a==="className"&&(i[a]=[u,f].filter(Boolean).join(" "))}return{...e,...i}}function s3(e){var a,u;let n=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,i=n&&"isReactWarning"in n&&n.isReactWarning;return i?e.ref:(n=(u=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:u.get,i=n&&"isReactWarning"in n&&n.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}function a3(e){const n=e+"CollectionProvider",[i,a]=e3(n),[u,f]=i(n,{collectionRef:{current:null},itemMap:new Map}),g=L=>{const{scope:B,children:k}=L,X=Sr.useRef(null),O=Sr.useRef(new Map).current;return T.jsx(u,{scope:B,itemMap:O,collectionRef:X,children:k})};g.displayName=n;const m=e+"CollectionSlot",y=Sr.forwardRef((L,B)=>{const{scope:k,children:X}=L,O=f(m,k),I=Ta(B,O.collectionRef);return T.jsx(ba,{ref:I,children:X})});y.displayName=m;const x=e+"CollectionItemSlot",v="data-radix-collection-item",S=Sr.forwardRef((L,B)=>{const{scope:k,children:X,...O}=L,I=Sr.useRef(null),b=Ta(B,I),j=f(x,k);return Sr.useEffect(()=>(j.itemMap.set(I,{ref:I,...O}),()=>void j.itemMap.delete(I))),T.jsx(ba,{[v]:"",ref:b,children:X})});S.displayName=x;function R(L){const B=f(e+"CollectionConsumer",L);return Sr.useCallback(()=>{const X=B.collectionRef.current;if(!X)return[];const O=Array.from(X.querySelectorAll(`[${v}]`));return Array.from(B.itemMap.values()).sort((j,K)=>O.indexOf(j.ref.current)-O.indexOf(K.ref.current))},[B.collectionRef,B.itemMap])}return[{Provider:g,Slot:y,ItemSlot:S},R,a]}function l3(e,n=[]){let i=[];function a(f,g){const m=z.createContext(g),y=i.length;i=[...i,g];function x(S){const{scope:R,children:L,...B}=S,k=(R==null?void 0:R[e][y])||m,X=z.useMemo(()=>B,Object.values(B));return T.jsx(k.Provider,{value:X,children:L})}function v(S,R){const L=(R==null?void 0:R[e][y])||m,B=z.useContext(L);if(B)return B;if(g!==void 0)return g;throw new Error(`\`${S}\` must be used within \`${f}\``)}return x.displayName=f+"Provider",[x,v]}const u=()=>{const f=i.map(g=>z.createContext(g));return function(m){const y=(m==null?void 0:m[e])||f;return z.useMemo(()=>({[`__scope${e}`]:{...m,[e]:y}}),[m,y])}};return u.scopeName=e,[a,c3(u,...n)]}function c3(...e){const n=e[0];if(e.length===1)return n;const i=()=>{const a=e.map(u=>({useScope:u(),scopeName:u.scopeName}));return function(f){const g=a.reduce((m,{useScope:y,scopeName:x})=>{const S=y(f)[`__scope${x}`];return{...m,...S}},{});return z.useMemo(()=>({[`__scope${n.scopeName}`]:g}),[g])}};return i.scopeName=n.scopeName,i}var eu=globalThis!=null&&globalThis.document?z.useLayoutEffect:()=>{},u3=fg.useId||(()=>{}),f3=0;function t2(e){const[n,i]=z.useState(u3());return eu(()=>{e||i(a=>a??String(f3++))},[e]),e||(n?`radix-${n}`:"")}var d3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ji=d3.reduce((e,n)=>{const i=z.forwardRef((a,u)=>{const{asChild:f,...g}=a,m=f?ba:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),T.jsx(m,{...g,ref:u})});return i.displayName=`Primitive.${n}`,{...e,[n]:i}},{});function n1(e){const n=z.useRef(e);return z.useEffect(()=>{n.current=e}),z.useMemo(()=>(...i)=>{var a;return(a=n.current)==null?void 0:a.call(n,...i)},[])}function n2({prop:e,defaultProp:n,onChange:i=()=>{}}){const[a,u]=h3({defaultProp:n,onChange:i}),f=e!==void 0,g=f?e:a,m=n1(i),y=z.useCallback(x=>{if(f){const S=typeof x=="function"?x(e):x;S!==e&&m(S)}else u(x)},[f,e,u,m]);return[g,y]}function h3({defaultProp:e,onChange:n}){const i=z.useState(e),[a]=i,u=z.useRef(a),f=n1(n);return z.useEffect(()=>{u.current!==a&&(f(a),u.current=a)},[a,u,f]),i}var g3=z.createContext(void 0);function r2(e){const n=z.useContext(g3);return e||n||"ltr"}var ql="rovingFocusGroup.onEntryFocus",p3={bubbles:!1,cancelable:!0},$a="RovingFocusGroup",[tu,i2,x3]=a3($a),[m3,o2]=l3($a,[x3]),[w3,y3]=m3($a),s2=z.forwardRef((e,n)=>T.jsx(tu.Provider,{scope:e.__scopeRovingFocusGroup,children:T.jsx(tu.Slot,{scope:e.__scopeRovingFocusGroup,children:T.jsx(E3,{...e,ref:n})})}));s2.displayName=$a;var E3=z.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:i,orientation:a,loop:u=!1,dir:f,currentTabStopId:g,defaultCurrentTabStopId:m,onCurrentTabStopIdChange:y,onEntryFocus:x,preventScrollOnEntryFocus:v=!1,...S}=e,R=z.useRef(null),L=Ta(n,R),B=r2(f),[k=null,X]=n2({prop:g,defaultProp:m,onChange:y}),[O,I]=z.useState(!1),b=n1(x),j=i2(i),K=z.useRef(!1),[Z,P]=z.useState(0);return z.useEffect(()=>{const q=R.current;if(q)return q.addEventListener(ql,b),()=>q.removeEventListener(ql,b)},[b]),T.jsx(w3,{scope:i,orientation:a,dir:B,loop:u,currentTabStopId:k,onItemFocus:z.useCallback(q=>X(q),[X]),onItemShiftTab:z.useCallback(()=>I(!0),[]),onFocusableItemAdd:z.useCallback(()=>P(q=>q+1),[]),onFocusableItemRemove:z.useCallback(()=>P(q=>q-1),[]),children:T.jsx(Ji.div,{tabIndex:O||Z===0?-1:0,"data-orientation":a,...S,ref:L,style:{outline:"none",...e.style},onMouseDown:sr(e.onMouseDown,()=>{K.current=!0}),onFocus:sr(e.onFocus,q=>{const Y=!K.current;if(q.target===q.currentTarget&&Y&&!O){const Ee=new CustomEvent(ql,p3);if(q.currentTarget.dispatchEvent(Ee),!Ee.defaultPrevented){const Ie=j().filter(De=>De.focusable),pe=Ie.find(De=>De.active),Ae=Ie.find(De=>De.id===k),W=[pe,Ae,...Ie].filter(Boolean).map(De=>De.ref.current);c2(W,v)}}K.current=!1}),onBlur:sr(e.onBlur,()=>I(!1))})})}),a2="RovingFocusGroupItem",l2=z.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:i,focusable:a=!0,active:u=!1,tabStopId:f,...g}=e,m=t2(),y=f||m,x=y3(a2,i),v=x.currentTabStopId===y,S=i2(i),{onFocusableItemAdd:R,onFocusableItemRemove:L}=x;return z.useEffect(()=>{if(a)return R(),()=>L()},[a,R,L]),T.jsx(tu.ItemSlot,{scope:i,id:y,focusable:a,active:u,children:T.jsx(Ji.span,{tabIndex:v?0:-1,"data-orientation":x.orientation,...g,ref:n,onMouseDown:sr(e.onMouseDown,B=>{a?x.onItemFocus(y):B.preventDefault()}),onFocus:sr(e.onFocus,()=>x.onItemFocus(y)),onKeyDown:sr(e.onKeyDown,B=>{if(B.key==="Tab"&&B.shiftKey){x.onItemShiftTab();return}if(B.target!==B.currentTarget)return;const k=S3(B,x.orientation,x.dir);if(k!==void 0){if(B.metaKey||B.ctrlKey||B.altKey||B.shiftKey)return;B.preventDefault();let O=S().filter(I=>I.focusable).map(I=>I.ref.current);if(k==="last")O.reverse();else if(k==="prev"||k==="next"){k==="prev"&&O.reverse();const I=O.indexOf(B.currentTarget);O=x.loop?v3(O,I+1):O.slice(I+1)}setTimeout(()=>c2(O))}})})})});l2.displayName=a2;var C3={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function A3(e,n){return n!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function S3(e,n,i){const a=A3(e.key,i);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return C3[a]}function c2(e,n=!1){const i=document.activeElement;for(const a of e)if(a===i||(a.focus({preventScroll:n}),document.activeElement!==i))return}function v3(e,n){return e.map((i,a)=>e[(n+a)%e.length])}var _3=s2,I3=l2;function N3(e,n){return z.useReducer((i,a)=>n[i][a]??i,e)}var u2=e=>{const{present:n,children:i}=e,a=T3(n),u=typeof i=="function"?i({present:a.isPresent}):z.Children.only(i),f=Ta(a.ref,b3(u));return typeof i=="function"||a.isPresent?z.cloneElement(u,{ref:f}):null};u2.displayName="Presence";function T3(e){const[n,i]=z.useState(),a=z.useRef({}),u=z.useRef(e),f=z.useRef("none"),g=e?"mounted":"unmounted",[m,y]=N3(g,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return z.useEffect(()=>{const x=Fs(a.current);f.current=m==="mounted"?x:"none"},[m]),eu(()=>{const x=a.current,v=u.current;if(v!==e){const R=f.current,L=Fs(x);e?y("MOUNT"):L==="none"||(x==null?void 0:x.display)==="none"?y("UNMOUNT"):y(v&&R!==L?"ANIMATION_OUT":"UNMOUNT"),u.current=e}},[e,y]),eu(()=>{if(n){let x;const v=n.ownerDocument.defaultView??window,S=L=>{const k=Fs(a.current).includes(L.animationName);if(L.target===n&&k&&(y("ANIMATION_END"),!u.current)){const X=n.style.animationFillMode;n.style.animationFillMode="forwards",x=v.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=X)})}},R=L=>{L.target===n&&(f.current=Fs(a.current))};return n.addEventListener("animationstart",R),n.addEventListener("animationcancel",S),n.addEventListener("animationend",S),()=>{v.clearTimeout(x),n.removeEventListener("animationstart",R),n.removeEventListener("animationcancel",S),n.removeEventListener("animationend",S)}}else y("ANIMATION_END")},[n,y]),{isPresent:["mounted","unmountSuspended"].includes(m),ref:z.useCallback(x=>{x&&(a.current=getComputedStyle(x)),i(x)},[])}}function Fs(e){return(e==null?void 0:e.animationName)||"none"}function b3(e){var a,u;let n=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,i=n&&"isReactWarning"in n&&n.isReactWarning;return i?e.ref:(n=(u=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:u.get,i=n&&"isReactWarning"in n&&n.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}var r1="Tabs",[R3,B3]=$w(r1,[o2]),f2=o2(),[O3,i1]=R3(r1),d2=z.forwardRef((e,n)=>{const{__scopeTabs:i,value:a,onValueChange:u,defaultValue:f,orientation:g="horizontal",dir:m,activationMode:y="automatic",...x}=e,v=r2(m),[S,R]=n2({prop:a,onChange:u,defaultProp:f});return T.jsx(O3,{scope:i,baseId:t2(),value:S,onValueChange:R,orientation:g,dir:v,activationMode:y,children:T.jsx(Ji.div,{dir:v,"data-orientation":g,...x,ref:n})})});d2.displayName=r1;var h2="TabsList",g2=z.forwardRef((e,n)=>{const{__scopeTabs:i,loop:a=!0,...u}=e,f=i1(h2,i),g=f2(i);return T.jsx(_3,{asChild:!0,...g,orientation:f.orientation,dir:f.dir,loop:a,children:T.jsx(Ji.div,{role:"tablist","aria-orientation":f.orientation,...u,ref:n})})});g2.displayName=h2;var p2="TabsTrigger",_o=z.forwardRef((e,n)=>{const{__scopeTabs:i,value:a,disabled:u=!1,...f}=e,g=i1(p2,i),m=f2(i),y=m2(g.baseId,a),x=w2(g.baseId,a),v=a===g.value;return T.jsx(I3,{asChild:!0,...m,focusable:!u,active:v,children:T.jsx(Ji.button,{type:"button",role:"tab","aria-selected":v,"aria-controls":x,"data-state":v?"active":"inactive","data-disabled":u?"":void 0,disabled:u,id:y,...f,ref:n,onMouseDown:sr(e.onMouseDown,S=>{!u&&S.button===0&&S.ctrlKey===!1?g.onValueChange(a):S.preventDefault()}),onKeyDown:sr(e.onKeyDown,S=>{[" ","Enter"].includes(S.key)&&g.onValueChange(a)}),onFocus:sr(e.onFocus,()=>{const S=g.activationMode!=="manual";!v&&!u&&S&&g.onValueChange(a)})})})});_o.displayName=p2;var x2="TabsContent",Io=z.forwardRef((e,n)=>{const{__scopeTabs:i,value:a,forceMount:u,children:f,...g}=e,m=i1(x2,i),y=m2(m.baseId,a),x=w2(m.baseId,a),v=a===m.value,S=z.useRef(v);return z.useEffect(()=>{const R=requestAnimationFrame(()=>S.current=!1);return()=>cancelAnimationFrame(R)},[]),T.jsx(u2,{present:u||v,children:({present:R})=>T.jsx(Ji.div,{"data-state":v?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":y,hidden:!R,id:x,tabIndex:0,...g,ref:n,style:{...e.style,animationDuration:S.current?"0s":void 0},children:R&&f})})});Io.displayName=x2;function m2(e,n){return`${e}-trigger-${n}`}function w2(e,n){return`${e}-content-${n}`}const D3="/icm_lib/assets/img-Dm6ee46N.png";function k3(){return T.jsx(tw,{children:T.jsx(M3,{})})}function M3(){const{language:e,toggleLanguage:n}=as(),i=ls(e);return T.jsxs("div",{className:"app-container min-h-screen bg-blend-screen max-w-md mx-auto",children:[T.jsx("header",{className:"bg-white",children:T.jsxs("div",{className:"max-w-md mx-auto flex items-start justify-items-center p-4",children:[T.jsx("img",{src:D3,alt:"ICM Library Logo",className:"max-h-16 sm:max-h-20"}),T.jsx("div",{className:"logo",children:T.jsx("p",{className:"text-sm text-gray-600",children:i.app_title})})]})}),T.jsx("div",{className:"max-w-md mx-auto",children:T.jsxs(d2,{defaultValue:"inventory",className:"w-full",children:[T.jsxs(g2,{className:"tabs-list w-full bg-white shadow-md rounded-lg grid grid-cols-4",children:[T.jsxs(_o,{value:"inventory",className:"tab-item flex items-center justify-center data-[state=active]:bg-teal-500 data-[state=active]:text-white text-gray-800 py-2 rounded-t-lg hover:bg-gray-100",children:[T.jsx(cw,{className:"w-4 h-4 mr-2"}),i.books]}),T.jsxs(_o,{value:"members",className:"tab-item flex items-center justify-center data-[state=active]:bg-[#FDB813] data-[state=active]:text-white text-gray-800 py-2 rounded-t-lg hover:bg-gray-100",children:[T.jsx(xw,{className:"w-4 h-4 mr-2"}),i.members]}),T.jsxs(_o,{value:"loans",className:"tab-item flex items-center justify-center data-[state=active]:bg-red-500 data-[state=active]:text-white text-gray-800 py-2 rounded-t-lg hover:bg-gray-100",children:[T.jsx(qc,{className:"w-4 h-4 mr-2"}),i.loans]}),T.jsxs(_o,{value:"reports",className:"tab-item flex items-center justify-center data-[state=active]:bg-purple-500 data-[state=active]:text-white text-gray-800 py-2 rounded-t-lg hover:bg-gray-100",children:[T.jsx(uw,{className:"w-4 h-4 mr-2"}),i.reports]})]}),T.jsx(Io,{value:"inventory",children:T.jsx(iw,{})}),T.jsx(Io,{value:"members",children:T.jsx(ow,{})}),T.jsx(Io,{value:"loans",children:T.jsx(Zw,{})}),T.jsx(Io,{value:"reports",children:T.jsx(Qw,{})})]})})]})}Ch(document.getElementById("root")).render(T.jsx(z.StrictMode,{children:T.jsx(k3,{})}));
//# sourceMappingURL=index-DFCvwkmr.js.map
