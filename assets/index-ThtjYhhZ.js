import{r as O,a as Ta,R as gs,c as fr,g as Qc,b as Bn}from"./vendor-Cx6VpA1G.js";function Jc(i,s){for(var l=0;l<s.length;l++){const d=s[l];if(typeof d!="string"&&!Array.isArray(d)){for(const c in d)if(c!=="default"&&!(c in i)){const h=Object.getOwnPropertyDescriptor(d,c);h&&Object.defineProperty(i,c,h.get?h:{enumerable:!0,get:()=>d[c]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))d(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const x of h.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&d(x)}).observe(document,{childList:!0,subtree:!0});function l(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerPolicy&&(h.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?h.credentials="include":c.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function d(c){if(c.ep)return;c.ep=!0;const h=l(c);fetch(c.href,h)}})();var Oa={exports:{}},hi={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eu=O,tu=Symbol.for("react.element"),nu=Symbol.for("react.fragment"),ru=Object.prototype.hasOwnProperty,iu=eu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,su={key:!0,ref:!0,__self:!0,__source:!0};function Na(i,s,l){var d,c={},h=null,x=null;l!==void 0&&(h=""+l),s.key!==void 0&&(h=""+s.key),s.ref!==void 0&&(x=s.ref);for(d in s)ru.call(s,d)&&!su.hasOwnProperty(d)&&(c[d]=s[d]);if(i&&i.defaultProps)for(d in s=i.defaultProps,s)c[d]===void 0&&(c[d]=s[d]);return{$$typeof:tu,type:i,key:h,ref:x,props:c,_owner:iu.current}}hi.Fragment=nu;hi.jsx=Na;hi.jsxs=Na;Oa.exports=hi;var _=Oa.exports,Ra,Io=Ta;Ra=Io.createRoot,Io.hydrateRoot;function Ma(i,s){return function(){return i.apply(s,arguments)}}const{toString:ou}=Object.prototype,{getPrototypeOf:Ls}=Object,gi=(i=>s=>{const l=ou.call(s);return i[l]||(i[l]=l.slice(8,-1).toLowerCase())})(Object.create(null)),en=i=>(i=i.toLowerCase(),s=>gi(s)===i),xi=i=>s=>typeof s===i,{isArray:Jn}=Array,Cr=xi("undefined");function au(i){return i!==null&&!Cr(i)&&i.constructor!==null&&!Cr(i.constructor)&&jt(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const Da=en("ArrayBuffer");function lu(i){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(i):s=i&&i.buffer&&Da(i.buffer),s}const cu=xi("string"),jt=xi("function"),Pa=xi("number"),pi=i=>i!==null&&typeof i=="object",uu=i=>i===!0||i===!1,zr=i=>{if(gi(i)!=="object")return!1;const s=Ls(i);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},du=en("Date"),fu=en("File"),hu=en("Blob"),gu=en("FileList"),xu=i=>pi(i)&&jt(i.pipe),pu=i=>{let s;return i&&(typeof FormData=="function"&&i instanceof FormData||jt(i.append)&&((s=gi(i))==="formdata"||s==="object"&&jt(i.toString)&&i.toString()==="[object FormData]"))},mu=en("URLSearchParams"),[wu,bu,Cu,Eu]=["ReadableStream","Request","Response","Headers"].map(en),Au=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function vr(i,s,{allOwnKeys:l=!1}={}){if(i===null||typeof i>"u")return;let d,c;if(typeof i!="object"&&(i=[i]),Jn(i))for(d=0,c=i.length;d<c;d++)s.call(null,i[d],d,i);else{const h=l?Object.getOwnPropertyNames(i):Object.keys(i),x=h.length;let b;for(d=0;d<x;d++)b=h[d],s.call(null,i[b],b,i)}}function Ba(i,s){s=s.toLowerCase();const l=Object.keys(i);let d=l.length,c;for(;d-- >0;)if(c=l[d],s===c.toLowerCase())return c;return null}const Ln=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,La=i=>!Cr(i)&&i!==Ln;function xs(){const{caseless:i}=La(this)&&this||{},s={},l=(d,c)=>{const h=i&&Ba(s,c)||c;zr(s[h])&&zr(d)?s[h]=xs(s[h],d):zr(d)?s[h]=xs({},d):Jn(d)?s[h]=d.slice():s[h]=d};for(let d=0,c=arguments.length;d<c;d++)arguments[d]&&vr(arguments[d],l);return s}const yu=(i,s,l,{allOwnKeys:d}={})=>(vr(s,(c,h)=>{l&&jt(c)?i[h]=Ma(c,l):i[h]=c},{allOwnKeys:d}),i),vu=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),Su=(i,s,l,d)=>{i.prototype=Object.create(s.prototype,d),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:s.prototype}),l&&Object.assign(i.prototype,l)},Iu=(i,s,l,d)=>{let c,h,x;const b={};if(s=s||{},i==null)return s;do{for(c=Object.getOwnPropertyNames(i),h=c.length;h-- >0;)x=c[h],(!d||d(x,i,s))&&!b[x]&&(s[x]=i[x],b[x]=!0);i=l!==!1&&Ls(i)}while(i&&(!l||l(i,s))&&i!==Object.prototype);return s},_u=(i,s,l)=>{i=String(i),(l===void 0||l>i.length)&&(l=i.length),l-=s.length;const d=i.indexOf(s,l);return d!==-1&&d===l},Tu=i=>{if(!i)return null;if(Jn(i))return i;let s=i.length;if(!Pa(s))return null;const l=new Array(s);for(;s-- >0;)l[s]=i[s];return l},Ou=(i=>s=>i&&s instanceof i)(typeof Uint8Array<"u"&&Ls(Uint8Array)),Nu=(i,s)=>{const d=(i&&i[Symbol.iterator]).call(i);let c;for(;(c=d.next())&&!c.done;){const h=c.value;s.call(i,h[0],h[1])}},Ru=(i,s)=>{let l;const d=[];for(;(l=i.exec(s))!==null;)d.push(l);return d},Mu=en("HTMLFormElement"),Du=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(l,d,c){return d.toUpperCase()+c}),_o=(({hasOwnProperty:i})=>(s,l)=>i.call(s,l))(Object.prototype),Pu=en("RegExp"),ka=(i,s)=>{const l=Object.getOwnPropertyDescriptors(i),d={};vr(l,(c,h)=>{let x;(x=s(c,h,i))!==!1&&(d[h]=x||c)}),Object.defineProperties(i,d)},Bu=i=>{ka(i,(s,l)=>{if(jt(i)&&["arguments","caller","callee"].indexOf(l)!==-1)return!1;const d=i[l];if(jt(d)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+l+"'")})}})},Lu=(i,s)=>{const l={},d=c=>{c.forEach(h=>{l[h]=!0})};return Jn(i)?d(i):d(String(i).split(s)),l},ku=()=>{},Fu=(i,s)=>i!=null&&Number.isFinite(i=+i)?i:s,ts="abcdefghijklmnopqrstuvwxyz",To="0123456789",Fa={DIGIT:To,ALPHA:ts,ALPHA_DIGIT:ts+ts.toUpperCase()+To},Vu=(i=16,s=Fa.ALPHA_DIGIT)=>{let l="";const{length:d}=s;for(;i--;)l+=s[Math.random()*d|0];return l};function Uu(i){return!!(i&&jt(i.append)&&i[Symbol.toStringTag]==="FormData"&&i[Symbol.iterator])}const ju=i=>{const s=new Array(10),l=(d,c)=>{if(pi(d)){if(s.indexOf(d)>=0)return;if(!("toJSON"in d)){s[c]=d;const h=Jn(d)?[]:{};return vr(d,(x,b)=>{const w=l(x,c+1);!Cr(w)&&(h[b]=w)}),s[c]=void 0,h}}return d};return l(i,0)},Hu=en("AsyncFunction"),Wu=i=>i&&(pi(i)||jt(i))&&jt(i.then)&&jt(i.catch),Va=((i,s)=>i?setImmediate:s?((l,d)=>(Ln.addEventListener("message",({source:c,data:h})=>{c===Ln&&h===l&&d.length&&d.shift()()},!1),c=>{d.push(c),Ln.postMessage(l,"*")}))(`axios@${Math.random()}`,[]):l=>setTimeout(l))(typeof setImmediate=="function",jt(Ln.postMessage)),Gu=typeof queueMicrotask<"u"?queueMicrotask.bind(Ln):typeof process<"u"&&process.nextTick||Va,X={isArray:Jn,isArrayBuffer:Da,isBuffer:au,isFormData:pu,isArrayBufferView:lu,isString:cu,isNumber:Pa,isBoolean:uu,isObject:pi,isPlainObject:zr,isReadableStream:wu,isRequest:bu,isResponse:Cu,isHeaders:Eu,isUndefined:Cr,isDate:du,isFile:fu,isBlob:hu,isRegExp:Pu,isFunction:jt,isStream:xu,isURLSearchParams:mu,isTypedArray:Ou,isFileList:gu,forEach:vr,merge:xs,extend:yu,trim:Au,stripBOM:vu,inherits:Su,toFlatObject:Iu,kindOf:gi,kindOfTest:en,endsWith:_u,toArray:Tu,forEachEntry:Nu,matchAll:Ru,isHTMLForm:Mu,hasOwnProperty:_o,hasOwnProp:_o,reduceDescriptors:ka,freezeMethods:Bu,toObjectSet:Lu,toCamelCase:Du,noop:ku,toFiniteNumber:Fu,findKey:Ba,global:Ln,isContextDefined:La,ALPHABET:Fa,generateString:Vu,isSpecCompliantForm:Uu,toJSONObject:ju,isAsyncFn:Hu,isThenable:Wu,setImmediate:Va,asap:Gu};function Se(i,s,l,d,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",s&&(this.code=s),l&&(this.config=l),d&&(this.request=d),c&&(this.response=c,this.status=c.status?c.status:null)}X.inherits(Se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const Ua=Se.prototype,ja={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{ja[i]={value:i}});Object.defineProperties(Se,ja);Object.defineProperty(Ua,"isAxiosError",{value:!0});Se.from=(i,s,l,d,c,h)=>{const x=Object.create(Ua);return X.toFlatObject(i,x,function(w){return w!==Error.prototype},b=>b!=="isAxiosError"),Se.call(x,i.message,s,l,d,c),x.cause=i,x.name=i.name,h&&Object.assign(x,h),x};const Xu=null;function ps(i){return X.isPlainObject(i)||X.isArray(i)}function Ha(i){return X.endsWith(i,"[]")?i.slice(0,-2):i}function Oo(i,s,l){return i?i.concat(s).map(function(c,h){return c=Ha(c),!l&&h?"["+c+"]":c}).join(l?".":""):s}function zu(i){return X.isArray(i)&&!i.some(ps)}const Yu=X.toFlatObject(X,{},null,function(s){return/^is[A-Z]/.test(s)});function mi(i,s,l){if(!X.isObject(i))throw new TypeError("target must be an object");s=s||new FormData,l=X.toFlatObject(l,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,M){return!X.isUndefined(M[T])});const d=l.metaTokens,c=l.visitor||A,h=l.dots,x=l.indexes,w=(l.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(s);if(!X.isFunction(c))throw new TypeError("visitor must be a function");function p(R){if(R===null)return"";if(X.isDate(R))return R.toISOString();if(!w&&X.isBlob(R))throw new Se("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(R)||X.isTypedArray(R)?w&&typeof Blob=="function"?new Blob([R]):Buffer.from(R):R}function A(R,T,M){let k=R;if(R&&!M&&typeof R=="object"){if(X.endsWith(T,"{}"))T=d?T:T.slice(0,-2),R=JSON.stringify(R);else if(X.isArray(R)&&zu(R)||(X.isFileList(R)||X.endsWith(T,"[]"))&&(k=X.toArray(R)))return T=Ha(T),k.forEach(function(G,Y){!(X.isUndefined(G)||G===null)&&s.append(x===!0?Oo([T],Y,h):x===null?T:T+"[]",p(G))}),!1}return ps(R)?!0:(s.append(Oo(M,T,h),p(R)),!1)}const y=[],P=Object.assign(Yu,{defaultVisitor:A,convertValue:p,isVisitable:ps});function B(R,T){if(!X.isUndefined(R)){if(y.indexOf(R)!==-1)throw Error("Circular reference detected in "+T.join("."));y.push(R),X.forEach(R,function(k,j){(!(X.isUndefined(k)||k===null)&&c.call(s,k,X.isString(j)?j.trim():j,T,P))===!0&&B(k,T?T.concat(j):[j])}),y.pop()}}if(!X.isObject(i))throw new TypeError("data must be an object");return B(i),s}function No(i){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(d){return s[d]})}function ks(i,s){this._pairs=[],i&&mi(i,this,s)}const Wa=ks.prototype;Wa.append=function(s,l){this._pairs.push([s,l])};Wa.toString=function(s){const l=s?function(d){return s.call(this,d,No)}:No;return this._pairs.map(function(c){return l(c[0])+"="+l(c[1])},"").join("&")};function qu(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ga(i,s,l){if(!s)return i;const d=l&&l.encode||qu,c=l&&l.serialize;let h;if(c?h=c(s,l):h=X.isURLSearchParams(s)?s.toString():new ks(s,l).toString(d),h){const x=i.indexOf("#");x!==-1&&(i=i.slice(0,x)),i+=(i.indexOf("?")===-1?"?":"&")+h}return i}class Ro{constructor(){this.handlers=[]}use(s,l,d){return this.handlers.push({fulfilled:s,rejected:l,synchronous:d?d.synchronous:!1,runWhen:d?d.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){X.forEach(this.handlers,function(d){d!==null&&s(d)})}}const Xa={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Zu=typeof URLSearchParams<"u"?URLSearchParams:ks,Ku=typeof FormData<"u"?FormData:null,$u=typeof Blob<"u"?Blob:null,Qu={isBrowser:!0,classes:{URLSearchParams:Zu,FormData:Ku,Blob:$u},protocols:["http","https","file","blob","url","data"]},Fs=typeof window<"u"&&typeof document<"u",ms=typeof navigator=="object"&&navigator||void 0,Ju=Fs&&(!ms||["ReactNative","NativeScript","NS"].indexOf(ms.product)<0),e1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",t1=Fs&&window.location.href||"http://localhost",n1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Fs,hasStandardBrowserEnv:Ju,hasStandardBrowserWebWorkerEnv:e1,navigator:ms,origin:t1},Symbol.toStringTag,{value:"Module"})),Lt={...n1,...Qu};function r1(i,s){return mi(i,new Lt.classes.URLSearchParams,Object.assign({visitor:function(l,d,c,h){return Lt.isNode&&X.isBuffer(l)?(this.append(d,l.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)}},s))}function i1(i){return X.matchAll(/\w+|\[(\w*)]/g,i).map(s=>s[0]==="[]"?"":s[1]||s[0])}function s1(i){const s={},l=Object.keys(i);let d;const c=l.length;let h;for(d=0;d<c;d++)h=l[d],s[h]=i[h];return s}function za(i){function s(l,d,c,h){let x=l[h++];if(x==="__proto__")return!0;const b=Number.isFinite(+x),w=h>=l.length;return x=!x&&X.isArray(c)?c.length:x,w?(X.hasOwnProp(c,x)?c[x]=[c[x],d]:c[x]=d,!b):((!c[x]||!X.isObject(c[x]))&&(c[x]=[]),s(l,d,c[x],h)&&X.isArray(c[x])&&(c[x]=s1(c[x])),!b)}if(X.isFormData(i)&&X.isFunction(i.entries)){const l={};return X.forEachEntry(i,(d,c)=>{s(i1(d),c,l,0)}),l}return null}function o1(i,s,l){if(X.isString(i))try{return(s||JSON.parse)(i),X.trim(i)}catch(d){if(d.name!=="SyntaxError")throw d}return(0,JSON.stringify)(i)}const Sr={transitional:Xa,adapter:["xhr","http","fetch"],transformRequest:[function(s,l){const d=l.getContentType()||"",c=d.indexOf("application/json")>-1,h=X.isObject(s);if(h&&X.isHTMLForm(s)&&(s=new FormData(s)),X.isFormData(s))return c?JSON.stringify(za(s)):s;if(X.isArrayBuffer(s)||X.isBuffer(s)||X.isStream(s)||X.isFile(s)||X.isBlob(s)||X.isReadableStream(s))return s;if(X.isArrayBufferView(s))return s.buffer;if(X.isURLSearchParams(s))return l.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let b;if(h){if(d.indexOf("application/x-www-form-urlencoded")>-1)return r1(s,this.formSerializer).toString();if((b=X.isFileList(s))||d.indexOf("multipart/form-data")>-1){const w=this.env&&this.env.FormData;return mi(b?{"files[]":s}:s,w&&new w,this.formSerializer)}}return h||c?(l.setContentType("application/json",!1),o1(s)):s}],transformResponse:[function(s){const l=this.transitional||Sr.transitional,d=l&&l.forcedJSONParsing,c=this.responseType==="json";if(X.isResponse(s)||X.isReadableStream(s))return s;if(s&&X.isString(s)&&(d&&!this.responseType||c)){const x=!(l&&l.silentJSONParsing)&&c;try{return JSON.parse(s)}catch(b){if(x)throw b.name==="SyntaxError"?Se.from(b,Se.ERR_BAD_RESPONSE,this,null,this.response):b}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Lt.classes.FormData,Blob:Lt.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],i=>{Sr.headers[i]={}});const a1=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),l1=i=>{const s={};let l,d,c;return i&&i.split(`
`).forEach(function(x){c=x.indexOf(":"),l=x.substring(0,c).trim().toLowerCase(),d=x.substring(c+1).trim(),!(!l||s[l]&&a1[l])&&(l==="set-cookie"?s[l]?s[l].push(d):s[l]=[d]:s[l]=s[l]?s[l]+", "+d:d)}),s},Mo=Symbol("internals");function hr(i){return i&&String(i).trim().toLowerCase()}function Yr(i){return i===!1||i==null?i:X.isArray(i)?i.map(Yr):String(i)}function c1(i){const s=Object.create(null),l=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let d;for(;d=l.exec(i);)s[d[1]]=d[2];return s}const u1=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function ns(i,s,l,d,c){if(X.isFunction(d))return d.call(this,s,l);if(c&&(s=l),!!X.isString(s)){if(X.isString(d))return s.indexOf(d)!==-1;if(X.isRegExp(d))return d.test(s)}}function d1(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,l,d)=>l.toUpperCase()+d)}function f1(i,s){const l=X.toCamelCase(" "+s);["get","set","has"].forEach(d=>{Object.defineProperty(i,d+l,{value:function(c,h,x){return this[d].call(this,s,c,h,x)},configurable:!0})})}class kt{constructor(s){s&&this.set(s)}set(s,l,d){const c=this;function h(b,w,p){const A=hr(w);if(!A)throw new Error("header name must be a non-empty string");const y=X.findKey(c,A);(!y||c[y]===void 0||p===!0||p===void 0&&c[y]!==!1)&&(c[y||w]=Yr(b))}const x=(b,w)=>X.forEach(b,(p,A)=>h(p,A,w));if(X.isPlainObject(s)||s instanceof this.constructor)x(s,l);else if(X.isString(s)&&(s=s.trim())&&!u1(s))x(l1(s),l);else if(X.isHeaders(s))for(const[b,w]of s.entries())h(w,b,d);else s!=null&&h(l,s,d);return this}get(s,l){if(s=hr(s),s){const d=X.findKey(this,s);if(d){const c=this[d];if(!l)return c;if(l===!0)return c1(c);if(X.isFunction(l))return l.call(this,c,d);if(X.isRegExp(l))return l.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,l){if(s=hr(s),s){const d=X.findKey(this,s);return!!(d&&this[d]!==void 0&&(!l||ns(this,this[d],d,l)))}return!1}delete(s,l){const d=this;let c=!1;function h(x){if(x=hr(x),x){const b=X.findKey(d,x);b&&(!l||ns(d,d[b],b,l))&&(delete d[b],c=!0)}}return X.isArray(s)?s.forEach(h):h(s),c}clear(s){const l=Object.keys(this);let d=l.length,c=!1;for(;d--;){const h=l[d];(!s||ns(this,this[h],h,s,!0))&&(delete this[h],c=!0)}return c}normalize(s){const l=this,d={};return X.forEach(this,(c,h)=>{const x=X.findKey(d,h);if(x){l[x]=Yr(c),delete l[h];return}const b=s?d1(h):String(h).trim();b!==h&&delete l[h],l[b]=Yr(c),d[b]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const l=Object.create(null);return X.forEach(this,(d,c)=>{d!=null&&d!==!1&&(l[c]=s&&X.isArray(d)?d.join(", "):d)}),l}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,l])=>s+": "+l).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...l){const d=new this(s);return l.forEach(c=>d.set(c)),d}static accessor(s){const d=(this[Mo]=this[Mo]={accessors:{}}).accessors,c=this.prototype;function h(x){const b=hr(x);d[b]||(f1(c,x),d[b]=!0)}return X.isArray(s)?s.forEach(h):h(s),this}}kt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.reduceDescriptors(kt.prototype,({value:i},s)=>{let l=s[0].toUpperCase()+s.slice(1);return{get:()=>i,set(d){this[l]=d}}});X.freezeMethods(kt);function rs(i,s){const l=this||Sr,d=s||l,c=kt.from(d.headers);let h=d.data;return X.forEach(i,function(b){h=b.call(l,h,c.normalize(),s?s.status:void 0)}),c.normalize(),h}function Ya(i){return!!(i&&i.__CANCEL__)}function er(i,s,l){Se.call(this,i??"canceled",Se.ERR_CANCELED,s,l),this.name="CanceledError"}X.inherits(er,Se,{__CANCEL__:!0});function qa(i,s,l){const d=l.config.validateStatus;!l.status||!d||d(l.status)?i(l):s(new Se("Request failed with status code "+l.status,[Se.ERR_BAD_REQUEST,Se.ERR_BAD_RESPONSE][Math.floor(l.status/100)-4],l.config,l.request,l))}function h1(i){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return s&&s[1]||""}function g1(i,s){i=i||10;const l=new Array(i),d=new Array(i);let c=0,h=0,x;return s=s!==void 0?s:1e3,function(w){const p=Date.now(),A=d[h];x||(x=p),l[c]=w,d[c]=p;let y=h,P=0;for(;y!==c;)P+=l[y++],y=y%i;if(c=(c+1)%i,c===h&&(h=(h+1)%i),p-x<s)return;const B=A&&p-A;return B?Math.round(P*1e3/B):void 0}}function x1(i,s){let l=0,d=1e3/s,c,h;const x=(p,A=Date.now())=>{l=A,c=null,h&&(clearTimeout(h),h=null),i.apply(null,p)};return[(...p)=>{const A=Date.now(),y=A-l;y>=d?x(p,A):(c=p,h||(h=setTimeout(()=>{h=null,x(c)},d-y)))},()=>c&&x(c)]}const Qr=(i,s,l=3)=>{let d=0;const c=g1(50,250);return x1(h=>{const x=h.loaded,b=h.lengthComputable?h.total:void 0,w=x-d,p=c(w),A=x<=b;d=x;const y={loaded:x,total:b,progress:b?x/b:void 0,bytes:w,rate:p||void 0,estimated:p&&b&&A?(b-x)/p:void 0,event:h,lengthComputable:b!=null,[s?"download":"upload"]:!0};i(y)},l)},Do=(i,s)=>{const l=i!=null;return[d=>s[0]({lengthComputable:l,total:i,loaded:d}),s[1]]},Po=i=>(...s)=>X.asap(()=>i(...s)),p1=Lt.hasStandardBrowserEnv?function(){const s=Lt.navigator&&/(msie|trident)/i.test(Lt.navigator.userAgent),l=document.createElement("a");let d;function c(h){let x=h;return s&&(l.setAttribute("href",x),x=l.href),l.setAttribute("href",x),{href:l.href,protocol:l.protocol?l.protocol.replace(/:$/,""):"",host:l.host,search:l.search?l.search.replace(/^\?/,""):"",hash:l.hash?l.hash.replace(/^#/,""):"",hostname:l.hostname,port:l.port,pathname:l.pathname.charAt(0)==="/"?l.pathname:"/"+l.pathname}}return d=c(window.location.href),function(x){const b=X.isString(x)?c(x):x;return b.protocol===d.protocol&&b.host===d.host}}():function(){return function(){return!0}}(),m1=Lt.hasStandardBrowserEnv?{write(i,s,l,d,c,h){const x=[i+"="+encodeURIComponent(s)];X.isNumber(l)&&x.push("expires="+new Date(l).toGMTString()),X.isString(d)&&x.push("path="+d),X.isString(c)&&x.push("domain="+c),h===!0&&x.push("secure"),document.cookie=x.join("; ")},read(i){const s=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function w1(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function b1(i,s){return s?i.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):i}function Za(i,s){return i&&!w1(s)?b1(i,s):s}const Bo=i=>i instanceof kt?{...i}:i;function Fn(i,s){s=s||{};const l={};function d(p,A,y){return X.isPlainObject(p)&&X.isPlainObject(A)?X.merge.call({caseless:y},p,A):X.isPlainObject(A)?X.merge({},A):X.isArray(A)?A.slice():A}function c(p,A,y){if(X.isUndefined(A)){if(!X.isUndefined(p))return d(void 0,p,y)}else return d(p,A,y)}function h(p,A){if(!X.isUndefined(A))return d(void 0,A)}function x(p,A){if(X.isUndefined(A)){if(!X.isUndefined(p))return d(void 0,p)}else return d(void 0,A)}function b(p,A,y){if(y in s)return d(p,A);if(y in i)return d(void 0,p)}const w={url:h,method:h,data:h,baseURL:x,transformRequest:x,transformResponse:x,paramsSerializer:x,timeout:x,timeoutMessage:x,withCredentials:x,withXSRFToken:x,adapter:x,responseType:x,xsrfCookieName:x,xsrfHeaderName:x,onUploadProgress:x,onDownloadProgress:x,decompress:x,maxContentLength:x,maxBodyLength:x,beforeRedirect:x,transport:x,httpAgent:x,httpsAgent:x,cancelToken:x,socketPath:x,responseEncoding:x,validateStatus:b,headers:(p,A)=>c(Bo(p),Bo(A),!0)};return X.forEach(Object.keys(Object.assign({},i,s)),function(A){const y=w[A]||c,P=y(i[A],s[A],A);X.isUndefined(P)&&y!==b||(l[A]=P)}),l}const Ka=i=>{const s=Fn({},i);let{data:l,withXSRFToken:d,xsrfHeaderName:c,xsrfCookieName:h,headers:x,auth:b}=s;s.headers=x=kt.from(x),s.url=Ga(Za(s.baseURL,s.url),i.params,i.paramsSerializer),b&&x.set("Authorization","Basic "+btoa((b.username||"")+":"+(b.password?unescape(encodeURIComponent(b.password)):"")));let w;if(X.isFormData(l)){if(Lt.hasStandardBrowserEnv||Lt.hasStandardBrowserWebWorkerEnv)x.setContentType(void 0);else if((w=x.getContentType())!==!1){const[p,...A]=w?w.split(";").map(y=>y.trim()).filter(Boolean):[];x.setContentType([p||"multipart/form-data",...A].join("; "))}}if(Lt.hasStandardBrowserEnv&&(d&&X.isFunction(d)&&(d=d(s)),d||d!==!1&&p1(s.url))){const p=c&&h&&m1.read(h);p&&x.set(c,p)}return s},C1=typeof XMLHttpRequest<"u",E1=C1&&function(i){return new Promise(function(l,d){const c=Ka(i);let h=c.data;const x=kt.from(c.headers).normalize();let{responseType:b,onUploadProgress:w,onDownloadProgress:p}=c,A,y,P,B,R;function T(){B&&B(),R&&R(),c.cancelToken&&c.cancelToken.unsubscribe(A),c.signal&&c.signal.removeEventListener("abort",A)}let M=new XMLHttpRequest;M.open(c.method.toUpperCase(),c.url,!0),M.timeout=c.timeout;function k(){if(!M)return;const G=kt.from("getAllResponseHeaders"in M&&M.getAllResponseHeaders()),ie={data:!b||b==="text"||b==="json"?M.responseText:M.response,status:M.status,statusText:M.statusText,headers:G,config:i,request:M};qa(function(L){l(L),T()},function(L){d(L),T()},ie),M=null}"onloadend"in M?M.onloadend=k:M.onreadystatechange=function(){!M||M.readyState!==4||M.status===0&&!(M.responseURL&&M.responseURL.indexOf("file:")===0)||setTimeout(k)},M.onabort=function(){M&&(d(new Se("Request aborted",Se.ECONNABORTED,i,M)),M=null)},M.onerror=function(){d(new Se("Network Error",Se.ERR_NETWORK,i,M)),M=null},M.ontimeout=function(){let Y=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const ie=c.transitional||Xa;c.timeoutErrorMessage&&(Y=c.timeoutErrorMessage),d(new Se(Y,ie.clarifyTimeoutError?Se.ETIMEDOUT:Se.ECONNABORTED,i,M)),M=null},h===void 0&&x.setContentType(null),"setRequestHeader"in M&&X.forEach(x.toJSON(),function(Y,ie){M.setRequestHeader(ie,Y)}),X.isUndefined(c.withCredentials)||(M.withCredentials=!!c.withCredentials),b&&b!=="json"&&(M.responseType=c.responseType),p&&([P,R]=Qr(p,!0),M.addEventListener("progress",P)),w&&M.upload&&([y,B]=Qr(w),M.upload.addEventListener("progress",y),M.upload.addEventListener("loadend",B)),(c.cancelToken||c.signal)&&(A=G=>{M&&(d(!G||G.type?new er(null,i,M):G),M.abort(),M=null)},c.cancelToken&&c.cancelToken.subscribe(A),c.signal&&(c.signal.aborted?A():c.signal.addEventListener("abort",A)));const j=h1(c.url);if(j&&Lt.protocols.indexOf(j)===-1){d(new Se("Unsupported protocol "+j+":",Se.ERR_BAD_REQUEST,i));return}M.send(h||null)})},A1=(i,s)=>{const{length:l}=i=i?i.filter(Boolean):[];if(s||l){let d=new AbortController,c;const h=function(p){if(!c){c=!0,b();const A=p instanceof Error?p:this.reason;d.abort(A instanceof Se?A:new er(A instanceof Error?A.message:A))}};let x=s&&setTimeout(()=>{x=null,h(new Se(`timeout ${s} of ms exceeded`,Se.ETIMEDOUT))},s);const b=()=>{i&&(x&&clearTimeout(x),x=null,i.forEach(p=>{p.unsubscribe?p.unsubscribe(h):p.removeEventListener("abort",h)}),i=null)};i.forEach(p=>p.addEventListener("abort",h));const{signal:w}=d;return w.unsubscribe=()=>X.asap(b),w}},y1=function*(i,s){let l=i.byteLength;if(l<s){yield i;return}let d=0,c;for(;d<l;)c=d+s,yield i.slice(d,c),d=c},v1=async function*(i,s){for await(const l of S1(i))yield*y1(l,s)},S1=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const s=i.getReader();try{for(;;){const{done:l,value:d}=await s.read();if(l)break;yield d}}finally{await s.cancel()}},Lo=(i,s,l,d)=>{const c=v1(i,s);let h=0,x,b=w=>{x||(x=!0,d&&d(w))};return new ReadableStream({async pull(w){try{const{done:p,value:A}=await c.next();if(p){b(),w.close();return}let y=A.byteLength;if(l){let P=h+=y;l(P)}w.enqueue(new Uint8Array(A))}catch(p){throw b(p),p}},cancel(w){return b(w),c.return()}},{highWaterMark:2})},wi=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",$a=wi&&typeof ReadableStream=="function",I1=wi&&(typeof TextEncoder=="function"?(i=>s=>i.encode(s))(new TextEncoder):async i=>new Uint8Array(await new Response(i).arrayBuffer())),Qa=(i,...s)=>{try{return!!i(...s)}catch{return!1}},_1=$a&&Qa(()=>{let i=!1;const s=new Request(Lt.origin,{body:new ReadableStream,method:"POST",get duplex(){return i=!0,"half"}}).headers.has("Content-Type");return i&&!s}),ko=64*1024,ws=$a&&Qa(()=>X.isReadableStream(new Response("").body)),Jr={stream:ws&&(i=>i.body)};wi&&(i=>{["text","arrayBuffer","blob","formData","stream"].forEach(s=>{!Jr[s]&&(Jr[s]=X.isFunction(i[s])?l=>l[s]():(l,d)=>{throw new Se(`Response type '${s}' is not supported`,Se.ERR_NOT_SUPPORT,d)})})})(new Response);const T1=async i=>{if(i==null)return 0;if(X.isBlob(i))return i.size;if(X.isSpecCompliantForm(i))return(await new Request(Lt.origin,{method:"POST",body:i}).arrayBuffer()).byteLength;if(X.isArrayBufferView(i)||X.isArrayBuffer(i))return i.byteLength;if(X.isURLSearchParams(i)&&(i=i+""),X.isString(i))return(await I1(i)).byteLength},O1=async(i,s)=>{const l=X.toFiniteNumber(i.getContentLength());return l??T1(s)},N1=wi&&(async i=>{let{url:s,method:l,data:d,signal:c,cancelToken:h,timeout:x,onDownloadProgress:b,onUploadProgress:w,responseType:p,headers:A,withCredentials:y="same-origin",fetchOptions:P}=Ka(i);p=p?(p+"").toLowerCase():"text";let B=A1([c,h&&h.toAbortSignal()],x),R;const T=B&&B.unsubscribe&&(()=>{B.unsubscribe()});let M;try{if(w&&_1&&l!=="get"&&l!=="head"&&(M=await O1(A,d))!==0){let ie=new Request(s,{method:"POST",body:d,duplex:"half"}),$;if(X.isFormData(d)&&($=ie.headers.get("content-type"))&&A.setContentType($),ie.body){const[L,K]=Do(M,Qr(Po(w)));d=Lo(ie.body,ko,L,K)}}X.isString(y)||(y=y?"include":"omit");const k="credentials"in Request.prototype;R=new Request(s,{...P,signal:B,method:l.toUpperCase(),headers:A.normalize().toJSON(),body:d,duplex:"half",credentials:k?y:void 0});let j=await fetch(R);const G=ws&&(p==="stream"||p==="response");if(ws&&(b||G&&T)){const ie={};["status","statusText","headers"].forEach(z=>{ie[z]=j[z]});const $=X.toFiniteNumber(j.headers.get("content-length")),[L,K]=b&&Do($,Qr(Po(b),!0))||[];j=new Response(Lo(j.body,ko,L,()=>{K&&K(),T&&T()}),ie)}p=p||"text";let Y=await Jr[X.findKey(Jr,p)||"text"](j,i);return!G&&T&&T(),await new Promise((ie,$)=>{qa(ie,$,{data:Y,headers:kt.from(j.headers),status:j.status,statusText:j.statusText,config:i,request:R})})}catch(k){throw T&&T(),k&&k.name==="TypeError"&&/fetch/i.test(k.message)?Object.assign(new Se("Network Error",Se.ERR_NETWORK,i,R),{cause:k.cause||k}):Se.from(k,k&&k.code,i,R)}}),bs={http:Xu,xhr:E1,fetch:N1};X.forEach(bs,(i,s)=>{if(i){try{Object.defineProperty(i,"name",{value:s})}catch{}Object.defineProperty(i,"adapterName",{value:s})}});const Fo=i=>`- ${i}`,R1=i=>X.isFunction(i)||i===null||i===!1,Ja={getAdapter:i=>{i=X.isArray(i)?i:[i];const{length:s}=i;let l,d;const c={};for(let h=0;h<s;h++){l=i[h];let x;if(d=l,!R1(l)&&(d=bs[(x=String(l)).toLowerCase()],d===void 0))throw new Se(`Unknown adapter '${x}'`);if(d)break;c[x||"#"+h]=d}if(!d){const h=Object.entries(c).map(([b,w])=>`adapter ${b} `+(w===!1?"is not supported by the environment":"is not available in the build"));let x=s?h.length>1?`since :
`+h.map(Fo).join(`
`):" "+Fo(h[0]):"as no adapter specified";throw new Se("There is no suitable adapter to dispatch the request "+x,"ERR_NOT_SUPPORT")}return d},adapters:bs};function is(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new er(null,i)}function Vo(i){return is(i),i.headers=kt.from(i.headers),i.data=rs.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),Ja.getAdapter(i.adapter||Sr.adapter)(i).then(function(d){return is(i),d.data=rs.call(i,i.transformResponse,d),d.headers=kt.from(d.headers),d},function(d){return Ya(d)||(is(i),d&&d.response&&(d.response.data=rs.call(i,i.transformResponse,d.response),d.response.headers=kt.from(d.response.headers))),Promise.reject(d)})}const el="1.7.7",Vs={};["object","boolean","number","function","string","symbol"].forEach((i,s)=>{Vs[i]=function(d){return typeof d===i||"a"+(s<1?"n ":" ")+i}});const Uo={};Vs.transitional=function(s,l,d){function c(h,x){return"[Axios v"+el+"] Transitional option '"+h+"'"+x+(d?". "+d:"")}return(h,x,b)=>{if(s===!1)throw new Se(c(x," has been removed"+(l?" in "+l:"")),Se.ERR_DEPRECATED);return l&&!Uo[x]&&(Uo[x]=!0,console.warn(c(x," has been deprecated since v"+l+" and will be removed in the near future"))),s?s(h,x,b):!0}};function M1(i,s,l){if(typeof i!="object")throw new Se("options must be an object",Se.ERR_BAD_OPTION_VALUE);const d=Object.keys(i);let c=d.length;for(;c-- >0;){const h=d[c],x=s[h];if(x){const b=i[h],w=b===void 0||x(b,h,i);if(w!==!0)throw new Se("option "+h+" must be "+w,Se.ERR_BAD_OPTION_VALUE);continue}if(l!==!0)throw new Se("Unknown option "+h,Se.ERR_BAD_OPTION)}}const Cs={assertOptions:M1,validators:Vs},Tn=Cs.validators;class kn{constructor(s){this.defaults=s,this.interceptors={request:new Ro,response:new Ro}}async request(s,l){try{return await this._request(s,l)}catch(d){if(d instanceof Error){let c;Error.captureStackTrace?Error.captureStackTrace(c={}):c=new Error;const h=c.stack?c.stack.replace(/^.+\n/,""):"";try{d.stack?h&&!String(d.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(d.stack+=`
`+h):d.stack=h}catch{}}throw d}}_request(s,l){typeof s=="string"?(l=l||{},l.url=s):l=s||{},l=Fn(this.defaults,l);const{transitional:d,paramsSerializer:c,headers:h}=l;d!==void 0&&Cs.assertOptions(d,{silentJSONParsing:Tn.transitional(Tn.boolean),forcedJSONParsing:Tn.transitional(Tn.boolean),clarifyTimeoutError:Tn.transitional(Tn.boolean)},!1),c!=null&&(X.isFunction(c)?l.paramsSerializer={serialize:c}:Cs.assertOptions(c,{encode:Tn.function,serialize:Tn.function},!0)),l.method=(l.method||this.defaults.method||"get").toLowerCase();let x=h&&X.merge(h.common,h[l.method]);h&&X.forEach(["delete","get","head","post","put","patch","common"],R=>{delete h[R]}),l.headers=kt.concat(x,h);const b=[];let w=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(l)===!1||(w=w&&T.synchronous,b.unshift(T.fulfilled,T.rejected))});const p=[];this.interceptors.response.forEach(function(T){p.push(T.fulfilled,T.rejected)});let A,y=0,P;if(!w){const R=[Vo.bind(this),void 0];for(R.unshift.apply(R,b),R.push.apply(R,p),P=R.length,A=Promise.resolve(l);y<P;)A=A.then(R[y++],R[y++]);return A}P=b.length;let B=l;for(y=0;y<P;){const R=b[y++],T=b[y++];try{B=R(B)}catch(M){T.call(this,M);break}}try{A=Vo.call(this,B)}catch(R){return Promise.reject(R)}for(y=0,P=p.length;y<P;)A=A.then(p[y++],p[y++]);return A}getUri(s){s=Fn(this.defaults,s);const l=Za(s.baseURL,s.url);return Ga(l,s.params,s.paramsSerializer)}}X.forEach(["delete","get","head","options"],function(s){kn.prototype[s]=function(l,d){return this.request(Fn(d||{},{method:s,url:l,data:(d||{}).data}))}});X.forEach(["post","put","patch"],function(s){function l(d){return function(h,x,b){return this.request(Fn(b||{},{method:s,headers:d?{"Content-Type":"multipart/form-data"}:{},url:h,data:x}))}}kn.prototype[s]=l(),kn.prototype[s+"Form"]=l(!0)});class Us{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let l;this.promise=new Promise(function(h){l=h});const d=this;this.promise.then(c=>{if(!d._listeners)return;let h=d._listeners.length;for(;h-- >0;)d._listeners[h](c);d._listeners=null}),this.promise.then=c=>{let h;const x=new Promise(b=>{d.subscribe(b),h=b}).then(c);return x.cancel=function(){d.unsubscribe(h)},x},s(function(h,x,b){d.reason||(d.reason=new er(h,x,b),l(d.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const l=this._listeners.indexOf(s);l!==-1&&this._listeners.splice(l,1)}toAbortSignal(){const s=new AbortController,l=d=>{s.abort(d)};return this.subscribe(l),s.signal.unsubscribe=()=>this.unsubscribe(l),s.signal}static source(){let s;return{token:new Us(function(c){s=c}),cancel:s}}}function D1(i){return function(l){return i.apply(null,l)}}function P1(i){return X.isObject(i)&&i.isAxiosError===!0}const Es={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Es).forEach(([i,s])=>{Es[s]=i});function tl(i){const s=new kn(i),l=Ma(kn.prototype.request,s);return X.extend(l,kn.prototype,s,{allOwnKeys:!0}),X.extend(l,s,null,{allOwnKeys:!0}),l.create=function(c){return tl(Fn(i,c))},l}const He=tl(Sr);He.Axios=kn;He.CanceledError=er;He.CancelToken=Us;He.isCancel=Ya;He.VERSION=el;He.toFormData=mi;He.AxiosError=Se;He.Cancel=He.CanceledError;He.all=function(s){return Promise.all(s)};He.spread=D1;He.isAxiosError=P1;He.mergeConfig=Fn;He.AxiosHeaders=kt;He.formToJSON=i=>za(X.isHTMLForm(i)?new FormData(i):i);He.getAdapter=Ja.getAdapter;He.HttpStatusCode=Es;He.default=He;const nl="/icm_lib/assets/img-Dm6ee46N.png",tn="https://religious-cherianne-dbprops-ef8ee171.koyeb.app",B1=({onLogin:i})=>{const[s,l]=O.useState(""),[d,c]=O.useState(""),[h,x]=O.useState(""),b=async w=>{w.preventDefault();try{const p=await He.post(`${tn}/api/login`,{username:s,password:d});p.status===200&&(localStorage.setItem("authToken",p.data.token),i())}catch{x("Invalid username or password.")}};return _.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:_.jsxs("form",{onSubmit:b,className:"bg-white p-6 rounded shadow-md w-80",children:[_.jsx("img",{src:nl,alt:"ICM Library Logo",className:"max-h-16 sm:max-h-20 mx-auto mb-4"}),_.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Login"}),h&&_.jsx("div",{className:"text-red-500 text-sm mb-2",children:h}),_.jsxs("div",{className:"mb-4",children:[_.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Username"}),_.jsx("input",{type:"text",className:"w-full p-2 border rounded",value:s,onChange:w=>l(w.target.value)})]}),_.jsxs("div",{className:"mb-4",children:[_.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Password"}),_.jsx("input",{type:"password",className:"w-full p-2 border rounded",value:d,onChange:w=>c(w.target.value)})]}),_.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 rounded",children:"Login"})]})})},wn=He.create({baseURL:tn});wn.interceptors.request.use(i=>{const s=localStorage.getItem("authToken");return console.log("Token in localStorage:",s),s&&(i.headers.Authorization=s),i},i=>Promise.reject(i));wn.interceptors.response.use(i=>i,i=>(i.response&&i.response.status===403&&(localStorage.removeItem("authToken"),alert("Session expired. Please log in again."),window.location.reload()),Promise.reject(i)));const L1=async i=>{try{return(await wn.post("/api/members",i)).data}catch{throw new Error("Failed to add member.")}},rl=async()=>{try{return(await wn.get("/api/members")).data}catch(i){throw console.error("Error fetching members:",i),i}},k1=async(i="desc")=>{try{return(await He.get(`${tn}/api/books?order_by=${i}`)).data}catch(s){throw console.error("Error fetching books:",s),s}},F1=async i=>{try{return(await wn.post("/api/books",i,{headers:{"Content-Type":"application/json"}})).data}catch(s){throw console.error("Error adding book:",s),new Error("Failed to add book.")}},V1=async i=>{try{const s=await He.get(`${tn}/api/qr_codes/${i}`,{responseType:"blob"}),l=window.URL.createObjectURL(new Blob([s.data])),d=document.createElement("a");d.href=l,d.setAttribute("download",i),document.body.appendChild(d),d.click(),d.remove()}catch(s){throw console.error("Error downloading QR code:",s),s}},il=O.createContext(),U1=({children:i})=>{const[s,l]=O.useState("he"),d=()=>{l(c=>c==="en"?"he":"en")};return _.jsx(il.Provider,{value:{language:s,setLanguage:l,toggleLanguage:d},children:i})},Ir=()=>O.useContext(il),j1={app_title:"The Library of the Israeli Community of Madrid",title:"Book Title",author:"Author",description:"Description",year_of_publication:"Year of Publication",cover_type:"Cover Type",pages:"Pages",borrowing_child:"Borrowing Child's Name",borrowed_by:"Borrowed By",borrow:"Borrow Book",delivery_status:"Delivery Status",delivering_parent:"Delivering Parent",recommended_age:"Recommended Age",borrow_date:"Borrow Date",return_date:"Return Date",NotReturned:"Not Returned",add_book_label:"Add New Book",books:"Books",members:"Members",loans:"Loans",ShowAllLoans:"Show History",Hide_Details:"Hide Details",More_Details:"More Details",loan_status:"Availability",sort_by:"Sort By",ascending:"Ascending",descending:"Descending",Hide_Add_Book:"Hide Add Book",Add_Book:"Add Book",return:"Return Book",Select_Book:"Select Book",Select_Book_State:"Select Book State",ScanQR:"Scan QR Code",download_qr_code:"Download QR Code",SendReminders:"Send Reminders",last_reminder:"last reminder at",error_generating_report:"Failed to generate report. Please try again.",reports:"Reports",generate_report_button:"Generate report",select_borrower:"Select Borrower",add_member_button:"Add Member",close_add_member_button:"Close Add Member",add_member_form_title:"Add New Member",search_placeholder:"Search members by name",members_list_title:"Library Members",no_members_found:"No members found",parent_name_placeholder:"Parent's Name",kid_name_placeholder:"Kid's Name",email_placeholder:"Email Address",error_parent_name_required:"Parent's name is required.",error_kid_name_required:"Kid's name is required.",error_email_required:"Email address is required.",error_email_invalid:"Invalid email address.",success_member_added:"Member added successfully!",parent_name_label:"Parent Name",kid_name_label:"Child Name",email_label:"Email",inventory_list_title:"Library Inventory",add_book_button:"Add Book",close_add_book_button:"Close Add Book",search_books_placeholder:"Search books by title",no_books_found:"No books found",placeholder_book_title:"Enter Book Title",placeholder_book_author:"Enter Author Name",placeholder_book_description:"Enter Description",placeholder_book_year:"Enter Year of Publication",placeholder_book_pages:"Enter Number of Pages",placeholder_book_recommended_age:"Enter Recommended Age",select_condition:"Select Condition",select_loan_status:"Select loan status",select_parent:"Select Parent",select_cover_type:"format",soft_cover:"Soft Cover",hard_cover:"Hard Cover",rigid_pages:"Rigid Pages",battery_book:"Book with Battery",new:"New",good:"Good",worn:"Worn",available:"Available",borrowed:"Borrowed",error_book_title_required:"Book title is required.",error_book_author_required:"Author name is required.",error_book_description_required:"Description is required.",error_book_year_required:"Year of publication is required.",error_book_pages_required:"Number of pages is required.",inventory_report:"Inventory Report",loans_report:"Loans Report",select_report_type:"Select Report Type",report_options:"Report Options",select_field:"Select Field",book_title:"Book Title",id:"ID",order:"Order",include_history:"Include Historical Loans",include_borrowed:"Include Currently Borrowed Books"},H1={app_title:"ספריית הקהילה הישראלית במדריד",title:"שם הספר",author:"שם המחבר",description:"תיאור",year_of_publication:"שנת הוצאה",cover_type:"סוג כריכה",pages:"עמודים",borrowing_child:"שם הילד המשאיל",borrowed_by:"הושאל על ידי",borrower:"המשאיל",borrow:"השאל ספר",delivery_status:"מצב מסירה",delivering_parent:"שם ההורה המוסר",recommended_age:"גיל מומלץ",borrow_date:"תאריך השאלה",return_date:"תאריך החזרה",NotReturned:"לא הוחזר",add_book_label:"הוסף ספר חדש",books:"ספרים",members:"חברים",loans:"השאלות",ShowAllLoans:"הצג היסטוריה",Hide_Details:"הסתר פרטים",More_Details:"עוד פרטים",loan_status:"זמינות",sort_by:"סדר",ascending:"עולה",descending:"יורד",Hide_Add_Book:"הסתר הוספת ספר",Add_Book:"הוסף ספר",return:"החזר ספר",Select_Book:"בחר ספר",Select_Book_State:"מצב הספר",ScanQR:"סרוק ברקוד",download_qr_code:"הורד ברקוד",SendReminders:"שלח תזכורת",last_reminder:"תזכורת אחרונה ב",error_generating_report:"הפקת הדוח נכשלה, נסה שנית בבקשה.",reports:"דוחות",generate_report_button:"הפק דוח",select_borrower:"בחר משאיל",add_member_button:"הוסף חבר",close_add_member_button:"סגור הוספת חבר",add_member_form_title:"הוספת חבר חדש",search_placeholder:"חפש חברים לפי שם",members_list_title:"חברי הספרייה",no_members_found:"לא נמצאו חברים",parent_name_placeholder:"שם ההורה",kid_name_placeholder:"שם הילד",email_placeholder:"כתובת אימייל",error_parent_name_required:"נדרש שם הורה.",error_kid_name_required:"נדרש שם ילד.",error_email_required:"נדרשת כתובת אימייל.",error_email_invalid:"כתובת אימייל לא תקינה.",success_member_added:"החבר נוסף בהצלחה!",parent_name_label:"שם ההורה",kid_name_label:"שם הילד",email_label:"אימייל",inventory_list_title:"מלאי הספרייה",add_book_button:"הוסף ספר",close_add_book_button:"סגור הוספת ספר",search_books_placeholder:"חפש ספרים לפי שם",no_books_found:"לא נמצאו ספרים",placeholder_book_title:"הכנס שם הספר",placeholder_book_author:"הכנס שם המחבר",placeholder_book_description:"הכנס תיאור",placeholder_book_year:"הכנס שנת הוצאה",placeholder_book_pages:"הכנס מספר עמודים",placeholder_book_recommended_age:"הכנס גיל מומלץ",select_condition:"מצב מסירה",select_loan_status:"זמינות",select_parent:"שם ההורה",select_cover_type:"פורמט",soft_cover:"כריכה רכה",hard_cover:"כריכה קשה",rigid_pages:"עמודים קשיחים",battery_book:"ספר עם בטריה",new:"חדש",good:"טוב",worn:"בלוי",available:"זמין",borrowed:"מושאל",error_book_title_required:"נדרש שם ספר.",error_book_author_required:"נדרש שם מחבר.",error_book_description_required:"נדרש תיאור.",error_book_year_required:"נדרשת שנת הוצאה.",error_book_pages_required:"נדרש מספר עמודים.",inventory_report:"דוח מלאי",loans_report:"דוח השאלות",select_report_type:"בחר סוג דוח",report_options:"אפשרויות דוח",select_field:"בחר שדה",book_title:"כותרת הספר",id:"מזהה",order:"סדר",include_history:"כלול היסטורית השאלות",include_borrowed:"כלול ספרים מושאלים"},_r=i=>i==="he"?H1:j1,W1=()=>{const[i,s]=O.useState([]),[l,d]=O.useState("desc"),[c,h]=O.useState(""),[x,b]=O.useState(""),[w,p]=O.useState(""),[A,y]=O.useState(""),[P,B]=O.useState(""),[R,T]=O.useState(""),[M,k]=O.useState(""),[j,G]=O.useState(""),[Y]=O.useState("available"),[ie,$]=O.useState(""),[L,K]=O.useState([]),[z,Ve]=O.useState(!1),[ye,ae]=O.useState(""),[Ee,_e]=O.useState({}),{language:U,toggleLanguage:xe}=Ir(),J=_r(U),Xe=[{value:"כריכה רכה",label:J.soft_cover},{value:"כריכה קשה",label:J.hard_cover},{value:"עמודים קשיחים",label:J.rigid_pages},{value:"ספר עם בטריה",label:J.battery_book}],rt=[{value:"new",label:J.new},{value:"good",label:J.good},{value:"worn",label:J.worn}];O.useEffect(()=>{Ce(),Kt()},[l]);const Ce=async()=>{try{const ee=await k1(l);Array.isArray(ee)?s(ee):(console.error("Unexpected response format:",ee),s([]))}catch(ee){console.error("Failed to load books:",ee),s([])}},Kt=async()=>{try{const ee=await rl();K(ee)}catch(ee){console.error("Error fetching members:",ee)}},Te=async ee=>{ee.preventDefault();try{await F1({title:c,author:x,description:w,year_of_publication:A,pages:P,cover_type:R,book_condition:M,recommended_age:j,loan_status:Y,delivering_parent:ie}),h(""),b(""),p(""),y(""),B(""),T(Xe[0].value),k(rt[0].value),$(""),Ve(!1),await Ce()}catch(oe){console.error("Error adding book:",oe)}},$e=ee=>{_e(oe=>({...oe,[ee]:!oe[ee]}))},We=ee=>{V1(ee).then(()=>console.log("QR Code downloaded successfully")).catch(oe=>console.error("Failed to download QR Code:",oe))};return _.jsxs("div",{className:"w-full max-w-md mx-auto",children:[_.jsx("button",{className:"w-12 h-12 flex items-center justify-center rounded-full border border-teal-500 bg-white text-teal-500 shadow-md absolute top-4 left-4",onClick:xe,children:U==="en"?"HE":"EN"}),_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsx("input",{id:"search_by_name",type:"text",placeholder:J.search_books_placeholder,value:ye,onChange:ee=>ae(ee.target.value),className:"flex-1 mr-4 border border-gray-300 rounded-md py-2 px-4"}),_.jsxs("div",{className:"sorting-container",children:[_.jsxs("label",{htmlFor:"orderBy",className:"mr-2",children:[":",J.sort_by]}),_.jsxs("select",{id:"orderBy",value:l,onChange:ee=>d(ee.target.value),className:"border rounded p-1",children:[_.jsx("option",{value:"desc",children:J.descending}),_.jsx("option",{value:"asc",children:J.ascending})]})]})]}),_.jsx("button",{onClick:()=>Ve(!z),className:"w-full bg-blue-500 text-white font-semibold py-2 rounded-md hover:bg-blue-600 transition mb-4",children:z?`- ${J.close_add_book_button}`:`+ ${J.add_book_button}`}),z&&_.jsxs("form",{onSubmit:Te,className:"mb-4",children:[_.jsx("input",{type:"text",value:c,onChange:ee=>h(ee.target.value),placeholder:J.placeholder_book_title,className:"input mb-2 w-full border border-gray-300 rounded-md py-2 px-4"}),_.jsx("input",{type:"text",value:x,onChange:ee=>b(ee.target.value),placeholder:J.placeholder_book_author,className:"input mb-2 w-full border border-gray-300 rounded-md py-2 px-4"}),_.jsx("textarea",{value:w,onChange:ee=>p(ee.target.value),onInput:ee=>{ee.target.style.height="auto",ee.target.style.height=`${ee.target.scrollHeight}px`},placeholder:J.placeholder_book_description,className:"input mb-2 w-full border border-gray-300 rounded-md py-2 px-4"}),_.jsx("input",{type:"number",value:A,onChange:ee=>y(ee.target.value),placeholder:J.placeholder_book_year,className:"input mb-2 w-full border border-gray-300 rounded-md py-2 px-4"}),_.jsxs("select",{value:R,onChange:ee=>T(ee.target.value),className:"input mb-2 w-full border border-gray-300 rounded-md py-2 px-4",children:[_.jsx("option",{value:"",children:J.select_cover_type}),Xe.map(ee=>_.jsx("option",{value:ee.value,children:ee.label},ee.value))]}),_.jsx("input",{type:"number",value:P,onChange:ee=>B(ee.target.value),placeholder:J.placeholder_book_pages,className:"input mb-2 w-full border border-gray-300 rounded-md py-2 px-4"}),_.jsx("input",{type:"number",value:j,onChange:ee=>G(ee.target.value),placeholder:J.placeholder_book_recommended_age,className:"input mb-2 w-full border border-gray-300 rounded-md py-2 px-4"}),_.jsxs("select",{value:M,onChange:ee=>k(ee.target.value),className:"input mb-2 w-full border border-gray-300 rounded-md py-2 px-4",children:[_.jsx("option",{value:"",children:J.select_condition}),rt.map(ee=>_.jsx("option",{value:ee.value,children:ee.label},ee.value))]}),_.jsxs("select",{value:ie,onChange:ee=>$(ee.target.value),className:"input mb-2 w-full border border-gray-300 rounded-md py-2 px-4",children:[_.jsx("option",{value:"",children:J.select_parent}),L.map(ee=>_.jsx("option",{value:ee.parent_name,children:ee.parent_name},ee.id))]}),_.jsx("button",{type:"submit",className:"w-full bg-green-500 text-white font-semibold py-2 rounded-md hover:bg-green-600 transition",children:J.add_book_button})]}),_.jsx("div",{className:"overflow-y-auto max-h-screen border-t pt-4",children:i.filter(ee=>ee.title.toLowerCase().includes(ye.toLowerCase())||ee.author.toLowerCase().includes(ye.toLowerCase())).map(ee=>_.jsxs("div",{className:"bg-gray-50 shadow-sm rounded-lg p-4 mb-2",children:[_.jsx("h2",{className:"font-bold text-gray-800",children:ee.title}),_.jsx("p",{className:"text-sm text-gray-500",children:ee.author}),_.jsxs("p",{className:"text-sm",children:[J.loan_status,":"," ",_.jsx("span",{className:ee.loan_status==="available"?"text-green-500":"text-red-500",children:ee.loan_status==="borrowed"?J.borrowed:J.available}),ee.loan_status==="borrowed"&&_.jsxs("span",{children:[" ",J.borrowing_child,": ",ee.borrowing_child]})]}),_.jsx("p",{children:_.jsx("button",{onClick:()=>We(`${ee.qr_code}.png`),className:"text-blue-500 text-sm mt-2 hover:underline",children:J.download_qr_code})}),_.jsx("button",{onClick:()=>$e(ee.qr_code),className:"text-blue-500 text-sm mt-2 hover:underline",children:Ee[ee.qr_code]?J.Hide_Details:J.More_Details}),Ee[ee.qr_code]&&_.jsxs("div",{className:"mt-2 text-gray-600",children:[_.jsxs("p",{children:[_.jsxs("strong",{children:[J.description,":"]})," ",ee.description||"N/A"]}),_.jsxs("p",{children:[_.jsxs("strong",{children:[J.year_of_publication,":"]})," ",ee.year_of_publication||"N/A"]}),_.jsxs("p",{children:[_.jsxs("strong",{children:[J.cover_type,":"]})," ",ee.cover_type||"N/A"]}),_.jsxs("p",{children:[_.jsxs("strong",{children:[J.pages,":"]})," ",ee.pages||"N/A"]}),_.jsxs("p",{children:[_.jsxs("strong",{children:[J.recommended_age,":"]})," ",ee.recommended_age||"N/A"]}),_.jsxs("p",{children:[_.jsxs("strong",{children:[J.select_condition,":"]})," ",ee.book_condition||"N/A"]}),_.jsxs("p",{children:[_.jsxs("strong",{children:[J.delivering_parent,":"]})," ",ee.delivering_parent||"N/A"]})]})]},ee.qr_code))})]})};function G1(){const[i,s]=O.useState([]),[l,d]=O.useState(""),[c,h]=O.useState(""),[x,b]=O.useState(""),[w,p]=O.useState(!1),[A,y]=O.useState(""),[P,B]=O.useState({}),[R,T]=O.useState(""),{language:M,toggleLanguage:k}=Ir(),j=_r(M),G=()=>{const L={};return l.trim()||(L.parentName=j.error_parent_name_required),c.trim()||(L.kidName=j.error_kid_name_required),x.trim()?/\S+@\S+\.\S+/.test(x)||(L.email=j.error_email_invalid):L.email=j.error_email_required,B(L),Object.keys(L).length===0},Y=async L=>{if(L.preventDefault(),!!G())try{await L1({parent_name:l,kid_name:c,email:x}),d(""),h(""),b(""),B({}),T(j.success_member_added),await ie()}catch(K){console.error("Error adding member:",K),T("")}},ie=async()=>{try{const L=await rl();Array.isArray(L)?s(L):(console.error("Unexpected response format:",L),s([]))}catch(L){console.error("Failed to load members:",L),s([])}};O.useEffect(()=>{ie()},[]);const $=Array.isArray(i)?i.filter(L=>L.parent_name.toLowerCase().includes(A.toLowerCase())||L.kid_name.toLowerCase().includes(A.toLowerCase())):[];return _.jsxs("div",{className:"w-full max-w-md mx-auto",children:[_.jsx("button",{className:"w-12 h-12 flex items-center justify-center rounded-full border border-teal-500 bg-white text-teal-500 shadow-md absolute top-4 left-4",onClick:k,children:M==="en"?"HE":"EN"}),_.jsx("h1",{className:"text-xl font-semibold mb-4",children:j.members_list_title}),_.jsx("button",{onClick:()=>p(!w),className:"w-full bg-blue-500 text-white font-semibold py-2 rounded-md hover:bg-blue-600 transition mb-4",children:w?`- ${j.close_add_member_button}`:`+ ${j.add_member_button}`}),w&&_.jsxs("form",{onSubmit:Y,className:"mb-4",children:[_.jsx("input",{type:"text",placeholder:j.parent_name_placeholder,value:l,onChange:L=>d(L.target.value),className:"input mb-2 w-full border border-gray-300 rounded-md py-2 px-4"}),P.parentName&&_.jsx("p",{className:"text-red-500 text-sm",children:P.parentName}),_.jsx("input",{type:"text",placeholder:j.kid_name_placeholder,value:c,onChange:L=>h(L.target.value),className:"input mb-2 w-full border border-gray-300 rounded-md py-2 px-4"}),P.kidName&&_.jsx("p",{className:"text-red-500 text-sm",children:P.kidName}),_.jsx("input",{type:"email",placeholder:j.email_placeholder,value:x,onChange:L=>b(L.target.value),className:"input mb-2 w-full border border-gray-300 rounded-md py-2 px-4"}),P.email&&_.jsx("p",{className:"text-red-500 text-sm",children:P.email}),_.jsx("button",{type:"submit",className:"w-full bg-green-500 text-white font-semibold py-2 rounded-md hover:bg-green-600 transition",children:j.add_member_button}),R&&_.jsx("p",{className:"text-green-500 text-sm mt-2",children:R})]}),_.jsx("input",{type:"text",placeholder:j.search_placeholder,value:A,onChange:L=>y(L.target.value),className:"input w-full border border-gray-300 rounded-md py-2 px-4 mb-4"}),_.jsx("div",{className:"overflow-y-auto max-h-96 border-t pt-4",children:$.length>0?$.map(L=>_.jsxs("div",{className:"bg-gray-50 shadow-sm rounded-lg p-4 mb-2",children:[_.jsxs("h2",{className:"font-bold text-gray-800",children:[j.parent_name_label,": ",L.parent_name]}),_.jsxs("p",{className:"text-sm text-gray-500",children:[j.kid_name_label,": ",L.kid_name]}),_.jsxs("p",{className:"text-sm text-gray-500",children:[j.email_label,": ",L.email]})]},L.id)):_.jsx("p",{className:"text-sm text-gray-500",children:$.length===0&&j.no_members_found})})]})}function Vn(i){"@babel/helpers - typeof";return Vn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Vn(i)}function X1(i,s){if(Vn(i)!="object"||!i)return i;var l=i[Symbol.toPrimitive];if(l!==void 0){var d=l.call(i,s||"default");if(Vn(d)!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(i)}function sl(i){var s=X1(i,"string");return Vn(s)=="symbol"?s:s+""}function mr(i,s,l){return(s=sl(s))in i?Object.defineProperty(i,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[s]=l,i}function jo(i,s){var l=Object.keys(i);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(i);s&&(d=d.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),l.push.apply(l,d)}return l}function ge(i){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?jo(Object(l),!0).forEach(function(d){mr(i,d,l[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):jo(Object(l)).forEach(function(d){Object.defineProperty(i,d,Object.getOwnPropertyDescriptor(l,d))})}return i}function z1(i){if(Array.isArray(i))return i}function Y1(i,s){var l=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(l!=null){var d,c,h,x,b=[],w=!0,p=!1;try{if(h=(l=l.call(i)).next,s===0){if(Object(l)!==l)return;w=!1}else for(;!(w=(d=h.call(l)).done)&&(b.push(d.value),b.length!==s);w=!0);}catch(A){p=!0,c=A}finally{try{if(!w&&l.return!=null&&(x=l.return(),Object(x)!==x))return}finally{if(p)throw c}}return b}}function As(i,s){(s==null||s>i.length)&&(s=i.length);for(var l=0,d=Array(s);l<s;l++)d[l]=i[l];return d}function ol(i,s){if(i){if(typeof i=="string")return As(i,s);var l={}.toString.call(i).slice(8,-1);return l==="Object"&&i.constructor&&(l=i.constructor.name),l==="Map"||l==="Set"?Array.from(i):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?As(i,s):void 0}}function q1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xn(i,s){return z1(i)||Y1(i,s)||ol(i,s)||q1()}function Z1(i,s){if(i==null)return{};var l={};for(var d in i)if({}.hasOwnProperty.call(i,d)){if(s.includes(d))continue;l[d]=i[d]}return l}function bn(i,s){if(i==null)return{};var l,d,c=Z1(i,s);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(i);for(d=0;d<h.length;d++)l=h[d],s.includes(l)||{}.propertyIsEnumerable.call(i,l)&&(c[l]=i[l])}return c}var K1=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function $1(i){var s=i.defaultInputValue,l=s===void 0?"":s,d=i.defaultMenuIsOpen,c=d===void 0?!1:d,h=i.defaultValue,x=h===void 0?null:h,b=i.inputValue,w=i.menuIsOpen,p=i.onChange,A=i.onInputChange,y=i.onMenuClose,P=i.onMenuOpen,B=i.value,R=bn(i,K1),T=O.useState(b!==void 0?b:l),M=xn(T,2),k=M[0],j=M[1],G=O.useState(w!==void 0?w:c),Y=xn(G,2),ie=Y[0],$=Y[1],L=O.useState(B!==void 0?B:x),K=xn(L,2),z=K[0],Ve=K[1],ye=O.useCallback(function(Xe,rt){typeof p=="function"&&p(Xe,rt),Ve(Xe)},[p]),ae=O.useCallback(function(Xe,rt){var Ce;typeof A=="function"&&(Ce=A(Xe,rt)),j(Ce!==void 0?Ce:Xe)},[A]),Ee=O.useCallback(function(){typeof P=="function"&&P(),$(!0)},[P]),_e=O.useCallback(function(){typeof y=="function"&&y(),$(!1)},[y]),U=b!==void 0?b:k,xe=w!==void 0?w:ie,J=B!==void 0?B:z;return ge(ge({},R),{},{inputValue:U,menuIsOpen:xe,onChange:ye,onInputChange:ae,onMenuClose:_e,onMenuOpen:Ee,value:J})}function we(){return we=Object.assign?Object.assign.bind():function(i){for(var s=1;s<arguments.length;s++){var l=arguments[s];for(var d in l)({}).hasOwnProperty.call(l,d)&&(i[d]=l[d])}return i},we.apply(null,arguments)}function Q1(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")}function Ho(i,s){for(var l=0;l<s.length;l++){var d=s[l];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(i,sl(d.key),d)}}function J1(i,s,l){return s&&Ho(i.prototype,s),l&&Ho(i,l),Object.defineProperty(i,"prototype",{writable:!1}),i}function ys(i,s){return ys=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(l,d){return l.__proto__=d,l},ys(i,s)}function e0(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),s&&ys(i,s)}function ei(i){return ei=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},ei(i)}function al(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(al=function(){return!!i})()}function t0(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function n0(i,s){if(s&&(Vn(s)=="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t0(i)}function r0(i){var s=al();return function(){var l,d=ei(i);if(s){var c=ei(this).constructor;l=Reflect.construct(d,arguments,c)}else l=d.apply(this,arguments);return n0(this,l)}}function i0(i){if(Array.isArray(i))return As(i)}function s0(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function o0(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function js(i){return i0(i)||s0(i)||ol(i)||o0()}var a0=!1;function l0(i){if(i.sheet)return i.sheet;for(var s=0;s<document.styleSheets.length;s++)if(document.styleSheets[s].ownerNode===i)return document.styleSheets[s]}function c0(i){var s=document.createElement("style");return s.setAttribute("data-emotion",i.key),i.nonce!==void 0&&s.setAttribute("nonce",i.nonce),s.appendChild(document.createTextNode("")),s.setAttribute("data-s",""),s}var u0=function(){function i(l){var d=this;this._insertTag=function(c){var h;d.tags.length===0?d.insertionPoint?h=d.insertionPoint.nextSibling:d.prepend?h=d.container.firstChild:h=d.before:h=d.tags[d.tags.length-1].nextSibling,d.container.insertBefore(c,h),d.tags.push(c)},this.isSpeedy=l.speedy===void 0?!a0:l.speedy,this.tags=[],this.ctr=0,this.nonce=l.nonce,this.key=l.key,this.container=l.container,this.prepend=l.prepend,this.insertionPoint=l.insertionPoint,this.before=null}var s=i.prototype;return s.hydrate=function(d){d.forEach(this._insertTag)},s.insert=function(d){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(c0(this));var c=this.tags[this.tags.length-1];if(this.isSpeedy){var h=l0(c);try{h.insertRule(d,h.cssRules.length)}catch{}}else c.appendChild(document.createTextNode(d));this.ctr++},s.flush=function(){this.tags.forEach(function(d){var c;return(c=d.parentNode)==null?void 0:c.removeChild(d)}),this.tags=[],this.ctr=0},i}(),_t="-ms-",ti="-moz-",ke="-webkit-",ll="comm",Hs="rule",Ws="decl",d0="@import",cl="@keyframes",f0="@layer",h0=Math.abs,bi=String.fromCharCode,g0=Object.assign;function x0(i,s){return yt(i,0)^45?(((s<<2^yt(i,0))<<2^yt(i,1))<<2^yt(i,2))<<2^yt(i,3):0}function ul(i){return i.trim()}function p0(i,s){return(i=s.exec(i))?i[0]:i}function Fe(i,s,l){return i.replace(s,l)}function vs(i,s){return i.indexOf(s)}function yt(i,s){return i.charCodeAt(s)|0}function Er(i,s,l){return i.slice(s,l)}function cn(i){return i.length}function Gs(i){return i.length}function Ur(i,s){return s.push(i),i}function m0(i,s){return i.map(s).join("")}var Ci=1,Qn=1,dl=0,Ft=0,ht=0,tr="";function Ei(i,s,l,d,c,h,x){return{value:i,root:s,parent:l,type:d,props:c,children:h,line:Ci,column:Qn,length:x,return:""}}function gr(i,s){return g0(Ei("",null,null,"",null,null,0),i,{length:-i.length},s)}function w0(){return ht}function b0(){return ht=Ft>0?yt(tr,--Ft):0,Qn--,ht===10&&(Qn=1,Ci--),ht}function Ht(){return ht=Ft<dl?yt(tr,Ft++):0,Qn++,ht===10&&(Qn=1,Ci++),ht}function dn(){return yt(tr,Ft)}function qr(){return Ft}function Tr(i,s){return Er(tr,i,s)}function Ar(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function fl(i){return Ci=Qn=1,dl=cn(tr=i),Ft=0,[]}function hl(i){return tr="",i}function Zr(i){return ul(Tr(Ft-1,Ss(i===91?i+2:i===40?i+1:i)))}function C0(i){for(;(ht=dn())&&ht<33;)Ht();return Ar(i)>2||Ar(ht)>3?"":" "}function E0(i,s){for(;--s&&Ht()&&!(ht<48||ht>102||ht>57&&ht<65||ht>70&&ht<97););return Tr(i,qr()+(s<6&&dn()==32&&Ht()==32))}function Ss(i){for(;Ht();)switch(ht){case i:return Ft;case 34:case 39:i!==34&&i!==39&&Ss(ht);break;case 40:i===41&&Ss(i);break;case 92:Ht();break}return Ft}function A0(i,s){for(;Ht()&&i+ht!==57;)if(i+ht===84&&dn()===47)break;return"/*"+Tr(s,Ft-1)+"*"+bi(i===47?i:Ht())}function y0(i){for(;!Ar(dn());)Ht();return Tr(i,Ft)}function v0(i){return hl(Kr("",null,null,null,[""],i=fl(i),0,[0],i))}function Kr(i,s,l,d,c,h,x,b,w){for(var p=0,A=0,y=x,P=0,B=0,R=0,T=1,M=1,k=1,j=0,G="",Y=c,ie=h,$=d,L=G;M;)switch(R=j,j=Ht()){case 40:if(R!=108&&yt(L,y-1)==58){vs(L+=Fe(Zr(j),"&","&\f"),"&\f")!=-1&&(k=-1);break}case 34:case 39:case 91:L+=Zr(j);break;case 9:case 10:case 13:case 32:L+=C0(R);break;case 92:L+=E0(qr()-1,7);continue;case 47:switch(dn()){case 42:case 47:Ur(S0(A0(Ht(),qr()),s,l),w);break;default:L+="/"}break;case 123*T:b[p++]=cn(L)*k;case 125*T:case 59:case 0:switch(j){case 0:case 125:M=0;case 59+A:k==-1&&(L=Fe(L,/\f/g,"")),B>0&&cn(L)-y&&Ur(B>32?Go(L+";",d,l,y-1):Go(Fe(L," ","")+";",d,l,y-2),w);break;case 59:L+=";";default:if(Ur($=Wo(L,s,l,p,A,c,b,G,Y=[],ie=[],y),h),j===123)if(A===0)Kr(L,s,$,$,Y,h,y,b,ie);else switch(P===99&&yt(L,3)===110?100:P){case 100:case 108:case 109:case 115:Kr(i,$,$,d&&Ur(Wo(i,$,$,0,0,c,b,G,c,Y=[],y),ie),c,ie,y,b,d?Y:ie);break;default:Kr(L,$,$,$,[""],ie,0,b,ie)}}p=A=B=0,T=k=1,G=L="",y=x;break;case 58:y=1+cn(L),B=R;default:if(T<1){if(j==123)--T;else if(j==125&&T++==0&&b0()==125)continue}switch(L+=bi(j),j*T){case 38:k=A>0?1:(L+="\f",-1);break;case 44:b[p++]=(cn(L)-1)*k,k=1;break;case 64:dn()===45&&(L+=Zr(Ht())),P=dn(),A=y=cn(G=L+=y0(qr())),j++;break;case 45:R===45&&cn(L)==2&&(T=0)}}return h}function Wo(i,s,l,d,c,h,x,b,w,p,A){for(var y=c-1,P=c===0?h:[""],B=Gs(P),R=0,T=0,M=0;R<d;++R)for(var k=0,j=Er(i,y+1,y=h0(T=x[R])),G=i;k<B;++k)(G=ul(T>0?P[k]+" "+j:Fe(j,/&\f/g,P[k])))&&(w[M++]=G);return Ei(i,s,l,c===0?Hs:b,w,p,A)}function S0(i,s,l){return Ei(i,s,l,ll,bi(w0()),Er(i,2,-2),0)}function Go(i,s,l,d){return Ei(i,s,l,Ws,Er(i,0,d),Er(i,d+1,-1),d)}function $n(i,s){for(var l="",d=Gs(i),c=0;c<d;c++)l+=s(i[c],c,i,s)||"";return l}function I0(i,s,l,d){switch(i.type){case f0:if(i.children.length)break;case d0:case Ws:return i.return=i.return||i.value;case ll:return"";case cl:return i.return=i.value+"{"+$n(i.children,d)+"}";case Hs:i.value=i.props.join(",")}return cn(l=$n(i.children,d))?i.return=i.value+"{"+l+"}":""}function _0(i){var s=Gs(i);return function(l,d,c,h){for(var x="",b=0;b<s;b++)x+=i[b](l,d,c,h)||"";return x}}function T0(i){return function(s){s.root||(s=s.return)&&i(s)}}function O0(i){var s=Object.create(null);return function(l){return s[l]===void 0&&(s[l]=i(l)),s[l]}}var N0=function(s,l,d){for(var c=0,h=0;c=h,h=dn(),c===38&&h===12&&(l[d]=1),!Ar(h);)Ht();return Tr(s,Ft)},R0=function(s,l){var d=-1,c=44;do switch(Ar(c)){case 0:c===38&&dn()===12&&(l[d]=1),s[d]+=N0(Ft-1,l,d);break;case 2:s[d]+=Zr(c);break;case 4:if(c===44){s[++d]=dn()===58?"&\f":"",l[d]=s[d].length;break}default:s[d]+=bi(c)}while(c=Ht());return s},M0=function(s,l){return hl(R0(fl(s),l))},Xo=new WeakMap,D0=function(s){if(!(s.type!=="rule"||!s.parent||s.length<1)){for(var l=s.value,d=s.parent,c=s.column===d.column&&s.line===d.line;d.type!=="rule";)if(d=d.parent,!d)return;if(!(s.props.length===1&&l.charCodeAt(0)!==58&&!Xo.get(d))&&!c){Xo.set(s,!0);for(var h=[],x=M0(l,h),b=d.props,w=0,p=0;w<x.length;w++)for(var A=0;A<b.length;A++,p++)s.props[p]=h[w]?x[w].replace(/&\f/g,b[A]):b[A]+" "+x[w]}}},P0=function(s){if(s.type==="decl"){var l=s.value;l.charCodeAt(0)===108&&l.charCodeAt(2)===98&&(s.return="",s.value="")}};function gl(i,s){switch(x0(i,s)){case 5103:return ke+"print-"+i+i;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ke+i+i;case 5349:case 4246:case 4810:case 6968:case 2756:return ke+i+ti+i+_t+i+i;case 6828:case 4268:return ke+i+_t+i+i;case 6165:return ke+i+_t+"flex-"+i+i;case 5187:return ke+i+Fe(i,/(\w+).+(:[^]+)/,ke+"box-$1$2"+_t+"flex-$1$2")+i;case 5443:return ke+i+_t+"flex-item-"+Fe(i,/flex-|-self/,"")+i;case 4675:return ke+i+_t+"flex-line-pack"+Fe(i,/align-content|flex-|-self/,"")+i;case 5548:return ke+i+_t+Fe(i,"shrink","negative")+i;case 5292:return ke+i+_t+Fe(i,"basis","preferred-size")+i;case 6060:return ke+"box-"+Fe(i,"-grow","")+ke+i+_t+Fe(i,"grow","positive")+i;case 4554:return ke+Fe(i,/([^-])(transform)/g,"$1"+ke+"$2")+i;case 6187:return Fe(Fe(Fe(i,/(zoom-|grab)/,ke+"$1"),/(image-set)/,ke+"$1"),i,"")+i;case 5495:case 3959:return Fe(i,/(image-set\([^]*)/,ke+"$1$`$1");case 4968:return Fe(Fe(i,/(.+:)(flex-)?(.*)/,ke+"box-pack:$3"+_t+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ke+i+i;case 4095:case 3583:case 4068:case 2532:return Fe(i,/(.+)-inline(.+)/,ke+"$1$2")+i;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(cn(i)-1-s>6)switch(yt(i,s+1)){case 109:if(yt(i,s+4)!==45)break;case 102:return Fe(i,/(.+:)(.+)-([^]+)/,"$1"+ke+"$2-$3$1"+ti+(yt(i,s+3)==108?"$3":"$2-$3"))+i;case 115:return~vs(i,"stretch")?gl(Fe(i,"stretch","fill-available"),s)+i:i}break;case 4949:if(yt(i,s+1)!==115)break;case 6444:switch(yt(i,cn(i)-3-(~vs(i,"!important")&&10))){case 107:return Fe(i,":",":"+ke)+i;case 101:return Fe(i,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ke+(yt(i,14)===45?"inline-":"")+"box$3$1"+ke+"$2$3$1"+_t+"$2box$3")+i}break;case 5936:switch(yt(i,s+11)){case 114:return ke+i+_t+Fe(i,/[svh]\w+-[tblr]{2}/,"tb")+i;case 108:return ke+i+_t+Fe(i,/[svh]\w+-[tblr]{2}/,"tb-rl")+i;case 45:return ke+i+_t+Fe(i,/[svh]\w+-[tblr]{2}/,"lr")+i}return ke+i+_t+i+i}return i}var B0=function(s,l,d,c){if(s.length>-1&&!s.return)switch(s.type){case Ws:s.return=gl(s.value,s.length);break;case cl:return $n([gr(s,{value:Fe(s.value,"@","@"+ke)})],c);case Hs:if(s.length)return m0(s.props,function(h){switch(p0(h,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return $n([gr(s,{props:[Fe(h,/:(read-\w+)/,":"+ti+"$1")]})],c);case"::placeholder":return $n([gr(s,{props:[Fe(h,/:(plac\w+)/,":"+ke+"input-$1")]}),gr(s,{props:[Fe(h,/:(plac\w+)/,":"+ti+"$1")]}),gr(s,{props:[Fe(h,/:(plac\w+)/,_t+"input-$1")]})],c)}return""})}},L0=[B0],k0=function(s){var l=s.key;if(l==="css"){var d=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(d,function(T){var M=T.getAttribute("data-emotion");M.indexOf(" ")!==-1&&(document.head.appendChild(T),T.setAttribute("data-s",""))})}var c=s.stylisPlugins||L0,h={},x,b=[];x=s.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+l+' "]'),function(T){for(var M=T.getAttribute("data-emotion").split(" "),k=1;k<M.length;k++)h[M[k]]=!0;b.push(T)});var w,p=[D0,P0];{var A,y=[I0,T0(function(T){A.insert(T)})],P=_0(p.concat(c,y)),B=function(M){return $n(v0(M),P)};w=function(M,k,j,G){A=j,B(M?M+"{"+k.styles+"}":k.styles),G&&(R.inserted[k.name]=!0)}}var R={key:l,sheet:new u0({key:l,container:x,nonce:s.nonce,speedy:s.speedy,prepend:s.prepend,insertionPoint:s.insertionPoint}),nonce:s.nonce,inserted:h,registered:{},insert:w};return R.sheet.hydrate(b),R},xl={exports:{}},Ge={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bt=typeof Symbol=="function"&&Symbol.for,Xs=bt?Symbol.for("react.element"):60103,zs=bt?Symbol.for("react.portal"):60106,Ai=bt?Symbol.for("react.fragment"):60107,yi=bt?Symbol.for("react.strict_mode"):60108,vi=bt?Symbol.for("react.profiler"):60114,Si=bt?Symbol.for("react.provider"):60109,Ii=bt?Symbol.for("react.context"):60110,Ys=bt?Symbol.for("react.async_mode"):60111,_i=bt?Symbol.for("react.concurrent_mode"):60111,Ti=bt?Symbol.for("react.forward_ref"):60112,Oi=bt?Symbol.for("react.suspense"):60113,F0=bt?Symbol.for("react.suspense_list"):60120,Ni=bt?Symbol.for("react.memo"):60115,Ri=bt?Symbol.for("react.lazy"):60116,V0=bt?Symbol.for("react.block"):60121,U0=bt?Symbol.for("react.fundamental"):60117,j0=bt?Symbol.for("react.responder"):60118,H0=bt?Symbol.for("react.scope"):60119;function Wt(i){if(typeof i=="object"&&i!==null){var s=i.$$typeof;switch(s){case Xs:switch(i=i.type,i){case Ys:case _i:case Ai:case vi:case yi:case Oi:return i;default:switch(i=i&&i.$$typeof,i){case Ii:case Ti:case Ri:case Ni:case Si:return i;default:return s}}case zs:return s}}}function pl(i){return Wt(i)===_i}Ge.AsyncMode=Ys;Ge.ConcurrentMode=_i;Ge.ContextConsumer=Ii;Ge.ContextProvider=Si;Ge.Element=Xs;Ge.ForwardRef=Ti;Ge.Fragment=Ai;Ge.Lazy=Ri;Ge.Memo=Ni;Ge.Portal=zs;Ge.Profiler=vi;Ge.StrictMode=yi;Ge.Suspense=Oi;Ge.isAsyncMode=function(i){return pl(i)||Wt(i)===Ys};Ge.isConcurrentMode=pl;Ge.isContextConsumer=function(i){return Wt(i)===Ii};Ge.isContextProvider=function(i){return Wt(i)===Si};Ge.isElement=function(i){return typeof i=="object"&&i!==null&&i.$$typeof===Xs};Ge.isForwardRef=function(i){return Wt(i)===Ti};Ge.isFragment=function(i){return Wt(i)===Ai};Ge.isLazy=function(i){return Wt(i)===Ri};Ge.isMemo=function(i){return Wt(i)===Ni};Ge.isPortal=function(i){return Wt(i)===zs};Ge.isProfiler=function(i){return Wt(i)===vi};Ge.isStrictMode=function(i){return Wt(i)===yi};Ge.isSuspense=function(i){return Wt(i)===Oi};Ge.isValidElementType=function(i){return typeof i=="string"||typeof i=="function"||i===Ai||i===_i||i===vi||i===yi||i===Oi||i===F0||typeof i=="object"&&i!==null&&(i.$$typeof===Ri||i.$$typeof===Ni||i.$$typeof===Si||i.$$typeof===Ii||i.$$typeof===Ti||i.$$typeof===U0||i.$$typeof===j0||i.$$typeof===H0||i.$$typeof===V0)};Ge.typeOf=Wt;xl.exports=Ge;var W0=xl.exports,ml=W0,G0={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},X0={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},wl={};wl[ml.ForwardRef]=G0;wl[ml.Memo]=X0;var z0=!0;function Y0(i,s,l){var d="";return l.split(" ").forEach(function(c){i[c]!==void 0?s.push(i[c]+";"):c&&(d+=c+" ")}),d}var bl=function(s,l,d){var c=s.key+"-"+l.name;(d===!1||z0===!1)&&s.registered[c]===void 0&&(s.registered[c]=l.styles)},q0=function(s,l,d){bl(s,l,d);var c=s.key+"-"+l.name;if(s.inserted[l.name]===void 0){var h=l;do s.insert(l===h?"."+c:"",h,s.sheet,!0),h=h.next;while(h!==void 0)}};function Z0(i){for(var s=0,l,d=0,c=i.length;c>=4;++d,c-=4)l=i.charCodeAt(d)&255|(i.charCodeAt(++d)&255)<<8|(i.charCodeAt(++d)&255)<<16|(i.charCodeAt(++d)&255)<<24,l=(l&65535)*1540483477+((l>>>16)*59797<<16),l^=l>>>24,s=(l&65535)*1540483477+((l>>>16)*59797<<16)^(s&65535)*1540483477+((s>>>16)*59797<<16);switch(c){case 3:s^=(i.charCodeAt(d+2)&255)<<16;case 2:s^=(i.charCodeAt(d+1)&255)<<8;case 1:s^=i.charCodeAt(d)&255,s=(s&65535)*1540483477+((s>>>16)*59797<<16)}return s^=s>>>13,s=(s&65535)*1540483477+((s>>>16)*59797<<16),((s^s>>>15)>>>0).toString(36)}var K0={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},$0=!1,Q0=/[A-Z]|^ms/g,J0=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Cl=function(s){return s.charCodeAt(1)===45},zo=function(s){return s!=null&&typeof s!="boolean"},ss=O0(function(i){return Cl(i)?i:i.replace(Q0,"-$&").toLowerCase()}),Yo=function(s,l){switch(s){case"animation":case"animationName":if(typeof l=="string")return l.replace(J0,function(d,c,h){return un={name:c,styles:h,next:un},c})}return K0[s]!==1&&!Cl(s)&&typeof l=="number"&&l!==0?l+"px":l},ed="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function yr(i,s,l){if(l==null)return"";var d=l;if(d.__emotion_styles!==void 0)return d;switch(typeof l){case"boolean":return"";case"object":{var c=l;if(c.anim===1)return un={name:c.name,styles:c.styles,next:un},c.name;var h=l;if(h.styles!==void 0){var x=h.next;if(x!==void 0)for(;x!==void 0;)un={name:x.name,styles:x.styles,next:un},x=x.next;var b=h.styles+";";return b}return td(i,s,l)}case"function":{if(i!==void 0){var w=un,p=l(i);return un=w,yr(i,s,p)}break}}var A=l;return A}function td(i,s,l){var d="";if(Array.isArray(l))for(var c=0;c<l.length;c++)d+=yr(i,s,l[c])+";";else for(var h in l){var x=l[h];if(typeof x!="object"){var b=x;zo(b)&&(d+=ss(h)+":"+Yo(h,b)+";")}else{if(h==="NO_COMPONENT_SELECTOR"&&$0)throw new Error(ed);if(Array.isArray(x)&&typeof x[0]=="string"&&s==null)for(var w=0;w<x.length;w++)zo(x[w])&&(d+=ss(h)+":"+Yo(h,x[w])+";");else{var p=yr(i,s,x);switch(h){case"animation":case"animationName":{d+=ss(h)+":"+p+";";break}default:d+=h+"{"+p+"}"}}}}return d}var qo=/label:\s*([^\s;{]+)\s*(;|$)/g,un;function El(i,s,l){if(i.length===1&&typeof i[0]=="object"&&i[0]!==null&&i[0].styles!==void 0)return i[0];var d=!0,c="";un=void 0;var h=i[0];if(h==null||h.raw===void 0)d=!1,c+=yr(l,s,h);else{var x=h;c+=x[0]}for(var b=1;b<i.length;b++)if(c+=yr(l,s,i[b]),d){var w=h;c+=w[b]}qo.lastIndex=0;for(var p="",A;(A=qo.exec(c))!==null;)p+="-"+A[1];var y=Z0(c)+p;return{name:y,styles:c,next:un}}var nd=function(s){return s()},rd=gs.useInsertionEffect?gs.useInsertionEffect:!1,id=rd||nd,sd=!1,Al=O.createContext(typeof HTMLElement<"u"?k0({key:"css"}):null);Al.Provider;var od=function(s){return O.forwardRef(function(l,d){var c=O.useContext(Al);return s(l,c,d)})},ad=O.createContext({}),qs={}.hasOwnProperty,Is="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",ld=function(s,l){var d={};for(var c in l)qs.call(l,c)&&(d[c]=l[c]);return d[Is]=s,d},cd=function(s){var l=s.cache,d=s.serialized,c=s.isStringTag;return bl(l,d,c),id(function(){return q0(l,d,c)}),null},ud=od(function(i,s,l){var d=i.css;typeof d=="string"&&s.registered[d]!==void 0&&(d=s.registered[d]);var c=i[Is],h=[d],x="";typeof i.className=="string"?x=Y0(s.registered,h,i.className):i.className!=null&&(x=i.className+" ");var b=El(h,void 0,O.useContext(ad));x+=s.key+"-"+b.name;var w={};for(var p in i)qs.call(i,p)&&p!=="css"&&p!==Is&&!sd&&(w[p]=i[p]);return w.className=x,l&&(w.ref=l),O.createElement(O.Fragment,null,O.createElement(cd,{cache:s,serialized:b,isStringTag:typeof c=="string"}),O.createElement(c,w))}),dd=ud,fe=function(s,l){var d=arguments;if(l==null||!qs.call(l,"css"))return O.createElement.apply(void 0,d);var c=d.length,h=new Array(c);h[0]=dd,h[1]=ld(s,l);for(var x=2;x<c;x++)h[x]=d[x];return O.createElement.apply(null,h)};(function(i){var s;s||(s=i.JSX||(i.JSX={}))})(fe||(fe={}));function Zs(){for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return El(s)}function fd(){var i=Zs.apply(void 0,arguments),s="animation-"+i.name;return{name:s,styles:"@keyframes "+s+"{"+i.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function hd(i,s){return s||(s=i.slice(0)),Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(s)}}))}const gd=Math.min,xd=Math.max,ni=Math.round,jr=Math.floor,ri=i=>({x:i,y:i});function pd(i){const{x:s,y:l,width:d,height:c}=i;return{width:d,height:c,top:l,left:s,right:s+d,bottom:l+c,x:s,y:l}}function Mi(){return typeof window<"u"}function yl(i){return Sl(i)?(i.nodeName||"").toLowerCase():"#document"}function mn(i){var s;return(i==null||(s=i.ownerDocument)==null?void 0:s.defaultView)||window}function vl(i){var s;return(s=(Sl(i)?i.ownerDocument:i.document)||window.document)==null?void 0:s.documentElement}function Sl(i){return Mi()?i instanceof Node||i instanceof mn(i).Node:!1}function md(i){return Mi()?i instanceof Element||i instanceof mn(i).Element:!1}function Ks(i){return Mi()?i instanceof HTMLElement||i instanceof mn(i).HTMLElement:!1}function Zo(i){return!Mi()||typeof ShadowRoot>"u"?!1:i instanceof ShadowRoot||i instanceof mn(i).ShadowRoot}function Il(i){const{overflow:s,overflowX:l,overflowY:d,display:c}=$s(i);return/auto|scroll|overlay|hidden|clip/.test(s+d+l)&&!["inline","contents"].includes(c)}function wd(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function bd(i){return["html","body","#document"].includes(yl(i))}function $s(i){return mn(i).getComputedStyle(i)}function Cd(i){if(yl(i)==="html")return i;const s=i.assignedSlot||i.parentNode||Zo(i)&&i.host||vl(i);return Zo(s)?s.host:s}function _l(i){const s=Cd(i);return bd(s)?i.ownerDocument?i.ownerDocument.body:i.body:Ks(s)&&Il(s)?s:_l(s)}function ii(i,s,l){var d;s===void 0&&(s=[]),l===void 0&&(l=!0);const c=_l(i),h=c===((d=i.ownerDocument)==null?void 0:d.body),x=mn(c);if(h){const b=_s(x);return s.concat(x,x.visualViewport||[],Il(c)?c:[],b&&l?ii(b):[])}return s.concat(c,ii(c,[],l))}function _s(i){return i.parent&&Object.getPrototypeOf(i.parent)?i.frameElement:null}function Ed(i){const s=$s(i);let l=parseFloat(s.width)||0,d=parseFloat(s.height)||0;const c=Ks(i),h=c?i.offsetWidth:l,x=c?i.offsetHeight:d,b=ni(l)!==h||ni(d)!==x;return b&&(l=h,d=x),{width:l,height:d,$:b}}function Qs(i){return md(i)?i:i.contextElement}function Ko(i){const s=Qs(i);if(!Ks(s))return ri(1);const l=s.getBoundingClientRect(),{width:d,height:c,$:h}=Ed(s);let x=(h?ni(l.width):l.width)/d,b=(h?ni(l.height):l.height)/c;return(!x||!Number.isFinite(x))&&(x=1),(!b||!Number.isFinite(b))&&(b=1),{x,y:b}}const Ad=ri(0);function yd(i){const s=mn(i);return!wd()||!s.visualViewport?Ad:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function vd(i,s,l){return!1}function $o(i,s,l,d){s===void 0&&(s=!1);const c=i.getBoundingClientRect(),h=Qs(i);let x=ri(1);s&&(x=Ko(i));const b=vd()?yd(h):ri(0);let w=(c.left+b.x)/x.x,p=(c.top+b.y)/x.y,A=c.width/x.x,y=c.height/x.y;if(h){const P=mn(h),B=d;let R=P,T=_s(R);for(;T&&d&&B!==R;){const M=Ko(T),k=T.getBoundingClientRect(),j=$s(T),G=k.left+(T.clientLeft+parseFloat(j.paddingLeft))*M.x,Y=k.top+(T.clientTop+parseFloat(j.paddingTop))*M.y;w*=M.x,p*=M.y,A*=M.x,y*=M.y,w+=G,p+=Y,R=mn(T),T=_s(R)}}return pd({width:A,height:y,x:w,y:p})}function Tl(i,s){return i.x===s.x&&i.y===s.y&&i.width===s.width&&i.height===s.height}function Sd(i,s){let l=null,d;const c=vl(i);function h(){var b;clearTimeout(d),(b=l)==null||b.disconnect(),l=null}function x(b,w){b===void 0&&(b=!1),w===void 0&&(w=1),h();const p=i.getBoundingClientRect(),{left:A,top:y,width:P,height:B}=p;if(b||s(),!P||!B)return;const R=jr(y),T=jr(c.clientWidth-(A+P)),M=jr(c.clientHeight-(y+B)),k=jr(A),G={rootMargin:-R+"px "+-T+"px "+-M+"px "+-k+"px",threshold:xd(0,gd(1,w))||1};let Y=!0;function ie($){const L=$[0].intersectionRatio;if(L!==w){if(!Y)return x();L?x(!1,L):d=setTimeout(()=>{x(!1,1e-7)},1e3)}L===1&&!Tl(p,i.getBoundingClientRect())&&x(),Y=!1}try{l=new IntersectionObserver(ie,{...G,root:c.ownerDocument})}catch{l=new IntersectionObserver(ie,G)}l.observe(i)}return x(!0),h}function Id(i,s,l,d){d===void 0&&(d={});const{ancestorScroll:c=!0,ancestorResize:h=!0,elementResize:x=typeof ResizeObserver=="function",layoutShift:b=typeof IntersectionObserver=="function",animationFrame:w=!1}=d,p=Qs(i),A=c||h?[...p?ii(p):[],...ii(s)]:[];A.forEach(k=>{c&&k.addEventListener("scroll",l,{passive:!0}),h&&k.addEventListener("resize",l)});const y=p&&b?Sd(p,l):null;let P=-1,B=null;x&&(B=new ResizeObserver(k=>{let[j]=k;j&&j.target===p&&B&&(B.unobserve(s),cancelAnimationFrame(P),P=requestAnimationFrame(()=>{var G;(G=B)==null||G.observe(s)})),l()}),p&&!w&&B.observe(p),B.observe(s));let R,T=w?$o(i):null;w&&M();function M(){const k=$o(i);T&&!Tl(T,k)&&l(),T=k,R=requestAnimationFrame(M)}return l(),()=>{var k;A.forEach(j=>{c&&j.removeEventListener("scroll",l),h&&j.removeEventListener("resize",l)}),y==null||y(),(k=B)==null||k.disconnect(),B=null,w&&cancelAnimationFrame(R)}}var Ts=O.useLayoutEffect,_d=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],si=function(){};function Td(i,s){return s?s[0]==="-"?i+s:i+"__"+s:i}function Od(i,s){for(var l=arguments.length,d=new Array(l>2?l-2:0),c=2;c<l;c++)d[c-2]=arguments[c];var h=[].concat(d);if(s&&i)for(var x in s)s.hasOwnProperty(x)&&s[x]&&h.push("".concat(Td(i,x)));return h.filter(function(b){return b}).map(function(b){return String(b).trim()}).join(" ")}var Qo=function(s){return Fd(s)?s.filter(Boolean):Vn(s)==="object"&&s!==null?[s]:[]},Ol=function(s){s.className,s.clearValue,s.cx,s.getStyles,s.getClassNames,s.getValue,s.hasValue,s.isMulti,s.isRtl,s.options,s.selectOption,s.selectProps,s.setValue,s.theme;var l=bn(s,_d);return ge({},l)},ct=function(s,l,d){var c=s.cx,h=s.getStyles,x=s.getClassNames,b=s.className;return{css:h(l,s),className:c(d??{},x(l,s),b)}};function Di(i){return[document.documentElement,document.body,window].indexOf(i)>-1}function Nd(i){return Di(i)?window.innerHeight:i.clientHeight}function Nl(i){return Di(i)?window.pageYOffset:i.scrollTop}function oi(i,s){if(Di(i)){window.scrollTo(0,s);return}i.scrollTop=s}function Rd(i){var s=getComputedStyle(i),l=s.position==="absolute",d=/(auto|scroll)/;if(s.position==="fixed")return document.documentElement;for(var c=i;c=c.parentElement;)if(s=getComputedStyle(c),!(l&&s.position==="static")&&d.test(s.overflow+s.overflowY+s.overflowX))return c;return document.documentElement}function Md(i,s,l,d){return l*((i=i/d-1)*i*i+1)+s}function Hr(i,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:si,c=Nl(i),h=s-c,x=10,b=0;function w(){b+=x;var p=Md(b,c,h,l);oi(i,p),b<l?window.requestAnimationFrame(w):d(i)}w()}function Jo(i,s){var l=i.getBoundingClientRect(),d=s.getBoundingClientRect(),c=s.offsetHeight/3;d.bottom+c>l.bottom?oi(i,Math.min(s.offsetTop+s.clientHeight-i.offsetHeight+c,i.scrollHeight)):d.top-c<l.top&&oi(i,Math.max(s.offsetTop-c,0))}function Dd(i){var s=i.getBoundingClientRect();return{bottom:s.bottom,height:s.height,left:s.left,right:s.right,top:s.top,width:s.width}}function ea(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function Pd(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var Rl=!1,Bd={get passive(){return Rl=!0}},Wr=typeof window<"u"?window:{};Wr.addEventListener&&Wr.removeEventListener&&(Wr.addEventListener("p",si,Bd),Wr.removeEventListener("p",si,!1));var Ld=Rl;function kd(i){return i!=null}function Fd(i){return Array.isArray(i)}function Gr(i,s,l){return i?s:l}var Vd=function(s){for(var l=arguments.length,d=new Array(l>1?l-1:0),c=1;c<l;c++)d[c-1]=arguments[c];var h=Object.entries(s).filter(function(x){var b=xn(x,1),w=b[0];return!d.includes(w)});return h.reduce(function(x,b){var w=xn(b,2),p=w[0],A=w[1];return x[p]=A,x},{})},Ud=["children","innerProps"],jd=["children","innerProps"];function Hd(i){var s=i.maxHeight,l=i.menuEl,d=i.minHeight,c=i.placement,h=i.shouldScroll,x=i.isFixedPosition,b=i.controlHeight,w=Rd(l),p={placement:"bottom",maxHeight:s};if(!l||!l.offsetParent)return p;var A=w.getBoundingClientRect(),y=A.height,P=l.getBoundingClientRect(),B=P.bottom,R=P.height,T=P.top,M=l.offsetParent.getBoundingClientRect(),k=M.top,j=x?window.innerHeight:Nd(w),G=Nl(w),Y=parseInt(getComputedStyle(l).marginBottom,10),ie=parseInt(getComputedStyle(l).marginTop,10),$=k-ie,L=j-T,K=$+G,z=y-G-T,Ve=B-j+G+Y,ye=G+T-ie,ae=160;switch(c){case"auto":case"bottom":if(L>=R)return{placement:"bottom",maxHeight:s};if(z>=R&&!x)return h&&Hr(w,Ve,ae),{placement:"bottom",maxHeight:s};if(!x&&z>=d||x&&L>=d){h&&Hr(w,Ve,ae);var Ee=x?L-Y:z-Y;return{placement:"bottom",maxHeight:Ee}}if(c==="auto"||x){var _e=s,U=x?$:K;return U>=d&&(_e=Math.min(U-Y-b,s)),{placement:"top",maxHeight:_e}}if(c==="bottom")return h&&oi(w,Ve),{placement:"bottom",maxHeight:s};break;case"top":if($>=R)return{placement:"top",maxHeight:s};if(K>=R&&!x)return h&&Hr(w,ye,ae),{placement:"top",maxHeight:s};if(!x&&K>=d||x&&$>=d){var xe=s;return(!x&&K>=d||x&&$>=d)&&(xe=x?$-ie:K-ie),h&&Hr(w,ye,ae),{placement:"top",maxHeight:xe}}return{placement:"bottom",maxHeight:s};default:throw new Error('Invalid placement provided "'.concat(c,'".'))}return p}function Wd(i){var s={bottom:"top",top:"bottom"};return i?s[i]:"bottom"}var Ml=function(s){return s==="auto"?"bottom":s},Gd=function(s,l){var d,c=s.placement,h=s.theme,x=h.borderRadius,b=h.spacing,w=h.colors;return ge((d={label:"menu"},mr(d,Wd(c),"100%"),mr(d,"position","absolute"),mr(d,"width","100%"),mr(d,"zIndex",1),d),l?{}:{backgroundColor:w.neutral0,borderRadius:x,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:b.menuGutter,marginTop:b.menuGutter})},Dl=O.createContext(null),Xd=function(s){var l=s.children,d=s.minMenuHeight,c=s.maxMenuHeight,h=s.menuPlacement,x=s.menuPosition,b=s.menuShouldScrollIntoView,w=s.theme,p=O.useContext(Dl)||{},A=p.setPortalPlacement,y=O.useRef(null),P=O.useState(c),B=xn(P,2),R=B[0],T=B[1],M=O.useState(null),k=xn(M,2),j=k[0],G=k[1],Y=w.spacing.controlHeight;return Ts(function(){var ie=y.current;if(ie){var $=x==="fixed",L=b&&!$,K=Hd({maxHeight:c,menuEl:ie,minHeight:d,placement:h,shouldScroll:L,isFixedPosition:$,controlHeight:Y});T(K.maxHeight),G(K.placement),A==null||A(K.placement)}},[c,h,x,b,d,A,Y]),l({ref:y,placerProps:ge(ge({},s),{},{placement:j||Ml(h),maxHeight:R})})},zd=function(s){var l=s.children,d=s.innerRef,c=s.innerProps;return fe("div",we({},ct(s,"menu",{menu:!0}),{ref:d},c),l)},Yd=zd,qd=function(s,l){var d=s.maxHeight,c=s.theme.spacing.baseUnit;return ge({maxHeight:d,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},l?{}:{paddingBottom:c,paddingTop:c})},Zd=function(s){var l=s.children,d=s.innerProps,c=s.innerRef,h=s.isMulti;return fe("div",we({},ct(s,"menuList",{"menu-list":!0,"menu-list--is-multi":h}),{ref:c},d),l)},Pl=function(s,l){var d=s.theme,c=d.spacing.baseUnit,h=d.colors;return ge({textAlign:"center"},l?{}:{color:h.neutral40,padding:"".concat(c*2,"px ").concat(c*3,"px")})},Kd=Pl,$d=Pl,Qd=function(s){var l=s.children,d=l===void 0?"No options":l,c=s.innerProps,h=bn(s,Ud);return fe("div",we({},ct(ge(ge({},h),{},{children:d,innerProps:c}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),c),d)},Jd=function(s){var l=s.children,d=l===void 0?"Loading...":l,c=s.innerProps,h=bn(s,jd);return fe("div",we({},ct(ge(ge({},h),{},{children:d,innerProps:c}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),c),d)},ef=function(s){var l=s.rect,d=s.offset,c=s.position;return{left:l.left,position:c,top:d,width:l.width,zIndex:1}},tf=function(s){var l=s.appendTo,d=s.children,c=s.controlElement,h=s.innerProps,x=s.menuPlacement,b=s.menuPosition,w=O.useRef(null),p=O.useRef(null),A=O.useState(Ml(x)),y=xn(A,2),P=y[0],B=y[1],R=O.useMemo(function(){return{setPortalPlacement:B}},[]),T=O.useState(null),M=xn(T,2),k=M[0],j=M[1],G=O.useCallback(function(){if(c){var L=Dd(c),K=b==="fixed"?0:window.pageYOffset,z=L[P]+K;(z!==(k==null?void 0:k.offset)||L.left!==(k==null?void 0:k.rect.left)||L.width!==(k==null?void 0:k.rect.width))&&j({offset:z,rect:L})}},[c,b,P,k==null?void 0:k.offset,k==null?void 0:k.rect.left,k==null?void 0:k.rect.width]);Ts(function(){G()},[G]);var Y=O.useCallback(function(){typeof p.current=="function"&&(p.current(),p.current=null),c&&w.current&&(p.current=Id(c,w.current,G,{elementResize:"ResizeObserver"in window}))},[c,G]);Ts(function(){Y()},[Y]);var ie=O.useCallback(function(L){w.current=L,Y()},[Y]);if(!l&&b!=="fixed"||!k)return null;var $=fe("div",we({ref:ie},ct(ge(ge({},s),{},{offset:k.offset,position:b,rect:k.rect}),"menuPortal",{"menu-portal":!0}),h),d);return fe(Dl.Provider,{value:R},l?Ta.createPortal($,l):$)},nf=function(s){var l=s.isDisabled,d=s.isRtl;return{label:"container",direction:d?"rtl":void 0,pointerEvents:l?"none":void 0,position:"relative"}},rf=function(s){var l=s.children,d=s.innerProps,c=s.isDisabled,h=s.isRtl;return fe("div",we({},ct(s,"container",{"--is-disabled":c,"--is-rtl":h}),d),l)},sf=function(s,l){var d=s.theme.spacing,c=s.isMulti,h=s.hasValue,x=s.selectProps.controlShouldRenderValue;return ge({alignItems:"center",display:c&&h&&x?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},l?{}:{padding:"".concat(d.baseUnit/2,"px ").concat(d.baseUnit*2,"px")})},of=function(s){var l=s.children,d=s.innerProps,c=s.isMulti,h=s.hasValue;return fe("div",we({},ct(s,"valueContainer",{"value-container":!0,"value-container--is-multi":c,"value-container--has-value":h}),d),l)},af=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},lf=function(s){var l=s.children,d=s.innerProps;return fe("div",we({},ct(s,"indicatorsContainer",{indicators:!0}),d),l)},ta,cf=["size"],uf=["innerProps","isRtl","size"],df={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Bl=function(s){var l=s.size,d=bn(s,cf);return fe("svg",we({height:l,width:l,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:df},d))},Js=function(s){return fe(Bl,we({size:20},s),fe("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Ll=function(s){return fe(Bl,we({size:20},s),fe("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},kl=function(s,l){var d=s.isFocused,c=s.theme,h=c.spacing.baseUnit,x=c.colors;return ge({label:"indicatorContainer",display:"flex",transition:"color 150ms"},l?{}:{color:d?x.neutral60:x.neutral20,padding:h*2,":hover":{color:d?x.neutral80:x.neutral40}})},ff=kl,hf=function(s){var l=s.children,d=s.innerProps;return fe("div",we({},ct(s,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),d),l||fe(Ll,null))},gf=kl,xf=function(s){var l=s.children,d=s.innerProps;return fe("div",we({},ct(s,"clearIndicator",{indicator:!0,"clear-indicator":!0}),d),l||fe(Js,null))},pf=function(s,l){var d=s.isDisabled,c=s.theme,h=c.spacing.baseUnit,x=c.colors;return ge({label:"indicatorSeparator",alignSelf:"stretch",width:1},l?{}:{backgroundColor:d?x.neutral10:x.neutral20,marginBottom:h*2,marginTop:h*2})},mf=function(s){var l=s.innerProps;return fe("span",we({},l,ct(s,"indicatorSeparator",{"indicator-separator":!0})))},wf=fd(ta||(ta=hd([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),bf=function(s,l){var d=s.isFocused,c=s.size,h=s.theme,x=h.colors,b=h.spacing.baseUnit;return ge({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:c,lineHeight:1,marginRight:c,textAlign:"center",verticalAlign:"middle"},l?{}:{color:d?x.neutral60:x.neutral20,padding:b*2})},os=function(s){var l=s.delay,d=s.offset;return fe("span",{css:Zs({animation:"".concat(wf," 1s ease-in-out ").concat(l,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:d?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Cf=function(s){var l=s.innerProps,d=s.isRtl,c=s.size,h=c===void 0?4:c,x=bn(s,uf);return fe("div",we({},ct(ge(ge({},x),{},{innerProps:l,isRtl:d,size:h}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),l),fe(os,{delay:0,offset:d}),fe(os,{delay:160,offset:!0}),fe(os,{delay:320,offset:!d}))},Ef=function(s,l){var d=s.isDisabled,c=s.isFocused,h=s.theme,x=h.colors,b=h.borderRadius,w=h.spacing;return ge({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:w.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},l?{}:{backgroundColor:d?x.neutral5:x.neutral0,borderColor:d?x.neutral10:c?x.primary:x.neutral20,borderRadius:b,borderStyle:"solid",borderWidth:1,boxShadow:c?"0 0 0 1px ".concat(x.primary):void 0,"&:hover":{borderColor:c?x.primary:x.neutral30}})},Af=function(s){var l=s.children,d=s.isDisabled,c=s.isFocused,h=s.innerRef,x=s.innerProps,b=s.menuIsOpen;return fe("div",we({ref:h},ct(s,"control",{control:!0,"control--is-disabled":d,"control--is-focused":c,"control--menu-is-open":b}),x,{"aria-disabled":d||void 0}),l)},yf=Af,vf=["data"],Sf=function(s,l){var d=s.theme.spacing;return l?{}:{paddingBottom:d.baseUnit*2,paddingTop:d.baseUnit*2}},If=function(s){var l=s.children,d=s.cx,c=s.getStyles,h=s.getClassNames,x=s.Heading,b=s.headingProps,w=s.innerProps,p=s.label,A=s.theme,y=s.selectProps;return fe("div",we({},ct(s,"group",{group:!0}),w),fe(x,we({},b,{selectProps:y,theme:A,getStyles:c,getClassNames:h,cx:d}),p),fe("div",null,l))},_f=function(s,l){var d=s.theme,c=d.colors,h=d.spacing;return ge({label:"group",cursor:"default",display:"block"},l?{}:{color:c.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:h.baseUnit*3,paddingRight:h.baseUnit*3,textTransform:"uppercase"})},Tf=function(s){var l=Ol(s);l.data;var d=bn(l,vf);return fe("div",we({},ct(s,"groupHeading",{"group-heading":!0}),d))},Of=If,Nf=["innerRef","isDisabled","isHidden","inputClassName"],Rf=function(s,l){var d=s.isDisabled,c=s.value,h=s.theme,x=h.spacing,b=h.colors;return ge(ge({visibility:d?"hidden":"visible",transform:c?"translateZ(0)":""},Mf),l?{}:{margin:x.baseUnit/2,paddingBottom:x.baseUnit/2,paddingTop:x.baseUnit/2,color:b.neutral80})},Fl={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Mf={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":ge({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},Fl)},Df=function(s){return ge({label:"input",color:"inherit",background:0,opacity:s?0:1,width:"100%"},Fl)},Pf=function(s){var l=s.cx,d=s.value,c=Ol(s),h=c.innerRef,x=c.isDisabled,b=c.isHidden,w=c.inputClassName,p=bn(c,Nf);return fe("div",we({},ct(s,"input",{"input-container":!0}),{"data-value":d||""}),fe("input",we({className:l({input:!0},w),ref:h,style:Df(b),disabled:x},p)))},Bf=Pf,Lf=function(s,l){var d=s.theme,c=d.spacing,h=d.borderRadius,x=d.colors;return ge({label:"multiValue",display:"flex",minWidth:0},l?{}:{backgroundColor:x.neutral10,borderRadius:h/2,margin:c.baseUnit/2})},kf=function(s,l){var d=s.theme,c=d.borderRadius,h=d.colors,x=s.cropWithEllipsis;return ge({overflow:"hidden",textOverflow:x||x===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},l?{}:{borderRadius:c/2,color:h.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Ff=function(s,l){var d=s.theme,c=d.spacing,h=d.borderRadius,x=d.colors,b=s.isFocused;return ge({alignItems:"center",display:"flex"},l?{}:{borderRadius:h/2,backgroundColor:b?x.dangerLight:void 0,paddingLeft:c.baseUnit,paddingRight:c.baseUnit,":hover":{backgroundColor:x.dangerLight,color:x.danger}})},Vl=function(s){var l=s.children,d=s.innerProps;return fe("div",d,l)},Vf=Vl,Uf=Vl;function jf(i){var s=i.children,l=i.innerProps;return fe("div",we({role:"button"},l),s||fe(Js,{size:14}))}var Hf=function(s){var l=s.children,d=s.components,c=s.data,h=s.innerProps,x=s.isDisabled,b=s.removeProps,w=s.selectProps,p=d.Container,A=d.Label,y=d.Remove;return fe(p,{data:c,innerProps:ge(ge({},ct(s,"multiValue",{"multi-value":!0,"multi-value--is-disabled":x})),h),selectProps:w},fe(A,{data:c,innerProps:ge({},ct(s,"multiValueLabel",{"multi-value__label":!0})),selectProps:w},l),fe(y,{data:c,innerProps:ge(ge({},ct(s,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(l||"option")},b),selectProps:w}))},Wf=Hf,Gf=function(s,l){var d=s.isDisabled,c=s.isFocused,h=s.isSelected,x=s.theme,b=x.spacing,w=x.colors;return ge({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},l?{}:{backgroundColor:h?w.primary:c?w.primary25:"transparent",color:d?w.neutral20:h?w.neutral0:"inherit",padding:"".concat(b.baseUnit*2,"px ").concat(b.baseUnit*3,"px"),":active":{backgroundColor:d?void 0:h?w.primary:w.primary50}})},Xf=function(s){var l=s.children,d=s.isDisabled,c=s.isFocused,h=s.isSelected,x=s.innerRef,b=s.innerProps;return fe("div",we({},ct(s,"option",{option:!0,"option--is-disabled":d,"option--is-focused":c,"option--is-selected":h}),{ref:x,"aria-disabled":d},b),l)},zf=Xf,Yf=function(s,l){var d=s.theme,c=d.spacing,h=d.colors;return ge({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},l?{}:{color:h.neutral50,marginLeft:c.baseUnit/2,marginRight:c.baseUnit/2})},qf=function(s){var l=s.children,d=s.innerProps;return fe("div",we({},ct(s,"placeholder",{placeholder:!0}),d),l)},Zf=qf,Kf=function(s,l){var d=s.isDisabled,c=s.theme,h=c.spacing,x=c.colors;return ge({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},l?{}:{color:d?x.neutral40:x.neutral80,marginLeft:h.baseUnit/2,marginRight:h.baseUnit/2})},$f=function(s){var l=s.children,d=s.isDisabled,c=s.innerProps;return fe("div",we({},ct(s,"singleValue",{"single-value":!0,"single-value--is-disabled":d}),c),l)},Qf=$f,Jf={ClearIndicator:xf,Control:yf,DropdownIndicator:hf,DownChevron:Ll,CrossIcon:Js,Group:Of,GroupHeading:Tf,IndicatorsContainer:lf,IndicatorSeparator:mf,Input:Bf,LoadingIndicator:Cf,Menu:Yd,MenuList:Zd,MenuPortal:tf,LoadingMessage:Jd,NoOptionsMessage:Qd,MultiValue:Wf,MultiValueContainer:Vf,MultiValueLabel:Uf,MultiValueRemove:jf,Option:zf,Placeholder:Zf,SelectContainer:rf,SingleValue:Qf,ValueContainer:of},eh=function(s){return ge(ge({},Jf),s.components)},na=Number.isNaN||function(s){return typeof s=="number"&&s!==s};function th(i,s){return!!(i===s||na(i)&&na(s))}function nh(i,s){if(i.length!==s.length)return!1;for(var l=0;l<i.length;l++)if(!th(i[l],s[l]))return!1;return!0}function rh(i,s){s===void 0&&(s=nh);var l=null;function d(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];if(l&&l.lastThis===this&&s(c,l.lastArgs))return l.lastResult;var x=i.apply(this,c);return l={lastResult:x,lastArgs:c,lastThis:this},x}return d.clear=function(){l=null},d}var ih={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},sh=function(s){return fe("span",we({css:ih},s))},ra=sh,oh={guidance:function(s){var l=s.isSearchable,d=s.isMulti,c=s.tabSelectsValue,h=s.context,x=s.isInitialFocus;switch(h){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(c?", press Tab to select the option and exit the menu":"",".");case"input":return x?"".concat(s["aria-label"]||"Select"," is focused ").concat(l?",type to refine list":"",", press Down to open the menu, ").concat(d?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(s){var l=s.action,d=s.label,c=d===void 0?"":d,h=s.labels,x=s.isDisabled;switch(l){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(c,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(h.length>1?"s":""," ").concat(h.join(","),", selected.");case"select-option":return x?"option ".concat(c," is disabled. Select another option."):"option ".concat(c,", selected.");default:return""}},onFocus:function(s){var l=s.context,d=s.focused,c=s.options,h=s.label,x=h===void 0?"":h,b=s.selectValue,w=s.isDisabled,p=s.isSelected,A=s.isAppleDevice,y=function(T,M){return T&&T.length?"".concat(T.indexOf(M)+1," of ").concat(T.length):""};if(l==="value"&&b)return"value ".concat(x," focused, ").concat(y(b,d),".");if(l==="menu"&&A){var P=w?" disabled":"",B="".concat(p?" selected":"").concat(P);return"".concat(x).concat(B,", ").concat(y(c,d),".")}return""},onFilter:function(s){var l=s.inputValue,d=s.resultsMessage;return"".concat(d).concat(l?" for search term "+l:"",".")}},ah=function(s){var l=s.ariaSelection,d=s.focusedOption,c=s.focusedValue,h=s.focusableOptions,x=s.isFocused,b=s.selectValue,w=s.selectProps,p=s.id,A=s.isAppleDevice,y=w.ariaLiveMessages,P=w.getOptionLabel,B=w.inputValue,R=w.isMulti,T=w.isOptionDisabled,M=w.isSearchable,k=w.menuIsOpen,j=w.options,G=w.screenReaderStatus,Y=w.tabSelectsValue,ie=w.isLoading,$=w["aria-label"],L=w["aria-live"],K=O.useMemo(function(){return ge(ge({},oh),y||{})},[y]),z=O.useMemo(function(){var U="";if(l&&K.onChange){var xe=l.option,J=l.options,Xe=l.removedValue,rt=l.removedValues,Ce=l.value,Kt=function(Ue){return Array.isArray(Ue)?null:Ue},Te=Xe||xe||Kt(Ce),$e=Te?P(Te):"",We=J||rt||void 0,ee=We?We.map(P):[],oe=ge({isDisabled:Te&&T(Te,b),label:$e,labels:ee},l);U=K.onChange(oe)}return U},[l,K,T,b,P]),Ve=O.useMemo(function(){var U="",xe=d||c,J=!!(d&&b&&b.includes(d));if(xe&&K.onFocus){var Xe={focused:xe,label:P(xe),isDisabled:T(xe,b),isSelected:J,options:h,context:xe===d?"menu":"value",selectValue:b,isAppleDevice:A};U=K.onFocus(Xe)}return U},[d,c,P,T,K,h,b,A]),ye=O.useMemo(function(){var U="";if(k&&j.length&&!ie&&K.onFilter){var xe=G({count:h.length});U=K.onFilter({inputValue:B,resultsMessage:xe})}return U},[h,B,k,K,j,G,ie]),ae=(l==null?void 0:l.action)==="initial-input-focus",Ee=O.useMemo(function(){var U="";if(K.guidance){var xe=c?"value":k?"menu":"input";U=K.guidance({"aria-label":$,context:xe,isDisabled:d&&T(d,b),isMulti:R,isSearchable:M,tabSelectsValue:Y,isInitialFocus:ae})}return U},[$,d,c,R,T,M,k,K,b,Y,ae]),_e=fe(O.Fragment,null,fe("span",{id:"aria-selection"},z),fe("span",{id:"aria-focused"},Ve),fe("span",{id:"aria-results"},ye),fe("span",{id:"aria-guidance"},Ee));return fe(O.Fragment,null,fe(ra,{id:p},ae&&_e),fe(ra,{"aria-live":L,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},x&&!ae&&_e))},lh=ah,Os=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],ch=new RegExp("["+Os.map(function(i){return i.letters}).join("")+"]","g"),Ul={};for(var as=0;as<Os.length;as++)for(var ls=Os[as],cs=0;cs<ls.letters.length;cs++)Ul[ls.letters[cs]]=ls.base;var jl=function(s){return s.replace(ch,function(l){return Ul[l]})},uh=rh(jl),ia=function(s){return s.replace(/^\s+|\s+$/g,"")},dh=function(s){return"".concat(s.label," ").concat(s.value)},fh=function(s){return function(l,d){if(l.data.__isNew__)return!0;var c=ge({ignoreCase:!0,ignoreAccents:!0,stringify:dh,trim:!0,matchFrom:"any"},s),h=c.ignoreCase,x=c.ignoreAccents,b=c.stringify,w=c.trim,p=c.matchFrom,A=w?ia(d):d,y=w?ia(b(l)):b(l);return h&&(A=A.toLowerCase(),y=y.toLowerCase()),x&&(A=uh(A),y=jl(y)),p==="start"?y.substr(0,A.length)===A:y.indexOf(A)>-1}},hh=["innerRef"];function gh(i){var s=i.innerRef,l=bn(i,hh),d=Vd(l,"onExited","in","enter","exit","appear");return fe("input",we({ref:s},d,{css:Zs({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var xh=function(s){s.cancelable&&s.preventDefault(),s.stopPropagation()};function ph(i){var s=i.isEnabled,l=i.onBottomArrive,d=i.onBottomLeave,c=i.onTopArrive,h=i.onTopLeave,x=O.useRef(!1),b=O.useRef(!1),w=O.useRef(0),p=O.useRef(null),A=O.useCallback(function(M,k){if(p.current!==null){var j=p.current,G=j.scrollTop,Y=j.scrollHeight,ie=j.clientHeight,$=p.current,L=k>0,K=Y-ie-G,z=!1;K>k&&x.current&&(d&&d(M),x.current=!1),L&&b.current&&(h&&h(M),b.current=!1),L&&k>K?(l&&!x.current&&l(M),$.scrollTop=Y,z=!0,x.current=!0):!L&&-k>G&&(c&&!b.current&&c(M),$.scrollTop=0,z=!0,b.current=!0),z&&xh(M)}},[l,d,c,h]),y=O.useCallback(function(M){A(M,M.deltaY)},[A]),P=O.useCallback(function(M){w.current=M.changedTouches[0].clientY},[]),B=O.useCallback(function(M){var k=w.current-M.changedTouches[0].clientY;A(M,k)},[A]),R=O.useCallback(function(M){if(M){var k=Ld?{passive:!1}:!1;M.addEventListener("wheel",y,k),M.addEventListener("touchstart",P,k),M.addEventListener("touchmove",B,k)}},[B,P,y]),T=O.useCallback(function(M){M&&(M.removeEventListener("wheel",y,!1),M.removeEventListener("touchstart",P,!1),M.removeEventListener("touchmove",B,!1))},[B,P,y]);return O.useEffect(function(){if(s){var M=p.current;return R(M),function(){T(M)}}},[s,R,T]),function(M){p.current=M}}var sa=["boxSizing","height","overflow","paddingRight","position"],oa={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function aa(i){i.cancelable&&i.preventDefault()}function la(i){i.stopPropagation()}function ca(){var i=this.scrollTop,s=this.scrollHeight,l=i+this.offsetHeight;i===0?this.scrollTop=1:l===s&&(this.scrollTop=i-1)}function ua(){return"ontouchstart"in window||navigator.maxTouchPoints}var da=!!(typeof window<"u"&&window.document&&window.document.createElement),xr=0,Zn={capture:!1,passive:!1};function mh(i){var s=i.isEnabled,l=i.accountForScrollbars,d=l===void 0?!0:l,c=O.useRef({}),h=O.useRef(null),x=O.useCallback(function(w){if(da){var p=document.body,A=p&&p.style;if(d&&sa.forEach(function(R){var T=A&&A[R];c.current[R]=T}),d&&xr<1){var y=parseInt(c.current.paddingRight,10)||0,P=document.body?document.body.clientWidth:0,B=window.innerWidth-P+y||0;Object.keys(oa).forEach(function(R){var T=oa[R];A&&(A[R]=T)}),A&&(A.paddingRight="".concat(B,"px"))}p&&ua()&&(p.addEventListener("touchmove",aa,Zn),w&&(w.addEventListener("touchstart",ca,Zn),w.addEventListener("touchmove",la,Zn))),xr+=1}},[d]),b=O.useCallback(function(w){if(da){var p=document.body,A=p&&p.style;xr=Math.max(xr-1,0),d&&xr<1&&sa.forEach(function(y){var P=c.current[y];A&&(A[y]=P)}),p&&ua()&&(p.removeEventListener("touchmove",aa,Zn),w&&(w.removeEventListener("touchstart",ca,Zn),w.removeEventListener("touchmove",la,Zn)))}},[d]);return O.useEffect(function(){if(s){var w=h.current;return x(w),function(){b(w)}}},[s,x,b]),function(w){h.current=w}}var wh=function(s){var l=s.target;return l.ownerDocument.activeElement&&l.ownerDocument.activeElement.blur()},bh={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Ch(i){var s=i.children,l=i.lockEnabled,d=i.captureEnabled,c=d===void 0?!0:d,h=i.onBottomArrive,x=i.onBottomLeave,b=i.onTopArrive,w=i.onTopLeave,p=ph({isEnabled:c,onBottomArrive:h,onBottomLeave:x,onTopArrive:b,onTopLeave:w}),A=mh({isEnabled:l}),y=function(B){p(B),A(B)};return fe(O.Fragment,null,l&&fe("div",{onClick:wh,css:bh}),s(y))}var Eh={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Ah=function(s){var l=s.name,d=s.onFocus;return fe("input",{required:!0,name:l,tabIndex:-1,"aria-hidden":"true",onFocus:d,css:Eh,value:"",onChange:function(){}})},yh=Ah;function eo(i){var s;return typeof window<"u"&&window.navigator!=null?i.test(((s=window.navigator.userAgentData)===null||s===void 0?void 0:s.platform)||window.navigator.platform):!1}function vh(){return eo(/^iPhone/i)}function Hl(){return eo(/^Mac/i)}function Sh(){return eo(/^iPad/i)||Hl()&&navigator.maxTouchPoints>1}function Ih(){return vh()||Sh()}function _h(){return Hl()||Ih()}var Th=function(s){return s.label},Oh=function(s){return s.label},Nh=function(s){return s.value},Rh=function(s){return!!s.isDisabled},Mh={clearIndicator:gf,container:nf,control:Ef,dropdownIndicator:ff,group:Sf,groupHeading:_f,indicatorsContainer:af,indicatorSeparator:pf,input:Rf,loadingIndicator:bf,loadingMessage:$d,menu:Gd,menuList:qd,menuPortal:ef,multiValue:Lf,multiValueLabel:kf,multiValueRemove:Ff,noOptionsMessage:Kd,option:Gf,placeholder:Yf,singleValue:Kf,valueContainer:sf},Dh={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},Ph=4,Wl=4,Bh=38,Lh=Wl*2,kh={baseUnit:Wl,controlHeight:Bh,menuGutter:Lh},us={borderRadius:Ph,colors:Dh,spacing:kh},Fh={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:ea(),captureMenuScroll:!ea(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:fh(),formatGroupLabel:Th,getOptionLabel:Oh,getOptionValue:Nh,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Rh,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Pd(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(s){var l=s.count;return"".concat(l," result").concat(l!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function fa(i,s,l,d){var c=zl(i,s,l),h=Yl(i,s,l),x=Xl(i,s),b=ai(i,s);return{type:"option",data:s,isDisabled:c,isSelected:h,label:x,value:b,index:d}}function $r(i,s){return i.options.map(function(l,d){if("options"in l){var c=l.options.map(function(x,b){return fa(i,x,s,b)}).filter(function(x){return ga(i,x)});return c.length>0?{type:"group",data:l,options:c,index:d}:void 0}var h=fa(i,l,s,d);return ga(i,h)?h:void 0}).filter(kd)}function Gl(i){return i.reduce(function(s,l){return l.type==="group"?s.push.apply(s,js(l.options.map(function(d){return d.data}))):s.push(l.data),s},[])}function ha(i,s){return i.reduce(function(l,d){return d.type==="group"?l.push.apply(l,js(d.options.map(function(c){return{data:c.data,id:"".concat(s,"-").concat(d.index,"-").concat(c.index)}}))):l.push({data:d.data,id:"".concat(s,"-").concat(d.index)}),l},[])}function Vh(i,s){return Gl($r(i,s))}function ga(i,s){var l=i.inputValue,d=l===void 0?"":l,c=s.data,h=s.isSelected,x=s.label,b=s.value;return(!Zl(i)||!h)&&ql(i,{label:x,value:b,data:c},d)}function Uh(i,s){var l=i.focusedValue,d=i.selectValue,c=d.indexOf(l);if(c>-1){var h=s.indexOf(l);if(h>-1)return l;if(c<s.length)return s[c]}return null}function jh(i,s){var l=i.focusedOption;return l&&s.indexOf(l)>-1?l:s[0]}var ds=function(s,l){var d,c=(d=s.find(function(h){return h.data===l}))===null||d===void 0?void 0:d.id;return c||null},Xl=function(s,l){return s.getOptionLabel(l)},ai=function(s,l){return s.getOptionValue(l)};function zl(i,s,l){return typeof i.isOptionDisabled=="function"?i.isOptionDisabled(s,l):!1}function Yl(i,s,l){if(l.indexOf(s)>-1)return!0;if(typeof i.isOptionSelected=="function")return i.isOptionSelected(s,l);var d=ai(i,s);return l.some(function(c){return ai(i,c)===d})}function ql(i,s,l){return i.filterOption?i.filterOption(s,l):!0}var Zl=function(s){var l=s.hideSelectedOptions,d=s.isMulti;return l===void 0?d:l},Hh=1,Kl=function(i){e0(l,i);var s=r0(l);function l(d){var c;if(Q1(this,l),c=s.call(this,d),c.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},c.blockOptionHover=!1,c.isComposing=!1,c.commonProps=void 0,c.initialTouchX=0,c.initialTouchY=0,c.openAfterFocus=!1,c.scrollToFocusedOptionOnUpdate=!1,c.userIsDragging=void 0,c.isAppleDevice=_h(),c.controlRef=null,c.getControlRef=function(w){c.controlRef=w},c.focusedOptionRef=null,c.getFocusedOptionRef=function(w){c.focusedOptionRef=w},c.menuListRef=null,c.getMenuListRef=function(w){c.menuListRef=w},c.inputRef=null,c.getInputRef=function(w){c.inputRef=w},c.focus=c.focusInput,c.blur=c.blurInput,c.onChange=function(w,p){var A=c.props,y=A.onChange,P=A.name;p.name=P,c.ariaOnChange(w,p),y(w,p)},c.setValue=function(w,p,A){var y=c.props,P=y.closeMenuOnSelect,B=y.isMulti,R=y.inputValue;c.onInputChange("",{action:"set-value",prevInputValue:R}),P&&(c.setState({inputIsHiddenAfterUpdate:!B}),c.onMenuClose()),c.setState({clearFocusValueOnUpdate:!0}),c.onChange(w,{action:p,option:A})},c.selectOption=function(w){var p=c.props,A=p.blurInputOnSelect,y=p.isMulti,P=p.name,B=c.state.selectValue,R=y&&c.isOptionSelected(w,B),T=c.isOptionDisabled(w,B);if(R){var M=c.getOptionValue(w);c.setValue(B.filter(function(k){return c.getOptionValue(k)!==M}),"deselect-option",w)}else if(!T)y?c.setValue([].concat(js(B),[w]),"select-option",w):c.setValue(w,"select-option");else{c.ariaOnChange(w,{action:"select-option",option:w,name:P});return}A&&c.blurInput()},c.removeValue=function(w){var p=c.props.isMulti,A=c.state.selectValue,y=c.getOptionValue(w),P=A.filter(function(R){return c.getOptionValue(R)!==y}),B=Gr(p,P,P[0]||null);c.onChange(B,{action:"remove-value",removedValue:w}),c.focusInput()},c.clearValue=function(){var w=c.state.selectValue;c.onChange(Gr(c.props.isMulti,[],null),{action:"clear",removedValues:w})},c.popValue=function(){var w=c.props.isMulti,p=c.state.selectValue,A=p[p.length-1],y=p.slice(0,p.length-1),P=Gr(w,y,y[0]||null);A&&c.onChange(P,{action:"pop-value",removedValue:A})},c.getFocusedOptionId=function(w){return ds(c.state.focusableOptionsWithIds,w)},c.getFocusableOptionsWithIds=function(){return ha($r(c.props,c.state.selectValue),c.getElementId("option"))},c.getValue=function(){return c.state.selectValue},c.cx=function(){for(var w=arguments.length,p=new Array(w),A=0;A<w;A++)p[A]=arguments[A];return Od.apply(void 0,[c.props.classNamePrefix].concat(p))},c.getOptionLabel=function(w){return Xl(c.props,w)},c.getOptionValue=function(w){return ai(c.props,w)},c.getStyles=function(w,p){var A=c.props.unstyled,y=Mh[w](p,A);y.boxSizing="border-box";var P=c.props.styles[w];return P?P(y,p):y},c.getClassNames=function(w,p){var A,y;return(A=(y=c.props.classNames)[w])===null||A===void 0?void 0:A.call(y,p)},c.getElementId=function(w){return"".concat(c.state.instancePrefix,"-").concat(w)},c.getComponents=function(){return eh(c.props)},c.buildCategorizedOptions=function(){return $r(c.props,c.state.selectValue)},c.getCategorizedOptions=function(){return c.props.menuIsOpen?c.buildCategorizedOptions():[]},c.buildFocusableOptions=function(){return Gl(c.buildCategorizedOptions())},c.getFocusableOptions=function(){return c.props.menuIsOpen?c.buildFocusableOptions():[]},c.ariaOnChange=function(w,p){c.setState({ariaSelection:ge({value:w},p)})},c.onMenuMouseDown=function(w){w.button===0&&(w.stopPropagation(),w.preventDefault(),c.focusInput())},c.onMenuMouseMove=function(w){c.blockOptionHover=!1},c.onControlMouseDown=function(w){if(!w.defaultPrevented){var p=c.props.openMenuOnClick;c.state.isFocused?c.props.menuIsOpen?w.target.tagName!=="INPUT"&&w.target.tagName!=="TEXTAREA"&&c.onMenuClose():p&&c.openMenu("first"):(p&&(c.openAfterFocus=!0),c.focusInput()),w.target.tagName!=="INPUT"&&w.target.tagName!=="TEXTAREA"&&w.preventDefault()}},c.onDropdownIndicatorMouseDown=function(w){if(!(w&&w.type==="mousedown"&&w.button!==0)&&!c.props.isDisabled){var p=c.props,A=p.isMulti,y=p.menuIsOpen;c.focusInput(),y?(c.setState({inputIsHiddenAfterUpdate:!A}),c.onMenuClose()):c.openMenu("first"),w.preventDefault()}},c.onClearIndicatorMouseDown=function(w){w&&w.type==="mousedown"&&w.button!==0||(c.clearValue(),w.preventDefault(),c.openAfterFocus=!1,w.type==="touchend"?c.focusInput():setTimeout(function(){return c.focusInput()}))},c.onScroll=function(w){typeof c.props.closeMenuOnScroll=="boolean"?w.target instanceof HTMLElement&&Di(w.target)&&c.props.onMenuClose():typeof c.props.closeMenuOnScroll=="function"&&c.props.closeMenuOnScroll(w)&&c.props.onMenuClose()},c.onCompositionStart=function(){c.isComposing=!0},c.onCompositionEnd=function(){c.isComposing=!1},c.onTouchStart=function(w){var p=w.touches,A=p&&p.item(0);A&&(c.initialTouchX=A.clientX,c.initialTouchY=A.clientY,c.userIsDragging=!1)},c.onTouchMove=function(w){var p=w.touches,A=p&&p.item(0);if(A){var y=Math.abs(A.clientX-c.initialTouchX),P=Math.abs(A.clientY-c.initialTouchY),B=5;c.userIsDragging=y>B||P>B}},c.onTouchEnd=function(w){c.userIsDragging||(c.controlRef&&!c.controlRef.contains(w.target)&&c.menuListRef&&!c.menuListRef.contains(w.target)&&c.blurInput(),c.initialTouchX=0,c.initialTouchY=0)},c.onControlTouchEnd=function(w){c.userIsDragging||c.onControlMouseDown(w)},c.onClearIndicatorTouchEnd=function(w){c.userIsDragging||c.onClearIndicatorMouseDown(w)},c.onDropdownIndicatorTouchEnd=function(w){c.userIsDragging||c.onDropdownIndicatorMouseDown(w)},c.handleInputChange=function(w){var p=c.props.inputValue,A=w.currentTarget.value;c.setState({inputIsHiddenAfterUpdate:!1}),c.onInputChange(A,{action:"input-change",prevInputValue:p}),c.props.menuIsOpen||c.onMenuOpen()},c.onInputFocus=function(w){c.props.onFocus&&c.props.onFocus(w),c.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(c.openAfterFocus||c.props.openMenuOnFocus)&&c.openMenu("first"),c.openAfterFocus=!1},c.onInputBlur=function(w){var p=c.props.inputValue;if(c.menuListRef&&c.menuListRef.contains(document.activeElement)){c.inputRef.focus();return}c.props.onBlur&&c.props.onBlur(w),c.onInputChange("",{action:"input-blur",prevInputValue:p}),c.onMenuClose(),c.setState({focusedValue:null,isFocused:!1})},c.onOptionHover=function(w){if(!(c.blockOptionHover||c.state.focusedOption===w)){var p=c.getFocusableOptions(),A=p.indexOf(w);c.setState({focusedOption:w,focusedOptionId:A>-1?c.getFocusedOptionId(w):null})}},c.shouldHideSelectedOptions=function(){return Zl(c.props)},c.onValueInputFocus=function(w){w.preventDefault(),w.stopPropagation(),c.focus()},c.onKeyDown=function(w){var p=c.props,A=p.isMulti,y=p.backspaceRemovesValue,P=p.escapeClearsValue,B=p.inputValue,R=p.isClearable,T=p.isDisabled,M=p.menuIsOpen,k=p.onKeyDown,j=p.tabSelectsValue,G=p.openMenuOnFocus,Y=c.state,ie=Y.focusedOption,$=Y.focusedValue,L=Y.selectValue;if(!T&&!(typeof k=="function"&&(k(w),w.defaultPrevented))){switch(c.blockOptionHover=!0,w.key){case"ArrowLeft":if(!A||B)return;c.focusValue("previous");break;case"ArrowRight":if(!A||B)return;c.focusValue("next");break;case"Delete":case"Backspace":if(B)return;if($)c.removeValue($);else{if(!y)return;A?c.popValue():R&&c.clearValue()}break;case"Tab":if(c.isComposing||w.shiftKey||!M||!j||!ie||G&&c.isOptionSelected(ie,L))return;c.selectOption(ie);break;case"Enter":if(w.keyCode===229)break;if(M){if(!ie||c.isComposing)return;c.selectOption(ie);break}return;case"Escape":M?(c.setState({inputIsHiddenAfterUpdate:!1}),c.onInputChange("",{action:"menu-close",prevInputValue:B}),c.onMenuClose()):R&&P&&c.clearValue();break;case" ":if(B)return;if(!M){c.openMenu("first");break}if(!ie)return;c.selectOption(ie);break;case"ArrowUp":M?c.focusOption("up"):c.openMenu("last");break;case"ArrowDown":M?c.focusOption("down"):c.openMenu("first");break;case"PageUp":if(!M)return;c.focusOption("pageup");break;case"PageDown":if(!M)return;c.focusOption("pagedown");break;case"Home":if(!M)return;c.focusOption("first");break;case"End":if(!M)return;c.focusOption("last");break;default:return}w.preventDefault()}},c.state.instancePrefix="react-select-"+(c.props.instanceId||++Hh),c.state.selectValue=Qo(d.value),d.menuIsOpen&&c.state.selectValue.length){var h=c.getFocusableOptionsWithIds(),x=c.buildFocusableOptions(),b=x.indexOf(c.state.selectValue[0]);c.state.focusableOptionsWithIds=h,c.state.focusedOption=x[b],c.state.focusedOptionId=ds(h,x[b])}return c}return J1(l,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Jo(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(c){var h=this.props,x=h.isDisabled,b=h.menuIsOpen,w=this.state.isFocused;(w&&!x&&c.isDisabled||w&&b&&!c.menuIsOpen)&&this.focusInput(),w&&x&&!c.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!w&&!x&&c.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Jo(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(c,h){this.props.onInputChange(c,h)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(c){var h=this,x=this.state,b=x.selectValue,w=x.isFocused,p=this.buildFocusableOptions(),A=c==="first"?0:p.length-1;if(!this.props.isMulti){var y=p.indexOf(b[0]);y>-1&&(A=y)}this.scrollToFocusedOptionOnUpdate=!(w&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:p[A],focusedOptionId:this.getFocusedOptionId(p[A])},function(){return h.onMenuOpen()})}},{key:"focusValue",value:function(c){var h=this.state,x=h.selectValue,b=h.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var w=x.indexOf(b);b||(w=-1);var p=x.length-1,A=-1;if(x.length){switch(c){case"previous":w===0?A=0:w===-1?A=p:A=w-1;break;case"next":w>-1&&w<p&&(A=w+1);break}this.setState({inputIsHidden:A!==-1,focusedValue:x[A]})}}}},{key:"focusOption",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",h=this.props.pageSize,x=this.state.focusedOption,b=this.getFocusableOptions();if(b.length){var w=0,p=b.indexOf(x);x||(p=-1),c==="up"?w=p>0?p-1:b.length-1:c==="down"?w=(p+1)%b.length:c==="pageup"?(w=p-h,w<0&&(w=0)):c==="pagedown"?(w=p+h,w>b.length-1&&(w=b.length-1)):c==="last"&&(w=b.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:b[w],focusedValue:null,focusedOptionId:this.getFocusedOptionId(b[w])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(us):ge(ge({},us),this.props.theme):us}},{key:"getCommonProps",value:function(){var c=this.clearValue,h=this.cx,x=this.getStyles,b=this.getClassNames,w=this.getValue,p=this.selectOption,A=this.setValue,y=this.props,P=y.isMulti,B=y.isRtl,R=y.options,T=this.hasValue();return{clearValue:c,cx:h,getStyles:x,getClassNames:b,getValue:w,hasValue:T,isMulti:P,isRtl:B,options:R,selectOption:p,selectProps:y,setValue:A,theme:this.getTheme()}}},{key:"hasValue",value:function(){var c=this.state.selectValue;return c.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var c=this.props,h=c.isClearable,x=c.isMulti;return h===void 0?x:h}},{key:"isOptionDisabled",value:function(c,h){return zl(this.props,c,h)}},{key:"isOptionSelected",value:function(c,h){return Yl(this.props,c,h)}},{key:"filterOption",value:function(c,h){return ql(this.props,c,h)}},{key:"formatOptionLabel",value:function(c,h){if(typeof this.props.formatOptionLabel=="function"){var x=this.props.inputValue,b=this.state.selectValue;return this.props.formatOptionLabel(c,{context:h,inputValue:x,selectValue:b})}else return this.getOptionLabel(c)}},{key:"formatGroupLabel",value:function(c){return this.props.formatGroupLabel(c)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var c=this.props,h=c.isDisabled,x=c.isSearchable,b=c.inputId,w=c.inputValue,p=c.tabIndex,A=c.form,y=c.menuIsOpen,P=c.required,B=this.getComponents(),R=B.Input,T=this.state,M=T.inputIsHidden,k=T.ariaSelection,j=this.commonProps,G=b||this.getElementId("input"),Y=ge(ge(ge({"aria-autocomplete":"list","aria-expanded":y,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":P,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},y&&{"aria-controls":this.getElementId("listbox")}),!x&&{"aria-readonly":!0}),this.hasValue()?(k==null?void 0:k.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return x?O.createElement(R,we({},j,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:G,innerRef:this.getInputRef,isDisabled:h,isHidden:M,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:p,form:A,type:"text",value:w},Y)):O.createElement(gh,we({id:G,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:si,onFocus:this.onInputFocus,disabled:h,tabIndex:p,inputMode:"none",form:A,value:""},Y))}},{key:"renderPlaceholderOrValue",value:function(){var c=this,h=this.getComponents(),x=h.MultiValue,b=h.MultiValueContainer,w=h.MultiValueLabel,p=h.MultiValueRemove,A=h.SingleValue,y=h.Placeholder,P=this.commonProps,B=this.props,R=B.controlShouldRenderValue,T=B.isDisabled,M=B.isMulti,k=B.inputValue,j=B.placeholder,G=this.state,Y=G.selectValue,ie=G.focusedValue,$=G.isFocused;if(!this.hasValue()||!R)return k?null:O.createElement(y,we({},P,{key:"placeholder",isDisabled:T,isFocused:$,innerProps:{id:this.getElementId("placeholder")}}),j);if(M)return Y.map(function(K,z){var Ve=K===ie,ye="".concat(c.getOptionLabel(K),"-").concat(c.getOptionValue(K));return O.createElement(x,we({},P,{components:{Container:b,Label:w,Remove:p},isFocused:Ve,isDisabled:T,key:ye,index:z,removeProps:{onClick:function(){return c.removeValue(K)},onTouchEnd:function(){return c.removeValue(K)},onMouseDown:function(Ee){Ee.preventDefault()}},data:K}),c.formatOptionLabel(K,"value"))});if(k)return null;var L=Y[0];return O.createElement(A,we({},P,{data:L,isDisabled:T}),this.formatOptionLabel(L,"value"))}},{key:"renderClearIndicator",value:function(){var c=this.getComponents(),h=c.ClearIndicator,x=this.commonProps,b=this.props,w=b.isDisabled,p=b.isLoading,A=this.state.isFocused;if(!this.isClearable()||!h||w||!this.hasValue()||p)return null;var y={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return O.createElement(h,we({},x,{innerProps:y,isFocused:A}))}},{key:"renderLoadingIndicator",value:function(){var c=this.getComponents(),h=c.LoadingIndicator,x=this.commonProps,b=this.props,w=b.isDisabled,p=b.isLoading,A=this.state.isFocused;if(!h||!p)return null;var y={"aria-hidden":"true"};return O.createElement(h,we({},x,{innerProps:y,isDisabled:w,isFocused:A}))}},{key:"renderIndicatorSeparator",value:function(){var c=this.getComponents(),h=c.DropdownIndicator,x=c.IndicatorSeparator;if(!h||!x)return null;var b=this.commonProps,w=this.props.isDisabled,p=this.state.isFocused;return O.createElement(x,we({},b,{isDisabled:w,isFocused:p}))}},{key:"renderDropdownIndicator",value:function(){var c=this.getComponents(),h=c.DropdownIndicator;if(!h)return null;var x=this.commonProps,b=this.props.isDisabled,w=this.state.isFocused,p={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return O.createElement(h,we({},x,{innerProps:p,isDisabled:b,isFocused:w}))}},{key:"renderMenu",value:function(){var c=this,h=this.getComponents(),x=h.Group,b=h.GroupHeading,w=h.Menu,p=h.MenuList,A=h.MenuPortal,y=h.LoadingMessage,P=h.NoOptionsMessage,B=h.Option,R=this.commonProps,T=this.state.focusedOption,M=this.props,k=M.captureMenuScroll,j=M.inputValue,G=M.isLoading,Y=M.loadingMessage,ie=M.minMenuHeight,$=M.maxMenuHeight,L=M.menuIsOpen,K=M.menuPlacement,z=M.menuPosition,Ve=M.menuPortalTarget,ye=M.menuShouldBlockScroll,ae=M.menuShouldScrollIntoView,Ee=M.noOptionsMessage,_e=M.onMenuScrollToTop,U=M.onMenuScrollToBottom;if(!L)return null;var xe=function($e,We){var ee=$e.type,oe=$e.data,Nt=$e.isDisabled,Ue=$e.isSelected,Gt=$e.label,fn=$e.value,it=T===oe,re=Nt?void 0:function(){return c.onOptionHover(oe)},Q=Nt?void 0:function(){return c.selectOption(oe)},pe="".concat(c.getElementId("option"),"-").concat(We),Ae={id:pe,onClick:Q,onMouseMove:re,onMouseOver:re,tabIndex:-1,role:"option","aria-selected":c.isAppleDevice?void 0:Ue};return O.createElement(B,we({},R,{innerProps:Ae,data:oe,isDisabled:Nt,isSelected:Ue,key:pe,label:Gt,type:ee,value:fn,isFocused:it,innerRef:it?c.getFocusedOptionRef:void 0}),c.formatOptionLabel($e.data,"menu"))},J;if(this.hasOptions())J=this.getCategorizedOptions().map(function(Te){if(Te.type==="group"){var $e=Te.data,We=Te.options,ee=Te.index,oe="".concat(c.getElementId("group"),"-").concat(ee),Nt="".concat(oe,"-heading");return O.createElement(x,we({},R,{key:oe,data:$e,options:We,Heading:b,headingProps:{id:Nt,data:Te.data},label:c.formatGroupLabel(Te.data)}),Te.options.map(function(Ue){return xe(Ue,"".concat(ee,"-").concat(Ue.index))}))}else if(Te.type==="option")return xe(Te,"".concat(Te.index))});else if(G){var Xe=Y({inputValue:j});if(Xe===null)return null;J=O.createElement(y,R,Xe)}else{var rt=Ee({inputValue:j});if(rt===null)return null;J=O.createElement(P,R,rt)}var Ce={minMenuHeight:ie,maxMenuHeight:$,menuPlacement:K,menuPosition:z,menuShouldScrollIntoView:ae},Kt=O.createElement(Xd,we({},R,Ce),function(Te){var $e=Te.ref,We=Te.placerProps,ee=We.placement,oe=We.maxHeight;return O.createElement(w,we({},R,Ce,{innerRef:$e,innerProps:{onMouseDown:c.onMenuMouseDown,onMouseMove:c.onMenuMouseMove},isLoading:G,placement:ee}),O.createElement(Ch,{captureEnabled:k,onTopArrive:_e,onBottomArrive:U,lockEnabled:ye},function(Nt){return O.createElement(p,we({},R,{innerRef:function(Gt){c.getMenuListRef(Gt),Nt(Gt)},innerProps:{role:"listbox","aria-multiselectable":R.isMulti,id:c.getElementId("listbox")},isLoading:G,maxHeight:oe,focusedOption:T}),J)}))});return Ve||z==="fixed"?O.createElement(A,we({},R,{appendTo:Ve,controlElement:this.controlRef,menuPlacement:K,menuPosition:z}),Kt):Kt}},{key:"renderFormField",value:function(){var c=this,h=this.props,x=h.delimiter,b=h.isDisabled,w=h.isMulti,p=h.name,A=h.required,y=this.state.selectValue;if(A&&!this.hasValue()&&!b)return O.createElement(yh,{name:p,onFocus:this.onValueInputFocus});if(!(!p||b))if(w)if(x){var P=y.map(function(T){return c.getOptionValue(T)}).join(x);return O.createElement("input",{name:p,type:"hidden",value:P})}else{var B=y.length>0?y.map(function(T,M){return O.createElement("input",{key:"i-".concat(M),name:p,type:"hidden",value:c.getOptionValue(T)})}):O.createElement("input",{name:p,type:"hidden",value:""});return O.createElement("div",null,B)}else{var R=y[0]?this.getOptionValue(y[0]):"";return O.createElement("input",{name:p,type:"hidden",value:R})}}},{key:"renderLiveRegion",value:function(){var c=this.commonProps,h=this.state,x=h.ariaSelection,b=h.focusedOption,w=h.focusedValue,p=h.isFocused,A=h.selectValue,y=this.getFocusableOptions();return O.createElement(lh,we({},c,{id:this.getElementId("live-region"),ariaSelection:x,focusedOption:b,focusedValue:w,isFocused:p,selectValue:A,focusableOptions:y,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var c=this.getComponents(),h=c.Control,x=c.IndicatorsContainer,b=c.SelectContainer,w=c.ValueContainer,p=this.props,A=p.className,y=p.id,P=p.isDisabled,B=p.menuIsOpen,R=this.state.isFocused,T=this.commonProps=this.getCommonProps();return O.createElement(b,we({},T,{className:A,innerProps:{id:y,onKeyDown:this.onKeyDown},isDisabled:P,isFocused:R}),this.renderLiveRegion(),O.createElement(h,we({},T,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:P,isFocused:R,menuIsOpen:B}),O.createElement(w,we({},T,{isDisabled:P}),this.renderPlaceholderOrValue(),this.renderInput()),O.createElement(x,we({},T,{isDisabled:P}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(c,h){var x=h.prevProps,b=h.clearFocusValueOnUpdate,w=h.inputIsHiddenAfterUpdate,p=h.ariaSelection,A=h.isFocused,y=h.prevWasFocused,P=h.instancePrefix,B=c.options,R=c.value,T=c.menuIsOpen,M=c.inputValue,k=c.isMulti,j=Qo(R),G={};if(x&&(R!==x.value||B!==x.options||T!==x.menuIsOpen||M!==x.inputValue)){var Y=T?Vh(c,j):[],ie=T?ha($r(c,j),"".concat(P,"-option")):[],$=b?Uh(h,j):null,L=jh(h,Y),K=ds(ie,L);G={selectValue:j,focusedOption:L,focusedOptionId:K,focusableOptionsWithIds:ie,focusedValue:$,clearFocusValueOnUpdate:!1}}var z=w!=null&&c!==x?{inputIsHidden:w,inputIsHiddenAfterUpdate:void 0}:{},Ve=p,ye=A&&y;return A&&!ye&&(Ve={value:Gr(k,j,j[0]||null),options:j,action:"initial-input-focus"},ye=!y),(p==null?void 0:p.action)==="initial-input-focus"&&(Ve=null),ge(ge(ge({},G),z),{},{prevProps:c,ariaSelection:Ve,prevWasFocused:ye})}}]),l}(O.Component);Kl.defaultProps=Fh;var Wh=O.forwardRef(function(i,s){var l=$1(i);return O.createElement(Kl,we({ref:s},l))}),xa=Wh;/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$l=(...i)=>i.filter((s,l,d)=>!!s&&s.trim()!==""&&d.indexOf(s)===l).join(" ").trim();/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Xh={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=O.forwardRef(({color:i="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:d,className:c="",children:h,iconNode:x,...b},w)=>O.createElement("svg",{ref:w,...Xh,width:s,height:s,stroke:i,strokeWidth:d?Number(l)*24/Number(s):l,className:$l("lucide",c),...b},[...x.map(([p,A])=>O.createElement(p,A)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=(i,s)=>{const l=O.forwardRef(({className:d,...c},h)=>O.createElement(zh,{ref:h,iconNode:s,className:$l(`lucide-${Gh(i)}`,d),...c}));return l.displayName=`${i}`,l};/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=Cn("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=Cn("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=Cn("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=Cn("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=Cn("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=Cn("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=Cn("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=Cn("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=Cn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);async function pa(){return await(await He.get(`${tn}/api/available_books`)).data}async function fs(){return await(await He.get(`${tn}/api/borrowed_books`)).data}async function tg(i){return await(await He.get(`${tn}/api/book/${i}`)).data}async function ng(){const i=await wn.get("/api/members");return console.log("API Response:",i.data),i.data.members||i.data}const rg=async(i,s,l)=>{try{return(await wn.post("/api/book/borrow",{qr_code:i,member_id:s,book_state:l})).data}catch(d){throw console.error("Error borrowing book:",d.response||d),d}},ig=async i=>{try{return(await wn.post("/api/book/return",{qr_code:i})).data}catch(s){throw console.error("Error returning book:",s),s}};async function pr(i,s){return(await He.get(`${tn}/api/loans/history`,{params:{qr_code:i||"",show_all:s?"true":"false"}})).data}const sg=async(i,s,l)=>{var d,c;try{return(await wn.post("/api/send-reminder",{loan_id:i,subject:s,loan_details:l})).data}catch(h){return console.error(`Error sending reminder for loan_id ${i}:`,h),{success:!1,error:((c=(d=h.response)==null?void 0:d.data)==null?void 0:c.error)||h.message||"Unknown error"}}},ma=async i=>{try{const s=await He.get(`${tn}/api/reminders/last/${i}`),{sent_at:l}=s.data;return{sent_at:l}}catch(s){return console.error(`Error fetching last reminder for loan_id ${i}:`,s),null}};var ce;(function(i){i[i.QR_CODE=0]="QR_CODE",i[i.AZTEC=1]="AZTEC",i[i.CODABAR=2]="CODABAR",i[i.CODE_39=3]="CODE_39",i[i.CODE_93=4]="CODE_93",i[i.CODE_128=5]="CODE_128",i[i.DATA_MATRIX=6]="DATA_MATRIX",i[i.MAXICODE=7]="MAXICODE",i[i.ITF=8]="ITF",i[i.EAN_13=9]="EAN_13",i[i.EAN_8=10]="EAN_8",i[i.PDF_417=11]="PDF_417",i[i.RSS_14=12]="RSS_14",i[i.RSS_EXPANDED=13]="RSS_EXPANDED",i[i.UPC_A=14]="UPC_A",i[i.UPC_E=15]="UPC_E",i[i.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ce||(ce={}));var wa=new Map([[ce.QR_CODE,"QR_CODE"],[ce.AZTEC,"AZTEC"],[ce.CODABAR,"CODABAR"],[ce.CODE_39,"CODE_39"],[ce.CODE_93,"CODE_93"],[ce.CODE_128,"CODE_128"],[ce.DATA_MATRIX,"DATA_MATRIX"],[ce.MAXICODE,"MAXICODE"],[ce.ITF,"ITF"],[ce.EAN_13,"EAN_13"],[ce.EAN_8,"EAN_8"],[ce.PDF_417,"PDF_417"],[ce.RSS_14,"RSS_14"],[ce.RSS_EXPANDED,"RSS_EXPANDED"],[ce.UPC_A,"UPC_A"],[ce.UPC_E,"UPC_E"],[ce.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),ba;(function(i){i[i.UNKNOWN=0]="UNKNOWN",i[i.URL=1]="URL"})(ba||(ba={}));function og(i){return Object.values(ce).includes(i)}var li;(function(i){i[i.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",i[i.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(li||(li={}));var ag=function(){function i(){}return i.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",i.SCAN_DEFAULT_FPS=2,i.DEFAULT_DISABLE_FLIP=!1,i.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,i.DEFAULT_SUPPORTED_SCAN_TYPE=[li.SCAN_TYPE_CAMERA,li.SCAN_TYPE_FILE],i}(),Ql=function(){function i(s,l){this.format=s,this.formatName=l}return i.prototype.toString=function(){return this.formatName},i.create=function(s){if(!wa.has(s))throw"".concat(s," not in html5QrcodeSupportedFormatsTextMap");return new i(s,wa.get(s))},i}(),Ca=function(){function i(){}return i.createFromText=function(s){var l={text:s};return{decodedText:s,result:l}},i.createFromQrcodeResult=function(s){return{decodedText:s.text,result:s}},i}(),Rs;(function(i){i[i.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",i[i.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",i[i.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Rs||(Rs={}));var lg=function(){function i(){}return i.createFrom=function(s){return{errorMessage:s,type:Rs.UNKWOWN_ERROR}},i}(),cg=function(){function i(s){this.verbose=s}return i.prototype.log=function(s){this.verbose&&console.log(s)},i.prototype.warn=function(s){this.verbose&&console.warn(s)},i.prototype.logError=function(s,l){(this.verbose||l===!0)&&console.error(s)},i.prototype.logErrors=function(s){if(s.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(s)},i}();function gn(i){return typeof i>"u"||i===null}var Kn=function(){function i(){}return i.codeParseError=function(s){return"QR code parse error, error = ".concat(s)},i.errorGettingUserMedia=function(s){return"Error getting userMedia, error = ".concat(s)},i.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},i.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},i.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},i.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},i.scannerPaused=function(){return"Scanner paused"},i}(),Jl=function(){function i(){}return i.isMediaStreamConstraintsValid=function(s,l){if(typeof s!="object"){var d=typeof s;return l.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(d,"."),!0),!1}for(var c=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],h=new Set(c),x=Object.keys(s),b=0,w=x;b<w.length;b++){var p=w[b];if(h.has(p))return l.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},i}(),Ms={exports:{}};(function(i,s){(function(l,d){d(s)})(fr,function(l){function d(C){return C==null}var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,e){C.__proto__=e}||function(C,e){for(var t in e)e.hasOwnProperty(t)&&(C[t]=e[t])};function h(C,e){c(C,e);function t(){this.constructor=C}C.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function x(C,e){var t=Object.setPrototypeOf;t?t(C,e):C.__proto__=e}function b(C,e){e===void 0&&(e=C.constructor);var t=Error.captureStackTrace;t&&t(C,e)}var w=function(C){h(e,C);function e(t){var n=this.constructor,r=C.call(this,t)||this;return Object.defineProperty(r,"name",{value:n.name,enumerable:!1}),x(r,n.prototype),b(r),r}return e}(Error);class p extends w{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}p.kind="Exception";class A extends p{}A.kind="ArgumentException";class y extends p{}y.kind="IllegalArgumentException";class P{constructor(e){if(this.binarizer=e,e===null)throw new y("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,t){return this.binarizer.getBlackRow(e,t)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,t,n,r){const o=this.binarizer.getLuminanceSource().crop(e,t,n,r);return new P(this.binarizer.createBinarizer(o))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new P(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new P(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class B extends p{static getChecksumInstance(){return new B}}B.kind="ChecksumException";class R{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class T{static arraycopy(e,t,n,r,o){for(;o--;)n[r++]=e[t++]}static currentTimeMillis(){return Date.now()}}class M extends p{}M.kind="IndexOutOfBoundsException";class k extends M{constructor(e=void 0,t=void 0){super(t),this.index=e,this.message=t}}k.kind="ArrayIndexOutOfBoundsException";class j{static fill(e,t){for(let n=0,r=e.length;n<r;n++)e[n]=t}static fillWithin(e,t,n,r){j.rangeCheck(e.length,t,n);for(let o=t;o<n;o++)e[o]=r}static rangeCheck(e,t,n){if(t>n)throw new y("fromIndex("+t+") > toIndex("+n+")");if(t<0)throw new k(t);if(n>e)throw new k(n)}static asList(...e){return e}static create(e,t,n){return Array.from({length:e}).map(o=>Array.from({length:t}).fill(n))}static createInt32Array(e,t,n){return Array.from({length:e}).map(o=>Int32Array.from({length:t}).fill(n))}static equals(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}static hashCode(e){if(e===null)return 0;let t=1;for(const n of e)t=31*t+n;return t}static fillUint8Array(e,t){for(let n=0;n!==e.length;n++)e[n]=t}static copyOf(e,t){return e.slice(0,t)}static copyOfUint8Array(e,t){if(e.length<=t){const n=new Uint8Array(t);return n.set(e),n}return e.slice(0,t)}static copyOfRange(e,t,n){const r=n-t,o=new Int32Array(r);return T.arraycopy(e,t,o,0,r),o}static binarySearch(e,t,n){n===void 0&&(n=j.numberComparator);let r=0,o=e.length-1;for(;r<=o;){const a=o+r>>1,u=n(t,e[a]);if(u>0)r=a+1;else if(u<0)o=a-1;else return a}return-r-1}static numberComparator(e,t){return e-t}}class G{static numberOfTrailingZeros(e){let t;if(e===0)return 32;let n=31;return t=e<<16,t!==0&&(n-=16,e=t),t=e<<8,t!==0&&(n-=8,e=t),t=e<<4,t!==0&&(n-=4,e=t),t=e<<2,t!==0&&(n-=2,e=t),n-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let t=1;return e>>>16||(t+=16,e<<=16),e>>>24||(t+=8,e<<=8),e>>>28||(t+=4,e<<=4),e>>>30||(t+=2,e<<=2),t-=e>>>31,t}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,t){return Math.trunc(e/t)}static parseInt(e,t=void 0){return parseInt(e,t)}}G.MIN_VALUE_32_BITS=-2147483648,G.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Y{constructor(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,t==null?this.bits=Y.makeArray(e):this.bits=t)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const t=Y.makeArray(e);T.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const t=this.size;if(e>=t)return t;const n=this.bits;let r=Math.floor(e/32),o=n[r];o&=~((1<<(e&31))-1);const a=n.length;for(;o===0;){if(++r===a)return t;o=n[r]}const u=r*32+G.numberOfTrailingZeros(o);return u>t?t:u}getNextUnset(e){const t=this.size;if(e>=t)return t;const n=this.bits;let r=Math.floor(e/32),o=~n[r];o&=~((1<<(e&31))-1);const a=n.length;for(;o===0;){if(++r===a)return t;o=~n[r]}const u=r*32+G.numberOfTrailingZeros(o);return u>t?t:u}setBulk(e,t){this.bits[Math.floor(e/32)]=t}setRange(e,t){if(t<e||e<0||t>this.size)throw new y;if(t===e)return;t--;const n=Math.floor(e/32),r=Math.floor(t/32),o=this.bits;for(let a=n;a<=r;a++){const u=a>n?0:e&31,g=(2<<(a<r?31:t&31))-(1<<u);o[a]|=g}}clear(){const e=this.bits.length,t=this.bits;for(let n=0;n<e;n++)t[n]=0}isRange(e,t,n){if(t<e||e<0||t>this.size)throw new y;if(t===e)return!0;t--;const r=Math.floor(e/32),o=Math.floor(t/32),a=this.bits;for(let u=r;u<=o;u++){const f=u>r?0:e&31,m=(2<<(u<o?31:t&31))-(1<<f)&4294967295;if((a[u]&m)!==(n?m:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,t){if(t<0||t>32)throw new y("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(let n=t;n>0;n--)this.appendBit((e>>n-1&1)===1)}appendBitArray(e){const t=e.size;this.ensureCapacity(this.size+t);for(let n=0;n<t;n++)this.appendBit(e.get(n))}xor(e){if(this.size!==e.size)throw new y("Sizes don't match");const t=this.bits;for(let n=0,r=t.length;n<r;n++)t[n]^=e.bits[n]}toBytes(e,t,n,r){for(let o=0;o<r;o++){let a=0;for(let u=0;u<8;u++)this.get(e)&&(a|=1<<7-u),e++;t[n+o]=a}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),n=t+1,r=this.bits;for(let o=0;o<n;o++){let a=r[o];a=a>>1&1431655765|(a&1431655765)<<1,a=a>>2&858993459|(a&858993459)<<2,a=a>>4&252645135|(a&252645135)<<4,a=a>>8&16711935|(a&16711935)<<8,a=a>>16&65535|(a&65535)<<16,e[t-o]=a}if(this.size!==n*32){const o=n*32-this.size;let a=e[0]>>>o;for(let u=1;u<n;u++){const f=e[u];a|=f<<32-o,e[u-1]=a,a=f>>>o}e[n-1]=a}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof Y))return!1;const t=e;return this.size===t.size&&j.equals(this.bits,t.bits)}hashCode(){return 31*this.size+j.hashCode(this.bits)}toString(){let e="";for(let t=0,n=this.size;t<n;t++)t&7||(e+=" "),e+=this.get(t)?"X":".";return e}clone(){return new Y(this.size,this.bits.slice())}}var ie;(function(C){C[C.OTHER=0]="OTHER",C[C.PURE_BARCODE=1]="PURE_BARCODE",C[C.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",C[C.TRY_HARDER=3]="TRY_HARDER",C[C.CHARACTER_SET=4]="CHARACTER_SET",C[C.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",C[C.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",C[C.ASSUME_GS1=7]="ASSUME_GS1",C[C.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",C[C.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",C[C.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(ie||(ie={}));var $=ie;class L extends p{static getFormatInstance(){return new L}}L.kind="FormatException";var K;(function(C){C[C.Cp437=0]="Cp437",C[C.ISO8859_1=1]="ISO8859_1",C[C.ISO8859_2=2]="ISO8859_2",C[C.ISO8859_3=3]="ISO8859_3",C[C.ISO8859_4=4]="ISO8859_4",C[C.ISO8859_5=5]="ISO8859_5",C[C.ISO8859_6=6]="ISO8859_6",C[C.ISO8859_7=7]="ISO8859_7",C[C.ISO8859_8=8]="ISO8859_8",C[C.ISO8859_9=9]="ISO8859_9",C[C.ISO8859_10=10]="ISO8859_10",C[C.ISO8859_11=11]="ISO8859_11",C[C.ISO8859_13=12]="ISO8859_13",C[C.ISO8859_14=13]="ISO8859_14",C[C.ISO8859_15=14]="ISO8859_15",C[C.ISO8859_16=15]="ISO8859_16",C[C.SJIS=16]="SJIS",C[C.Cp1250=17]="Cp1250",C[C.Cp1251=18]="Cp1251",C[C.Cp1252=19]="Cp1252",C[C.Cp1256=20]="Cp1256",C[C.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",C[C.UTF8=22]="UTF8",C[C.ASCII=23]="ASCII",C[C.Big5=24]="Big5",C[C.GB18030=25]="GB18030",C[C.EUC_KR=26]="EUC_KR"})(K||(K={}));class z{constructor(e,t,n,...r){this.valueIdentifier=e,this.name=n,typeof t=="number"?this.values=Int32Array.from([t]):this.values=t,this.otherEncodingNames=r,z.VALUE_IDENTIFIER_TO_ECI.set(e,this),z.NAME_TO_ECI.set(n,this);const o=this.values;for(let a=0,u=o.length;a!==u;a++){const f=o[a];z.VALUES_TO_ECI.set(f,this)}for(const a of r)z.NAME_TO_ECI.set(a,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new L("incorect value");const t=z.VALUES_TO_ECI.get(e);if(t===void 0)throw new L("incorect value");return t}static getCharacterSetECIByName(e){const t=z.NAME_TO_ECI.get(e);if(t===void 0)throw new L("incorect value");return t}equals(e){if(!(e instanceof z))return!1;const t=e;return this.getName()===t.getName()}}z.VALUE_IDENTIFIER_TO_ECI=new Map,z.VALUES_TO_ECI=new Map,z.NAME_TO_ECI=new Map,z.Cp437=new z(K.Cp437,Int32Array.from([0,2]),"Cp437"),z.ISO8859_1=new z(K.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),z.ISO8859_2=new z(K.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),z.ISO8859_3=new z(K.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),z.ISO8859_4=new z(K.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),z.ISO8859_5=new z(K.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),z.ISO8859_6=new z(K.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),z.ISO8859_7=new z(K.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),z.ISO8859_8=new z(K.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),z.ISO8859_9=new z(K.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),z.ISO8859_10=new z(K.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),z.ISO8859_11=new z(K.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),z.ISO8859_13=new z(K.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),z.ISO8859_14=new z(K.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),z.ISO8859_15=new z(K.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),z.ISO8859_16=new z(K.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),z.SJIS=new z(K.SJIS,20,"SJIS","Shift_JIS"),z.Cp1250=new z(K.Cp1250,21,"Cp1250","windows-1250"),z.Cp1251=new z(K.Cp1251,22,"Cp1251","windows-1251"),z.Cp1252=new z(K.Cp1252,23,"Cp1252","windows-1252"),z.Cp1256=new z(K.Cp1256,24,"Cp1256","windows-1256"),z.UnicodeBigUnmarked=new z(K.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),z.UTF8=new z(K.UTF8,26,"UTF8","UTF-8"),z.ASCII=new z(K.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),z.Big5=new z(K.Big5,28,"Big5"),z.GB18030=new z(K.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),z.EUC_KR=new z(K.EUC_KR,30,"EUC_KR","EUC-KR");class Ve extends p{}Ve.kind="UnsupportedOperationException";class ye{static decode(e,t){const n=this.encodingName(t);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)}static shouldDecodeOnFallback(e){return!ye.isBrowser()&&e==="ISO-8859-1"}static encode(e,t){const n=this.encodingName(t);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof z?e:z.getCharacterSetECIByName(e)}static decodeFallback(e,t){const n=this.encodingCharacterSet(t);if(ye.isDecodeFallbackSupported(n)){let r="";for(let o=0,a=e.length;o<a;o++){let u=e[o].toString(16);u.length<2&&(u="0"+u),r+="%"+u}return decodeURIComponent(r)}if(n.equals(z.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Ve(`Encoding ${this.encodingName(t)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(z.UTF8)||e.equals(z.ISO8859_1)||e.equals(z.ASCII)}static encodeFallback(e){const n=btoa(unescape(encodeURIComponent(e))).split(""),r=[];for(let o=0;o<n.length;o++)r.push(n[o].charCodeAt(0));return new Uint8Array(r)}}class ae{static castAsNonUtf8Char(e,t=null){const n=t?t.getName():this.ISO88591;return ye.decode(new Uint8Array([e]),n)}static guessEncoding(e,t){if(t!=null&&t.get($.CHARACTER_SET)!==void 0)return t.get($.CHARACTER_SET).toString();const n=e.length;let r=!0,o=!0,a=!0,u=0,f=0,g=0,m=0,E=0,v=0,I=0,N=0,D=0,F=0,W=0;const te=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let ne=0;ne<n&&(r||o||a);ne++){const Z=e[ne]&255;a&&(u>0?Z&128?u--:a=!1:Z&128&&(Z&64?(u++,Z&32?(u++,Z&16?(u++,Z&8?a=!1:m++):g++):f++):a=!1)),r&&(Z>127&&Z<160?r=!1:Z>159&&(Z<192||Z===215||Z===247)&&W++),o&&(E>0?Z<64||Z===127||Z>252?o=!1:E--:Z===128||Z===160||Z>239?o=!1:Z>160&&Z<224?(v++,N=0,I++,I>D&&(D=I)):Z>127?(E++,I=0,N++,N>F&&(F=N)):(I=0,N=0))}return a&&u>0&&(a=!1),o&&E>0&&(o=!1),a&&(te||f+g+m>0)?ae.UTF8:o&&(ae.ASSUME_SHIFT_JIS||D>=3||F>=3)?ae.SHIFT_JIS:r&&o?D===2&&v===2||W*10>=n?ae.SHIFT_JIS:ae.ISO88591:r?ae.ISO88591:o?ae.SHIFT_JIS:a?ae.UTF8:ae.PLATFORM_DEFAULT_ENCODING}static format(e,...t){let n=-1;function r(a,u,f,g,m,E){if(a==="%%")return"%";if(t[++n]===void 0)return;a=g?parseInt(g.substr(1)):void 0;let v=m?parseInt(m.substr(1)):void 0,I;switch(E){case"s":I=t[n];break;case"c":I=t[n][0];break;case"f":I=parseFloat(t[n]).toFixed(a);break;case"p":I=parseFloat(t[n]).toPrecision(a);break;case"e":I=parseFloat(t[n]).toExponential(a);break;case"x":I=parseInt(t[n]).toString(v||16);break;case"d":I=parseFloat(parseInt(t[n],v||10).toPrecision(a)).toFixed(0);break}I=typeof I=="object"?JSON.stringify(I):(+I).toString(v);let N=parseInt(f),D=f&&f[0]+""=="0"?"0":" ";for(;I.length<N;)I=u!==void 0?I+D:D+I;return I}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,r)}static getBytes(e,t){return ye.encode(e,t)}static getCharCode(e,t=0){return e.charCodeAt(t)}static getCharAt(e){return String.fromCharCode(e)}}ae.SHIFT_JIS=z.SJIS.getName(),ae.GB2312="GB2312",ae.ISO88591=z.ISO8859_1.getName(),ae.EUC_JP="EUC_JP",ae.UTF8=z.UTF8.getName(),ae.PLATFORM_DEFAULT_ENCODING=ae.UTF8,ae.ASSUME_SHIFT_JIS=!1;class Ee{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=ae.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,t,n){for(let r=t;t<t+n;r++)this.append(e[r]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)}substring(e,t){return this.value.substring(e,t)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+t.length)}}class _e{constructor(e,t,n,r){if(this.width=e,this.height=t,this.rowSize=n,this.bits=r,t==null&&(t=e),this.height=t,e<1||t<1)throw new y("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,r==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const t=e.length,n=e[0].length,r=new _e(n,t);for(let o=0;o<t;o++){const a=e[o];for(let u=0;u<n;u++)a[u]&&r.set(u,o)}return r}static parseFromString(e,t,n){if(e===null)throw new y("stringRepresentation cannot be null");const r=new Array(e.length);let o=0,a=0,u=-1,f=0,g=0;for(;g<e.length;)if(e.charAt(g)===`
`||e.charAt(g)==="\r"){if(o>a){if(u===-1)u=o-a;else if(o-a!==u)throw new y("row lengths do not match");a=o,f++}g++}else if(e.substring(g,g+t.length)===t)g+=t.length,r[o]=!0,o++;else if(e.substring(g,g+n.length)===n)g+=n.length,r[o]=!1,o++;else throw new y("illegal character encountered: "+e.substring(g));if(o>a){if(u===-1)u=o-a;else if(o-a!==u)throw new y("row lengths do not match");f++}const m=new _e(u,f);for(let E=0;E<o;E++)r[E]&&m.set(Math.floor(E%u),Math.floor(E/u));return m}get(e,t){const n=t*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0}set(e,t){const n=t*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295}unset(e,t){const n=t*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)}flip(e,t){const n=t*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new y("input matrix dimensions do not match");const t=new Y(Math.floor(this.width/32)+1),n=this.rowSize,r=this.bits;for(let o=0,a=this.height;o<a;o++){const u=o*n,f=e.getRow(o,t).getBitArray();for(let g=0;g<n;g++)r[u+g]^=f[g]}}clear(){const e=this.bits,t=e.length;for(let n=0;n<t;n++)e[n]=0}setRegion(e,t,n,r){if(t<0||e<0)throw new y("Left and top must be nonnegative");if(r<1||n<1)throw new y("Height and width must be at least 1");const o=e+n,a=t+r;if(a>this.height||o>this.width)throw new y("The region must fit inside the matrix");const u=this.rowSize,f=this.bits;for(let g=t;g<a;g++){const m=g*u;for(let E=e;E<o;E++)f[m+Math.floor(E/32)]|=1<<(E&31)&4294967295}}getRow(e,t){t==null||t.getSize()<this.width?t=new Y(this.width):t.clear();const n=this.rowSize,r=this.bits,o=e*n;for(let a=0;a<n;a++)t.setBulk(a*32,r[o+a]);return t}setRow(e,t){T.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),t=this.getHeight();let n=new Y(e),r=new Y(e);for(let o=0,a=Math.floor((t+1)/2);o<a;o++)n=this.getRow(o,n),r=this.getRow(t-1-o,r),n.reverse(),r.reverse(),this.setRow(o,r),this.setRow(t-1-o,n)}getEnclosingRectangle(){const e=this.width,t=this.height,n=this.rowSize,r=this.bits;let o=e,a=t,u=-1,f=-1;for(let g=0;g<t;g++)for(let m=0;m<n;m++){const E=r[g*n+m];if(E!==0){if(g<a&&(a=g),g>f&&(f=g),m*32<o){let v=0;for(;!(E<<31-v&4294967295);)v++;m*32+v<o&&(o=m*32+v)}if(m*32+31>u){let v=31;for(;!(E>>>v);)v--;m*32+v>u&&(u=m*32+v)}}}return u<o||f<a?null:Int32Array.from([o,a,u-o+1,f-a+1])}getTopLeftOnBit(){const e=this.rowSize,t=this.bits;let n=0;for(;n<t.length&&t[n]===0;)n++;if(n===t.length)return null;const r=n/e;let o=n%e*32;const a=t[n];let u=0;for(;!(a<<31-u&4294967295);)u++;return o+=u,Int32Array.from([o,r])}getBottomRightOnBit(){const e=this.rowSize,t=this.bits;let n=t.length-1;for(;n>=0&&t[n]===0;)n--;if(n<0)return null;const r=Math.floor(n/e);let o=Math.floor(n%e)*32;const a=t[n];let u=31;for(;!(a>>>u);)u--;return o+=u,Int32Array.from([o,r])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof _e))return!1;const t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&j.equals(this.bits,t.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+j.hashCode(this.bits),e}toString(e="X ",t="  ",n=`
`){return this.buildToString(e,t,n)}buildToString(e,t,n){let r=new Ee;for(let o=0,a=this.height;o<a;o++){for(let u=0,f=this.width;u<f;u++)r.append(this.get(u,o)?e:t);r.append(n)}return r.toString()}clone(){return new _e(this.width,this.height,this.rowSize,this.bits.slice())}}class U extends p{static getNotFoundInstance(){return new U}}U.kind="NotFoundException";class xe extends R{constructor(e){super(e),this.luminances=xe.EMPTY,this.buckets=new Int32Array(xe.LUMINANCE_BUCKETS)}getBlackRow(e,t){const n=this.getLuminanceSource(),r=n.getWidth();t==null||t.getSize()<r?t=new Y(r):t.clear(),this.initArrays(r);const o=n.getRow(e,this.luminances),a=this.buckets;for(let f=0;f<r;f++)a[(o[f]&255)>>xe.LUMINANCE_SHIFT]++;const u=xe.estimateBlackPoint(a);if(r<3)for(let f=0;f<r;f++)(o[f]&255)<u&&t.set(f);else{let f=o[0]&255,g=o[1]&255;for(let m=1;m<r-1;m++){const E=o[m+1]&255;(g*4-f-E)/2<u&&t.set(m),f=g,g=E}}return t}getBlackMatrix(){const e=this.getLuminanceSource(),t=e.getWidth(),n=e.getHeight(),r=new _e(t,n);this.initArrays(t);const o=this.buckets;for(let f=1;f<5;f++){const g=Math.floor(n*f/5),m=e.getRow(g,this.luminances),E=Math.floor(t*4/5);for(let v=Math.floor(t/5);v<E;v++){const I=m[v]&255;o[I>>xe.LUMINANCE_SHIFT]++}}const a=xe.estimateBlackPoint(o),u=e.getMatrix();for(let f=0;f<n;f++){const g=f*t;for(let m=0;m<t;m++)(u[g+m]&255)<a&&r.set(m,f)}return r}createBinarizer(e){return new xe(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const t=this.buckets;for(let n=0;n<xe.LUMINANCE_BUCKETS;n++)t[n]=0}static estimateBlackPoint(e){const t=e.length;let n=0,r=0,o=0;for(let m=0;m<t;m++)e[m]>o&&(r=m,o=e[m]),e[m]>n&&(n=e[m]);let a=0,u=0;for(let m=0;m<t;m++){const E=m-r,v=e[m]*E*E;v>u&&(a=m,u=v)}if(r>a){const m=r;r=a,a=m}if(a-r<=t/16)throw new U;let f=a-1,g=-1;for(let m=a-1;m>r;m--){const E=m-r,v=E*E*(a-m)*(n-e[m]);v>g&&(f=m,g=v)}return f<<xe.LUMINANCE_SHIFT}}xe.LUMINANCE_BITS=5,xe.LUMINANCE_SHIFT=8-xe.LUMINANCE_BITS,xe.LUMINANCE_BUCKETS=1<<xe.LUMINANCE_BITS,xe.EMPTY=Uint8ClampedArray.from([0]);class J extends xe{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),t=e.getWidth(),n=e.getHeight();if(t>=J.MINIMUM_DIMENSION&&n>=J.MINIMUM_DIMENSION){const r=e.getMatrix();let o=t>>J.BLOCK_SIZE_POWER;t&J.BLOCK_SIZE_MASK&&o++;let a=n>>J.BLOCK_SIZE_POWER;n&J.BLOCK_SIZE_MASK&&a++;const u=J.calculateBlackPoints(r,o,a,t,n),f=new _e(t,n);J.calculateThresholdForBlock(r,o,a,t,n,u,f),this.matrix=f}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new J(e)}static calculateThresholdForBlock(e,t,n,r,o,a,u){const f=o-J.BLOCK_SIZE,g=r-J.BLOCK_SIZE;for(let m=0;m<n;m++){let E=m<<J.BLOCK_SIZE_POWER;E>f&&(E=f);const v=J.cap(m,2,n-3);for(let I=0;I<t;I++){let N=I<<J.BLOCK_SIZE_POWER;N>g&&(N=g);const D=J.cap(I,2,t-3);let F=0;for(let te=-2;te<=2;te++){const ne=a[v+te];F+=ne[D-2]+ne[D-1]+ne[D]+ne[D+1]+ne[D+2]}const W=F/25;J.thresholdBlock(e,N,E,W,r,u)}}}static cap(e,t,n){return e<t?t:e>n?n:e}static thresholdBlock(e,t,n,r,o,a){for(let u=0,f=n*o+t;u<J.BLOCK_SIZE;u++,f+=o)for(let g=0;g<J.BLOCK_SIZE;g++)(e[f+g]&255)<=r&&a.set(t+g,n+u)}static calculateBlackPoints(e,t,n,r,o){const a=o-J.BLOCK_SIZE,u=r-J.BLOCK_SIZE,f=new Array(n);for(let g=0;g<n;g++){f[g]=new Int32Array(t);let m=g<<J.BLOCK_SIZE_POWER;m>a&&(m=a);for(let E=0;E<t;E++){let v=E<<J.BLOCK_SIZE_POWER;v>u&&(v=u);let I=0,N=255,D=0;for(let W=0,te=m*r+v;W<J.BLOCK_SIZE;W++,te+=r){for(let ne=0;ne<J.BLOCK_SIZE;ne++){const Z=e[te+ne]&255;I+=Z,Z<N&&(N=Z),Z>D&&(D=Z)}if(D-N>J.MIN_DYNAMIC_RANGE)for(W++,te+=r;W<J.BLOCK_SIZE;W++,te+=r)for(let ne=0;ne<J.BLOCK_SIZE;ne++)I+=e[te+ne]&255}let F=I>>J.BLOCK_SIZE_POWER*2;if(D-N<=J.MIN_DYNAMIC_RANGE&&(F=N/2,g>0&&E>0)){const W=(f[g-1][E]+2*f[g][E-1]+f[g-1][E-1])/4;N<W&&(F=W)}f[g][E]=F}}return f}}J.BLOCK_SIZE_POWER=3,J.BLOCK_SIZE=1<<J.BLOCK_SIZE_POWER,J.BLOCK_SIZE_MASK=J.BLOCK_SIZE-1,J.MINIMUM_DIMENSION=J.BLOCK_SIZE*5,J.MIN_DYNAMIC_RANGE=24;class Xe{constructor(e,t){this.width=e,this.height=t}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,t,n,r){throw new Ve("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Ve("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Ve("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let t=new Ee;for(let n=0;n<this.height;n++){const r=this.getRow(n,e);for(let o=0;o<this.width;o++){const a=r[o]&255;let u;a<64?u="#":a<128?u="+":a<192?u=".":u=" ",t.append(u)}t.append(`
`)}return t.toString()}}class rt extends Xe{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,t){const n=this.delegate.getRow(e,t),r=this.getWidth();for(let o=0;o<r;o++)n[o]=255-(n[o]&255);return n}getMatrix(){const e=this.delegate.getMatrix(),t=this.getWidth()*this.getHeight(),n=new Uint8ClampedArray(t);for(let r=0;r<t;r++)n[r]=255-(e[r]&255);return n}isCropSupported(){return this.delegate.isCropSupported()}crop(e,t,n,r){return new rt(this.delegate.crop(e,t,n,r))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new rt(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new rt(this.delegate.rotateCounterClockwise45())}}class Ce extends Xe{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=Ce.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const t=e.getContext("2d").getImageData(0,0,e.width,e.height);return Ce.toGrayscaleBuffer(t.data,e.width,e.height)}static toGrayscaleBuffer(e,t,n){const r=new Uint8ClampedArray(t*n);for(let o=0,a=0,u=e.length;o<u;o+=4,a++){let f;if(e[o+3]===0)f=255;else{const m=e[o],E=e[o+1],v=e[o+2];f=306*m+601*E+117*v+512>>10}r[a]=f}return r}getRow(e,t){if(e<0||e>=this.getHeight())throw new y("Requested row is outside the image: "+e);const n=this.getWidth(),r=e*n;return t===null?t=this.buffer.slice(r,r+n):(t.length<n&&(t=new Uint8ClampedArray(n)),t.set(this.buffer.slice(r,r+n))),t}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,t,n,r){return super.crop(e,t,n,r),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const t=this.getTempCanvasElement(),n=t.getContext("2d"),r=e*Ce.DEGREE_TO_RADIANS,o=this.canvas.width,a=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(r))*o+Math.abs(Math.sin(r))*a),f=Math.ceil(Math.abs(Math.sin(r))*o+Math.abs(Math.cos(r))*a);return t.width=u,t.height=f,n.translate(u/2,f/2),n.rotate(r),n.drawImage(this.canvas,o/-2,a/-2),this.buffer=Ce.makeBufferFromCanvasImageData(t),this}invert(){return new rt(this)}}Ce.DEGREE_TO_RADIANS=Math.PI/180;class Kt{constructor(e,t,n){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=n||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Te=(globalThis||fr||self||window||void 0)&&(globalThis||fr||self||window||void 0).__awaiter||function(C,e,t,n){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function u(m){try{g(n.next(m))}catch(E){a(E)}}function f(m){try{g(n.throw(m))}catch(E){a(E)}}function g(m){m.done?o(m.value):r(m.value).then(u,f)}g((n=n.apply(C,e||[])).next())})};class $e{constructor(e,t=500,n){this.reader=e,this.timeBetweenScansMillis=t,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return Te(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),t=[];for(const n of e){const r=n.kind==="video"?"videoinput":n.kind;if(r!=="videoinput")continue;const o=n.deviceId||n.id,a=n.label||`Video device ${t.length+1}`,u=n.groupId,f={deviceId:o,label:a,kind:r,groupId:u};t.push(f)}return t})}getVideoInputDevices(){return Te(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(t=>new Kt(t.deviceId,t.label))})}findDeviceById(e){return Te(this,void 0,void 0,function*(){const t=yield this.listVideoInputDevices();return t?t.find(n=>n.deviceId===e):null})}decodeFromInputVideoDevice(e,t){return Te(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,t)})}decodeOnceFromVideoDevice(e,t){return Te(this,void 0,void 0,function*(){this.reset();let n;e?n={deviceId:{exact:e}}:n={facingMode:"environment"};const r={video:n};return yield this.decodeOnceFromConstraints(r,t)})}decodeOnceFromConstraints(e,t){return Te(this,void 0,void 0,function*(){const n=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(n,t)})}decodeOnceFromStream(e,t){return Te(this,void 0,void 0,function*(){this.reset();const n=yield this.attachStreamToVideo(e,t);return yield this.decodeOnce(n)})}decodeFromInputVideoDeviceContinuously(e,t,n){return Te(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,t,n)})}decodeFromVideoDevice(e,t,n){return Te(this,void 0,void 0,function*(){let r;e?r={deviceId:{exact:e}}:r={facingMode:"environment"};const o={video:r};return yield this.decodeFromConstraints(o,t,n)})}decodeFromConstraints(e,t,n){return Te(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(r,t,n)})}decodeFromStream(e,t,n){return Te(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(e,t);return yield this.decodeContinuously(r,n)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,t){return Te(this,void 0,void 0,function*(){const n=this.prepareVideoElement(t);return this.addVideoSource(n,e),this.videoElement=n,this.stream=e,yield this.playVideoOnLoadAsync(n),n})}playVideoOnLoadAsync(e){return new Promise((t,n)=>this.playVideoOnLoad(e,()=>t()))}playVideoOnLoad(e,t){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return Te(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,t){const n=document.getElementById(e);if(!n)throw new A(`element with id '${e}' not found`);if(n.nodeName.toLowerCase()!==t.toLowerCase())throw new A(`element with id '${e}' must be an ${t} element`);return n}decodeFromImage(e,t){if(!e&&!t)throw new A("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)}decodeFromVideo(e,t){if(!e&&!t)throw new A("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,t,n){if(e===void 0&&t===void 0)throw new A("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,n):this.decodeFromVideoElementContinuously(e,n)}decodeFromImageElement(e){if(!e)throw new A("An image element must be provided.");this.reset();const t=this.prepareImageElement(e);this.imageElement=t;let n;return this.isImageLoaded(t)?n=this.decodeOnce(t,!1,!0):n=this._decodeOnLoadImage(t),n}decodeFromVideoElement(e){const t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)}decodeFromVideoElementContinuously(e,t){const n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,t)}_decodeFromVideoElementSetup(e){if(!e)throw new A("A video element must be provided.");this.reset();const t=this.prepareVideoElement(e);return this.videoElement=t,t}decodeFromImageUrl(e){if(!e)throw new A("An URL must be provided.");this.reset();const t=this.prepareImageElement();this.imageElement=t;const n=this._decodeOnLoadImage(t);return t.src=e,n}decodeFromVideoUrl(e){if(!e)throw new A("An URL must be provided.");this.reset();const t=this.prepareVideoElement(),n=this.decodeFromVideoElement(t);return t.src=e,n}decodeFromVideoUrlContinuously(e,t){if(!e)throw new A("An URL must be provided.");this.reset();const n=this.prepareVideoElement(),r=this.decodeFromVideoElementContinuously(n,t);return n.src=e,r}_decodeOnLoadImage(e){return new Promise((t,n)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(t,n),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return Te(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,t){return Te(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,t)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let t;return typeof e>"u"&&(t=document.createElement("img"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t}prepareVideoElement(e){let t;return!e&&typeof document<"u"&&(t=document.createElement("video"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t}decodeOnce(e,t=!0,n=!0){this._stopAsyncDecode=!1;const r=(o,a)=>{if(this._stopAsyncDecode){a(new U("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const u=this.decode(e);o(u)}catch(u){const f=t&&u instanceof U,m=(u instanceof B||u instanceof L)&&n;if(f||m)return setTimeout(r,this._timeBetweenDecodingAttempts,o,a);a(u)}};return new Promise((o,a)=>r(o,a))}decodeContinuously(e,t){this._stopContinuousDecode=!1;const n=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const r=this.decode(e);t(r,null),setTimeout(n,this.timeBetweenScansMillis)}catch(r){t(null,r);const o=r instanceof B||r instanceof L,a=r instanceof U;(o||a)&&setTimeout(n,this._timeBetweenDecodingAttempts)}};n()}decode(e){const t=this.createBinaryBitmap(e);return this.decodeBitmap(t)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,t,n){t||(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n||(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}drawImageOnCanvas(e,t,n=this.captureCanvasContext){t||(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n||(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const t=this.getCaptureCanvas(e),n=new Ce(t),r=new J(n);return new P(r)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const n=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=n}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const t=document.createElement("canvas");let n,r;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,r=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,r=e.naturalHeight||e.height)),t.style.width=n+"px",t.style.height=r+"px",t.width=n,t.height=r,t}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class We{constructor(e,t,n=t==null?0:8*t.length,r,o,a=T.currentTimeMillis()){this.text=e,this.rawBytes=t,this.numBits=n,this.resultPoints=r,this.format=o,this.timestamp=a,this.text=e,this.rawBytes=t,n==null?this.numBits=t==null?0:8*t.length:this.numBits=n,this.resultPoints=r,this.format=o,this.resultMetadata=null,a==null?this.timestamp=T.currentTimeMillis():this.timestamp=a}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){const n=new Array(t.length+e.length);T.arraycopy(t,0,n,0,t.length),T.arraycopy(e,0,n,t.length,e.length),this.resultPoints=n}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ee;(function(C){C[C.AZTEC=0]="AZTEC",C[C.CODABAR=1]="CODABAR",C[C.CODE_39=2]="CODE_39",C[C.CODE_93=3]="CODE_93",C[C.CODE_128=4]="CODE_128",C[C.DATA_MATRIX=5]="DATA_MATRIX",C[C.EAN_8=6]="EAN_8",C[C.EAN_13=7]="EAN_13",C[C.ITF=8]="ITF",C[C.MAXICODE=9]="MAXICODE",C[C.PDF_417=10]="PDF_417",C[C.QR_CODE=11]="QR_CODE",C[C.RSS_14=12]="RSS_14",C[C.RSS_EXPANDED=13]="RSS_EXPANDED",C[C.UPC_A=14]="UPC_A",C[C.UPC_E=15]="UPC_E",C[C.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ee||(ee={}));var oe=ee,Nt;(function(C){C[C.OTHER=0]="OTHER",C[C.ORIENTATION=1]="ORIENTATION",C[C.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",C[C.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",C[C.ISSUE_NUMBER=4]="ISSUE_NUMBER",C[C.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",C[C.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",C[C.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",C[C.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",C[C.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",C[C.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Nt||(Nt={}));var Ue=Nt;class Gt{constructor(e,t,n,r,o=-1,a=-1){this.rawBytes=e,this.text=t,this.byteSegments=n,this.ecLevel=r,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=a,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class fn{exp(e){return this.expTable[e]}log(e){if(e===0)throw new y;return this.logTable[e]}static addOrSubtract(e,t){return e^t}}class it{constructor(e,t){if(t.length===0)throw new y;this.field=e;const n=t.length;if(n>1&&t[0]===0){let r=1;for(;r<n&&t[r]===0;)r++;r===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-r),T.arraycopy(t,r,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const t=this.coefficients;let n;if(e===1){n=0;for(let a=0,u=t.length;a!==u;a++){const f=t[a];n=fn.addOrSubtract(n,f)}return n}n=t[0];const r=t.length,o=this.field;for(let a=1;a<r;a++)n=fn.addOrSubtract(o.multiply(e,n),t[a]);return n}addOrSubtract(e){if(!this.field.equals(e.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,n=e.coefficients;if(t.length>n.length){const a=t;t=n,n=a}let r=new Int32Array(n.length);const o=n.length-t.length;T.arraycopy(n,0,r,0,o);for(let a=o;a<n.length;a++)r[a]=fn.addOrSubtract(t[a-o],n[a]);return new it(this.field,r)}multiply(e){if(!this.field.equals(e.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const t=this.coefficients,n=t.length,r=e.coefficients,o=r.length,a=new Int32Array(n+o-1),u=this.field;for(let f=0;f<n;f++){const g=t[f];for(let m=0;m<o;m++)a[f+m]=fn.addOrSubtract(a[f+m],u.multiply(g,r[m]))}return new it(u,a)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const t=this.coefficients.length,n=this.field,r=new Int32Array(t),o=this.coefficients;for(let a=0;a<t;a++)r[a]=n.multiply(o[a],e);return new it(n,r)}multiplyByMonomial(e,t){if(e<0)throw new y;if(t===0)return this.field.getZero();const n=this.coefficients,r=n.length,o=new Int32Array(r+e),a=this.field;for(let u=0;u<r;u++)o[u]=a.multiply(n[u],t);return new it(a,o)}divide(e){if(!this.field.equals(e.field))throw new y("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new y("Divide by 0");const t=this.field;let n=t.getZero(),r=this;const o=e.getCoefficient(e.getDegree()),a=t.inverse(o);for(;r.getDegree()>=e.getDegree()&&!r.isZero();){const u=r.getDegree()-e.getDegree(),f=t.multiply(r.getCoefficient(r.getDegree()),a),g=e.multiplyByMonomial(u,f),m=t.buildMonomial(u,f);n=n.addOrSubtract(m),r=r.addOrSubtract(g)}return[n,r]}toString(){let e="";for(let t=this.getDegree();t>=0;t--){let n=this.getCoefficient(t);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),t===0||n!==1){const r=this.field.log(n);r===0?e+="1":r===1?e+="a":(e+="a^",e+=r)}t!==0&&(t===1?e+="x":(e+="x^",e+=t))}}return e}}class re extends p{}re.kind="ArithmeticException";class Q extends fn{constructor(e,t,n){super(),this.primitive=e,this.size=t,this.generatorBase=n;const r=new Int32Array(t);let o=1;for(let u=0;u<t;u++)r[u]=o,o*=2,o>=t&&(o^=e,o&=t-1);this.expTable=r;const a=new Int32Array(t);for(let u=0;u<t-1;u++)a[r[u]]=u;this.logTable=a,this.zero=new it(this,Int32Array.from([0])),this.one=new it(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new y;if(t===0)return this.zero;const n=new Int32Array(e+1);return n[0]=t,new it(this,n)}inverse(e){if(e===0)throw new re;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+G.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}Q.AZTEC_DATA_12=new Q(4201,4096,1),Q.AZTEC_DATA_10=new Q(1033,1024,1),Q.AZTEC_DATA_6=new Q(67,64,1),Q.AZTEC_PARAM=new Q(19,16,1),Q.QR_CODE_FIELD_256=new Q(285,256,0),Q.DATA_MATRIX_FIELD_256=new Q(301,256,1),Q.AZTEC_DATA_8=Q.DATA_MATRIX_FIELD_256,Q.MAXICODE_FIELD_64=Q.AZTEC_DATA_6;class pe extends p{}pe.kind="ReedSolomonException";class Ae extends p{}Ae.kind="IllegalStateException";class ut{constructor(e){this.field=e}decode(e,t){const n=this.field,r=new it(n,e),o=new Int32Array(t);let a=!0;for(let I=0;I<t;I++){const N=r.evaluateAt(n.exp(I+n.getGeneratorBase()));o[o.length-1-I]=N,N!==0&&(a=!1)}if(a)return;const u=new it(n,o),f=this.runEuclideanAlgorithm(n.buildMonomial(t,1),u,t),g=f[0],m=f[1],E=this.findErrorLocations(g),v=this.findErrorMagnitudes(m,E);for(let I=0;I<E.length;I++){const N=e.length-1-n.log(E[I]);if(N<0)throw new pe("Bad error location");e[N]=Q.addOrSubtract(e[N],v[I])}}runEuclideanAlgorithm(e,t,n){if(e.getDegree()<t.getDegree()){const I=e;e=t,t=I}const r=this.field;let o=e,a=t,u=r.getZero(),f=r.getOne();for(;a.getDegree()>=(n/2|0);){let I=o,N=u;if(o=a,u=f,o.isZero())throw new pe("r_{i-1} was zero");a=I;let D=r.getZero();const F=o.getCoefficient(o.getDegree()),W=r.inverse(F);for(;a.getDegree()>=o.getDegree()&&!a.isZero();){const te=a.getDegree()-o.getDegree(),ne=r.multiply(a.getCoefficient(a.getDegree()),W);D=D.addOrSubtract(r.buildMonomial(te,ne)),a=a.addOrSubtract(o.multiplyByMonomial(te,ne))}if(f=D.multiply(u).addOrSubtract(N),a.getDegree()>=o.getDegree())throw new Ae("Division algorithm failed to reduce polynomial?")}const g=f.getCoefficient(0);if(g===0)throw new pe("sigmaTilde(0) was zero");const m=r.inverse(g),E=f.multiplyScalar(m),v=a.multiplyScalar(m);return[E,v]}findErrorLocations(e){const t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);const n=new Int32Array(t);let r=0;const o=this.field;for(let a=1;a<o.getSize()&&r<t;a++)e.evaluateAt(a)===0&&(n[r]=o.inverse(a),r++);if(r!==t)throw new pe("Error locator degree does not match number of roots");return n}findErrorMagnitudes(e,t){const n=t.length,r=new Int32Array(n),o=this.field;for(let a=0;a<n;a++){const u=o.inverse(t[a]);let f=1;for(let g=0;g<n;g++)if(a!==g){const m=o.multiply(t[g],u),E=m&1?m&-2:m|1;f=o.multiply(f,E)}r[a]=o.multiply(e.evaluateAt(u),o.inverse(f)),o.getGeneratorBase()!==0&&(r[a]=o.multiply(r[a],u))}return r}}var et;(function(C){C[C.UPPER=0]="UPPER",C[C.LOWER=1]="LOWER",C[C.MIXED=2]="MIXED",C[C.DIGIT=3]="DIGIT",C[C.PUNCT=4]="PUNCT",C[C.BINARY=5]="BINARY"})(et||(et={}));class Pe{decode(e){this.ddata=e;let t=e.getBits(),n=this.extractBits(t),r=this.correctBits(n),o=Pe.convertBoolArrayToByteArray(r),a=Pe.getEncodedData(r),u=new Gt(o,a,null,null);return u.setNumBits(r.length),u}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let t=e.length,n=et.UPPER,r=et.UPPER,o="",a=0;for(;a<t;)if(r===et.BINARY){if(t-a<5)break;let u=Pe.readCode(e,a,5);if(a+=5,u===0){if(t-a<11)break;u=Pe.readCode(e,a,11)+31,a+=11}for(let f=0;f<u;f++){if(t-a<8){a=t;break}const g=Pe.readCode(e,a,8);o+=ae.castAsNonUtf8Char(g),a+=8}r=n}else{let u=r===et.DIGIT?4:5;if(t-a<u)break;let f=Pe.readCode(e,a,u);a+=u;let g=Pe.getCharacter(r,f);g.startsWith("CTRL_")?(n=r,r=Pe.getTable(g.charAt(5)),g.charAt(6)==="L"&&(n=r)):(o+=g,r=n)}return o}static getTable(e){switch(e){case"L":return et.LOWER;case"P":return et.PUNCT;case"M":return et.MIXED;case"D":return et.DIGIT;case"B":return et.BINARY;case"U":default:return et.UPPER}}static getCharacter(e,t){switch(e){case et.UPPER:return Pe.UPPER_TABLE[t];case et.LOWER:return Pe.LOWER_TABLE[t];case et.MIXED:return Pe.MIXED_TABLE[t];case et.PUNCT:return Pe.PUNCT_TABLE[t];case et.DIGIT:return Pe.DIGIT_TABLE[t];default:throw new Ae("Bad table")}}correctBits(e){let t,n;this.ddata.getNbLayers()<=2?(n=6,t=Q.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,t=Q.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,t=Q.AZTEC_DATA_10):(n=12,t=Q.AZTEC_DATA_12);let r=this.ddata.getNbDatablocks(),o=e.length/n;if(o<r)throw new L;let a=e.length%n,u=new Int32Array(o);for(let v=0;v<o;v++,a+=n)u[v]=Pe.readCode(e,a,n);try{new ut(t).decode(u,o-r)}catch(v){throw new L(v)}let f=(1<<n)-1,g=0;for(let v=0;v<r;v++){let I=u[v];if(I===0||I===f)throw new L;(I===1||I===f-1)&&g++}let m=new Array(r*n-g),E=0;for(let v=0;v<r;v++){let I=u[v];if(I===1||I===f-1)m.fill(I>1,E,E+n-1),E+=n-1;else for(let N=n-1;N>=0;--N)m[E++]=(I&1<<N)!==0}return m}extractBits(e){let t=this.ddata.isCompact(),n=this.ddata.getNbLayers(),r=(t?11:14)+n*4,o=new Int32Array(r),a=new Array(this.totalBitsInLayer(n,t));if(t)for(let u=0;u<o.length;u++)o[u]=u;else{let u=r+1+2*G.truncDivision(G.truncDivision(r,2)-1,15),f=r/2,g=G.truncDivision(u,2);for(let m=0;m<f;m++){let E=m+G.truncDivision(m,15);o[f-m-1]=g-E-1,o[f+m]=g+E+1}}for(let u=0,f=0;u<n;u++){let g=(n-u)*4+(t?9:12),m=u*2,E=r-1-m;for(let v=0;v<g;v++){let I=v*2;for(let N=0;N<2;N++)a[f+I+N]=e.get(o[m+N],o[m+v]),a[f+2*g+I+N]=e.get(o[m+v],o[E-N]),a[f+4*g+I+N]=e.get(o[E-N],o[E-v]),a[f+6*g+I+N]=e.get(o[E-v],o[m+N])}f+=g*8}return a}static readCode(e,t,n){let r=0;for(let o=t;o<t+n;o++)r<<=1,e[o]&&(r|=1);return r}static readByte(e,t){let n=e.length-t;return n>=8?Pe.readCode(e,t,8):Pe.readCode(e,t,n)<<8-n}static convertBoolArrayToByteArray(e){let t=new Uint8Array((e.length+7)/8);for(let n=0;n<t.length;n++)t[n]=Pe.readByte(e,8*n);return t}totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}Pe.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Pe.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Pe.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Pe.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Pe.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ne{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,t,n,r){const o=e-n,a=t-r;return Math.sqrt(o*o+a*a)}static sum(e){let t=0;for(let n=0,r=e.length;n!==r;n++){const o=e[n];t+=o}return t}}class Xt{static floatToIntBits(e){return e}}Xt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ue{constructor(e,t){this.x=e,this.y=t}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof ue){const t=e;return this.x===t.x&&this.y===t.y}return!1}hashCode(){return 31*Xt.floatToIntBits(this.x)+Xt.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const t=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),r=this.distance(e[0],e[2]);let o,a,u;if(n>=t&&n>=r?(a=e[0],o=e[1],u=e[2]):r>=n&&r>=t?(a=e[1],o=e[0],u=e[2]):(a=e[2],o=e[0],u=e[1]),this.crossProductZ(o,a,u)<0){const f=o;o=u,u=f}e[0]=o,e[1]=a,e[2]=u}static distance(e,t){return Ne.distance(e.x,e.y,t.x,t.y)}static crossProductZ(e,t,n){const r=t.x,o=t.y;return(n.x-r)*(e.y-o)-(n.y-o)*(e.x-r)}}class Or{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class so extends Or{constructor(e,t,n,r,o){super(e,t),this.compact=n,this.nbDatablocks=r,this.nbLayers=o}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class hn{constructor(e,t,n,r){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t==null&&(t=hn.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),r==null&&(r=e.getHeight()/2|0);const o=t/2|0;if(this.leftInit=n-o,this.rightInit=n+o,this.upInit=r-o,this.downInit=r+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new U}detect(){let e=this.leftInit,t=this.rightInit,n=this.upInit,r=this.downInit,o=!1,a=!0,u=!1,f=!1,g=!1,m=!1,E=!1;const v=this.width,I=this.height;for(;a;){a=!1;let N=!0;for(;(N||!f)&&t<v;)N=this.containsBlackPoint(n,r,t,!1),N?(t++,a=!0,f=!0):f||t++;if(t>=v){o=!0;break}let D=!0;for(;(D||!g)&&r<I;)D=this.containsBlackPoint(e,t,r,!0),D?(r++,a=!0,g=!0):g||r++;if(r>=I){o=!0;break}let F=!0;for(;(F||!m)&&e>=0;)F=this.containsBlackPoint(n,r,e,!1),F?(e--,a=!0,m=!0):m||e--;if(e<0){o=!0;break}let W=!0;for(;(W||!E)&&n>=0;)W=this.containsBlackPoint(e,t,n,!0),W?(n--,a=!0,E=!0):E||n--;if(n<0){o=!0;break}a&&(u=!0)}if(!o&&u){const N=t-e;let D=null;for(let ne=1;D===null&&ne<N;ne++)D=this.getBlackPointOnSegment(e,r-ne,e+ne,r);if(D==null)throw new U;let F=null;for(let ne=1;F===null&&ne<N;ne++)F=this.getBlackPointOnSegment(e,n+ne,e+ne,n);if(F==null)throw new U;let W=null;for(let ne=1;W===null&&ne<N;ne++)W=this.getBlackPointOnSegment(t,n+ne,t-ne,n);if(W==null)throw new U;let te=null;for(let ne=1;te===null&&ne<N;ne++)te=this.getBlackPointOnSegment(t,r-ne,t-ne,r);if(te==null)throw new U;return this.centerEdges(te,D,W,F)}else throw new U}getBlackPointOnSegment(e,t,n,r){const o=Ne.round(Ne.distance(e,t,n,r)),a=(n-e)/o,u=(r-t)/o,f=this.image;for(let g=0;g<o;g++){const m=Ne.round(e+g*a),E=Ne.round(t+g*u);if(f.get(m,E))return new ue(m,E)}return null}centerEdges(e,t,n,r){const o=e.getX(),a=e.getY(),u=t.getX(),f=t.getY(),g=n.getX(),m=n.getY(),E=r.getX(),v=r.getY(),I=hn.CORR;return o<this.width/2?[new ue(E-I,v+I),new ue(u+I,f+I),new ue(g-I,m-I),new ue(o+I,a-I)]:[new ue(E+I,v+I),new ue(u+I,f-I),new ue(g-I,m+I),new ue(o-I,a-I)]}containsBlackPoint(e,t,n,r){const o=this.image;if(r){for(let a=e;a<=t;a++)if(o.get(a,n))return!0}else for(let a=e;a<=t;a++)if(o.get(n,a))return!0;return!1}}hn.INIT_SIZE=10,hn.CORR=1;class Bi{static checkAndNudgePoints(e,t){const n=e.getWidth(),r=e.getHeight();let o=!0;for(let a=0;a<t.length&&o;a+=2){const u=Math.floor(t[a]),f=Math.floor(t[a+1]);if(u<-1||u>n||f<-1||f>r)throw new U;o=!1,u===-1?(t[a]=0,o=!0):u===n&&(t[a]=n-1,o=!0),f===-1?(t[a+1]=0,o=!0):f===r&&(t[a+1]=r-1,o=!0)}o=!0;for(let a=t.length-2;a>=0&&o;a-=2){const u=Math.floor(t[a]),f=Math.floor(t[a+1]);if(u<-1||u>n||f<-1||f>r)throw new U;o=!1,u===-1?(t[a]=0,o=!0):u===n&&(t[a]=n-1,o=!0),f===-1?(t[a+1]=0,o=!0):f===r&&(t[a+1]=r-1,o=!0)}}}class $t{constructor(e,t,n,r,o,a,u,f,g){this.a11=e,this.a21=t,this.a31=n,this.a12=r,this.a22=o,this.a32=a,this.a13=u,this.a23=f,this.a33=g}static quadrilateralToQuadrilateral(e,t,n,r,o,a,u,f,g,m,E,v,I,N,D,F){const W=$t.quadrilateralToSquare(e,t,n,r,o,a,u,f);return $t.squareToQuadrilateral(g,m,E,v,I,N,D,F).times(W)}transformPoints(e){const t=e.length,n=this.a11,r=this.a12,o=this.a13,a=this.a21,u=this.a22,f=this.a23,g=this.a31,m=this.a32,E=this.a33;for(let v=0;v<t;v+=2){const I=e[v],N=e[v+1],D=o*I+f*N+E;e[v]=(n*I+a*N+g)/D,e[v+1]=(r*I+u*N+m)/D}}transformPointsWithValues(e,t){const n=this.a11,r=this.a12,o=this.a13,a=this.a21,u=this.a22,f=this.a23,g=this.a31,m=this.a32,E=this.a33,v=e.length;for(let I=0;I<v;I++){const N=e[I],D=t[I],F=o*N+f*D+E;e[I]=(n*N+a*D+g)/F,t[I]=(r*N+u*D+m)/F}}static squareToQuadrilateral(e,t,n,r,o,a,u,f){const g=e-n+o-u,m=t-r+a-f;if(g===0&&m===0)return new $t(n-e,o-n,e,r-t,a-r,t,0,0,1);{const E=n-o,v=u-o,I=r-a,N=f-a,D=E*N-v*I,F=(g*N-v*m)/D,W=(E*m-g*I)/D;return new $t(n-e+F*n,u-e+W*u,e,r-t+F*r,f-t+W*f,t,F,W,1)}}static quadrilateralToSquare(e,t,n,r,o,a,u,f){return $t.squareToQuadrilateral(e,t,n,r,o,a,u,f).buildAdjoint()}buildAdjoint(){return new $t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new $t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class oo extends Bi{sampleGrid(e,t,n,r,o,a,u,f,g,m,E,v,I,N,D,F,W,te,ne){const Z=$t.quadrilateralToQuadrilateral(r,o,a,u,f,g,m,E,v,I,N,D,F,W,te,ne);return this.sampleGridWithTransform(e,t,n,Z)}sampleGridWithTransform(e,t,n,r){if(t<=0||n<=0)throw new U;const o=new _e(t,n),a=new Float32Array(2*t);for(let u=0;u<n;u++){const f=a.length,g=u+.5;for(let m=0;m<f;m+=2)a[m]=m/2+.5,a[m+1]=g;r.transformPoints(a),Bi.checkAndNudgePoints(e,a);try{for(let m=0;m<f;m+=2)e.get(Math.floor(a[m]),Math.floor(a[m+1]))&&o.set(m/2,u)}catch{throw new U}}return o}}class En{static setGridSampler(e){En.gridSampler=e}static getInstance(){return En.gridSampler}}En.gridSampler=new oo;class Tt{constructor(e,t){this.x=e,this.y=t}toResultPoint(){return new ue(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ao{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let t=this.getMatrixCenter(),n=this.getBullsEyeCorners(t);if(e){let a=n[0];n[0]=n[2],n[2]=a}this.extractParameters(n);let r=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),o=this.getMatrixCornerPoints(n);return new so(r,o,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new U;let t=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(n,t);let r=0;for(let a=0;a<4;a++){let u=n[(this.shift+a)%4];this.compact?(r<<=7,r+=u>>1&127):(r<<=10,r+=(u>>2&992)+(u>>1&31))}let o=this.getCorrectedParameterData(r,this.compact);this.compact?(this.nbLayers=(o>>6)+1,this.nbDataBlocks=(o&63)+1):(this.nbLayers=(o>>11)+1,this.nbDataBlocks=(o&2047)+1)}getRotation(e,t){let n=0;e.forEach((r,o,a)=>{let u=(r>>t-2<<1)+(r&1);n=(n<<3)+u}),n=((n&1)<<11)+(n>>1);for(let r=0;r<4;r++)if(G.bitCount(n^this.EXPECTED_CORNER_BITS[r])<=2)return r;throw new U}getCorrectedParameterData(e,t){let n,r;t?(n=7,r=2):(n=10,r=4);let o=n-r,a=new Int32Array(n);for(let f=n-1;f>=0;--f)a[f]=e&15,e>>=4;try{new ut(Q.AZTEC_PARAM).decode(a,o)}catch{throw new U}let u=0;for(let f=0;f<r;f++)u=(u<<4)+a[f];return u}getBullsEyeCorners(e){let t=e,n=e,r=e,o=e,a=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let E=this.getFirstDifferent(t,a,1,-1),v=this.getFirstDifferent(n,a,1,1),I=this.getFirstDifferent(r,a,-1,1),N=this.getFirstDifferent(o,a,-1,-1);if(this.nbCenterLayers>2){let D=this.distancePoint(N,E)*this.nbCenterLayers/(this.distancePoint(o,t)*(this.nbCenterLayers+2));if(D<.75||D>1.25||!this.isWhiteOrBlackRectangle(E,v,I,N))break}t=E,n=v,r=I,o=N,a=!a}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new U;this.compact=this.nbCenterLayers===5;let u=new ue(t.getX()+.5,t.getY()-.5),f=new ue(n.getX()+.5,n.getY()+.5),g=new ue(r.getX()-.5,r.getY()+.5),m=new ue(o.getX()-.5,o.getY()-.5);return this.expandSquare([u,f,g,m],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,t,n,r;try{let u=new hn(this.image).detect();e=u[0],t=u[1],n=u[2],r=u[3]}catch{let f=this.image.getWidth()/2,g=this.image.getHeight()/2;e=this.getFirstDifferent(new Tt(f+7,g-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new Tt(f+7,g+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Tt(f-7,g+7),!1,-1,1).toResultPoint(),r=this.getFirstDifferent(new Tt(f-7,g-7),!1,-1,-1).toResultPoint()}let o=Ne.round((e.getX()+r.getX()+t.getX()+n.getX())/4),a=Ne.round((e.getY()+r.getY()+t.getY()+n.getY())/4);try{let u=new hn(this.image,15,o,a).detect();e=u[0],t=u[1],n=u[2],r=u[3]}catch{e=this.getFirstDifferent(new Tt(o+7,a-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new Tt(o+7,a+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Tt(o-7,a+7),!1,-1,1).toResultPoint(),r=this.getFirstDifferent(new Tt(o-7,a-7),!1,-1,-1).toResultPoint()}return o=Ne.round((e.getX()+r.getX()+t.getX()+n.getX())/4),a=Ne.round((e.getY()+r.getY()+t.getY()+n.getY())/4),new Tt(o,a)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,t,n,r,o){let a=En.getInstance(),u=this.getDimension(),f=u/2-this.nbCenterLayers,g=u/2+this.nbCenterLayers;return a.sampleGrid(e,u,u,f,f,g,f,g,g,f,g,t.getX(),t.getY(),n.getX(),n.getY(),r.getX(),r.getY(),o.getX(),o.getY())}sampleLine(e,t,n){let r=0,o=this.distanceResultPoint(e,t),a=o/n,u=e.getX(),f=e.getY(),g=a*(t.getX()-e.getX())/o,m=a*(t.getY()-e.getY())/o;for(let E=0;E<n;E++)this.image.get(Ne.round(u+E*g),Ne.round(f+E*m))&&(r|=1<<n-E-1);return r}isWhiteOrBlackRectangle(e,t,n,r){let o=3;e=new Tt(e.getX()-o,e.getY()+o),t=new Tt(t.getX()-o,t.getY()-o),n=new Tt(n.getX()+o,n.getY()-o),r=new Tt(r.getX()+o,r.getY()+o);let a=this.getColor(r,e);if(a===0)return!1;let u=this.getColor(e,t);return u!==a||(u=this.getColor(t,n),u!==a)?!1:(u=this.getColor(n,r),u===a)}getColor(e,t){let n=this.distancePoint(e,t),r=(t.getX()-e.getX())/n,o=(t.getY()-e.getY())/n,a=0,u=e.getX(),f=e.getY(),g=this.image.get(e.getX(),e.getY()),m=Math.ceil(n);for(let v=0;v<m;v++)u+=r,f+=o,this.image.get(Ne.round(u),Ne.round(f))!==g&&a++;let E=a/n;return E>.1&&E<.9?0:E<=.1===g?1:-1}getFirstDifferent(e,t,n,r){let o=e.getX()+n,a=e.getY()+r;for(;this.isValid(o,a)&&this.image.get(o,a)===t;)o+=n,a+=r;for(o-=n,a-=r;this.isValid(o,a)&&this.image.get(o,a)===t;)o+=n;for(o-=n;this.isValid(o,a)&&this.image.get(o,a)===t;)a+=r;return a-=r,new Tt(o,a)}expandSquare(e,t,n){let r=n/(2*t),o=e[0].getX()-e[2].getX(),a=e[0].getY()-e[2].getY(),u=(e[0].getX()+e[2].getX())/2,f=(e[0].getY()+e[2].getY())/2,g=new ue(u+r*o,f+r*a),m=new ue(u-r*o,f-r*a);o=e[1].getX()-e[3].getX(),a=e[1].getY()-e[3].getY(),u=(e[1].getX()+e[3].getX())/2,f=(e[1].getY()+e[3].getY())/2;let E=new ue(u+r*o,f+r*a),v=new ue(u-r*o,f-r*a);return[g,E,m,v]}isValid(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()}isValidPoint(e){let t=Ne.round(e.getX()),n=Ne.round(e.getY());return this.isValid(t,n)}distancePoint(e,t){return Ne.distance(e.getX(),e.getY(),t.getX(),t.getY())}distanceResultPoint(e,t){return Ne.distance(e.getX(),e.getY(),t.getX(),t.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(G.truncDivision(this.nbLayers-4,8)+1)+15}}class Nr{decode(e,t=null){let n=null,r=new ao(e.getBlackMatrix()),o=null,a=null;try{let m=r.detectMirror(!1);o=m.getPoints(),this.reportFoundResultPoints(t,o),a=new Pe().decode(m)}catch(m){n=m}if(a==null)try{let m=r.detectMirror(!0);o=m.getPoints(),this.reportFoundResultPoints(t,o),a=new Pe().decode(m)}catch(m){throw n??m}let u=new We(a.getText(),a.getRawBytes(),a.getNumBits(),o,oe.AZTEC,T.currentTimeMillis()),f=a.getByteSegments();f!=null&&u.putMetadata(Ue.BYTE_SEGMENTS,f);let g=a.getECLevel();return g!=null&&u.putMetadata(Ue.ERROR_CORRECTION_LEVEL,g),u}reportFoundResultPoints(e,t){if(e!=null){let n=e.get($.NEED_RESULT_POINT_CALLBACK);n!=null&&t.forEach((r,o,a)=>{n.foundPossibleResultPoint(r)})}}reset(){}}class Ec extends $e{constructor(e=500){super(new Nr,e)}}class ft{decode(e,t){try{return this.doDecode(e,t)}catch{if(t&&t.get($.TRY_HARDER)===!0&&e.isRotateSupported()){const o=e.rotateCounterClockwise(),a=this.doDecode(o,t),u=a.getResultMetadata();let f=270;u!==null&&u.get(Ue.ORIENTATION)===!0&&(f=f+u.get(Ue.ORIENTATION)%360),a.putMetadata(Ue.ORIENTATION,f);const g=a.getResultPoints();if(g!==null){const m=o.getHeight();for(let E=0;E<g.length;E++)g[E]=new ue(m-g[E].getY()-1,g[E].getX())}return a}else throw new U}}reset(){}doDecode(e,t){const n=e.getWidth(),r=e.getHeight();let o=new Y(n);const a=t&&t.get($.TRY_HARDER)===!0,u=Math.max(1,r>>(a?8:5));let f;a?f=r:f=15;const g=Math.trunc(r/2);for(let m=0;m<f;m++){const E=Math.trunc((m+1)/2),v=(m&1)===0,I=g+u*(v?E:-E);if(I<0||I>=r)break;try{o=e.getBlackRow(I,o)}catch{continue}for(let N=0;N<2;N++){if(N===1&&(o.reverse(),t&&t.get($.NEED_RESULT_POINT_CALLBACK)===!0)){const D=new Map;t.forEach((F,W)=>D.set(W,F)),D.delete($.NEED_RESULT_POINT_CALLBACK),t=D}try{const D=this.decodeRow(I,o,t);if(N===1){D.putMetadata(Ue.ORIENTATION,180);const F=D.getResultPoints();F!==null&&(F[0]=new ue(n-F[0].getX()-1,F[0].getY()),F[1]=new ue(n-F[1].getX()-1,F[1].getY()))}return D}catch{}}}throw new U}static recordPattern(e,t,n){const r=n.length;for(let g=0;g<r;g++)n[g]=0;const o=e.getSize();if(t>=o)throw new U;let a=!e.get(t),u=0,f=t;for(;f<o;){if(e.get(f)!==a)n[u]++;else{if(++u===r)break;n[u]=1,a=!a}f++}if(!(u===r||u===r-1&&f===o))throw new U}static recordPatternInReverse(e,t,n){let r=n.length,o=e.get(t);for(;t>0&&r>=0;)e.get(--t)!==o&&(r--,o=!o);if(r>=0)throw new U;ft.recordPattern(e,t+1,n)}static patternMatchVariance(e,t,n){const r=e.length;let o=0,a=0;for(let g=0;g<r;g++)o+=e[g],a+=t[g];if(o<a)return Number.POSITIVE_INFINITY;const u=o/a;n*=u;let f=0;for(let g=0;g<r;g++){const m=e[g],E=t[g]*u,v=m>E?m-E:E-m;if(v>n)return Number.POSITIVE_INFINITY;f+=v}return f/o}}class se extends ft{static findStartPattern(e){const t=e.getSize(),n=e.getNextSet(0);let r=0,o=Int32Array.from([0,0,0,0,0,0]),a=n,u=!1;const f=6;for(let g=n;g<t;g++)if(e.get(g)!==u)o[r]++;else{if(r===f-1){let m=se.MAX_AVG_VARIANCE,E=-1;for(let v=se.CODE_START_A;v<=se.CODE_START_C;v++){const I=ft.patternMatchVariance(o,se.CODE_PATTERNS[v],se.MAX_INDIVIDUAL_VARIANCE);I<m&&(m=I,E=v)}if(E>=0&&e.isRange(Math.max(0,a-(g-a)/2),a,!1))return Int32Array.from([a,g,E]);a+=o[0]+o[1],o=o.slice(2,o.length-1),o[r-1]=0,o[r]=0,r--}else r++;o[r]=1,u=!u}throw new U}static decodeCode(e,t,n){ft.recordPattern(e,n,t);let r=se.MAX_AVG_VARIANCE,o=-1;for(let a=0;a<se.CODE_PATTERNS.length;a++){const u=se.CODE_PATTERNS[a],f=this.patternMatchVariance(t,u,se.MAX_INDIVIDUAL_VARIANCE);f<r&&(r=f,o=a)}if(o>=0)return o;throw new U}decodeRow(e,t,n){const r=n&&n.get($.ASSUME_GS1)===!0,o=se.findStartPattern(t),a=o[2];let u=0;const f=new Uint8Array(20);f[u++]=a;let g;switch(a){case se.CODE_START_A:g=se.CODE_CODE_A;break;case se.CODE_START_B:g=se.CODE_CODE_B;break;case se.CODE_START_C:g=se.CODE_CODE_C;break;default:throw new L}let m=!1,E=!1,v="",I=o[0],N=o[1];const D=Int32Array.from([0,0,0,0,0,0]);let F=0,W=0,te=a,ne=0,Z=!0,Re=!1,ve=!1;for(;!m;){const qn=E;switch(E=!1,F=W,W=se.decodeCode(t,D,N),f[u++]=W,W!==se.CODE_STOP&&(Z=!0),W!==se.CODE_STOP&&(ne++,te+=ne*W),I=N,N+=D.reduce((Kc,$c)=>Kc+$c,0),W){case se.CODE_START_A:case se.CODE_START_B:case se.CODE_START_C:throw new L}switch(g){case se.CODE_CODE_A:if(W<64)ve===Re?v+=String.fromCharCode(32+W):v+=String.fromCharCode(32+W+128),ve=!1;else if(W<96)ve===Re?v+=String.fromCharCode(W-64):v+=String.fromCharCode(W+64),ve=!1;else switch(W!==se.CODE_STOP&&(Z=!1),W){case se.CODE_FNC_1:r&&(v.length===0?v+="]C1":v+="");break;case se.CODE_FNC_2:case se.CODE_FNC_3:break;case se.CODE_FNC_4_A:!Re&&ve?(Re=!0,ve=!1):Re&&ve?(Re=!1,ve=!1):ve=!0;break;case se.CODE_SHIFT:E=!0,g=se.CODE_CODE_B;break;case se.CODE_CODE_B:g=se.CODE_CODE_B;break;case se.CODE_CODE_C:g=se.CODE_CODE_C;break;case se.CODE_STOP:m=!0;break}break;case se.CODE_CODE_B:if(W<96)ve===Re?v+=String.fromCharCode(32+W):v+=String.fromCharCode(32+W+128),ve=!1;else switch(W!==se.CODE_STOP&&(Z=!1),W){case se.CODE_FNC_1:r&&(v.length===0?v+="]C1":v+="");break;case se.CODE_FNC_2:case se.CODE_FNC_3:break;case se.CODE_FNC_4_B:!Re&&ve?(Re=!0,ve=!1):Re&&ve?(Re=!1,ve=!1):ve=!0;break;case se.CODE_SHIFT:E=!0,g=se.CODE_CODE_A;break;case se.CODE_CODE_A:g=se.CODE_CODE_A;break;case se.CODE_CODE_C:g=se.CODE_CODE_C;break;case se.CODE_STOP:m=!0;break}break;case se.CODE_CODE_C:if(W<100)W<10&&(v+="0"),v+=W;else switch(W!==se.CODE_STOP&&(Z=!1),W){case se.CODE_FNC_1:r&&(v.length===0?v+="]C1":v+="");break;case se.CODE_CODE_A:g=se.CODE_CODE_A;break;case se.CODE_CODE_B:g=se.CODE_CODE_B;break;case se.CODE_STOP:m=!0;break}break}qn&&(g=g===se.CODE_CODE_A?se.CODE_CODE_B:se.CODE_CODE_A)}const Pt=N-I;if(N=t.getNextUnset(N),!t.isRange(N,Math.min(t.getSize(),N+(N-I)/2),!1))throw new U;if(te-=ne*F,te%103!==F)throw new B;const Jt=v.length;if(Jt===0)throw new U;Jt>0&&Z&&(g===se.CODE_CODE_C?v=v.substring(0,Jt-2):v=v.substring(0,Jt-1));const Bt=(o[1]+o[0])/2,Ze=I+Pt/2,At=f.length,Vt=new Uint8Array(At);for(let qn=0;qn<At;qn++)Vt[qn]=f[qn];const Yn=[new ue(Bt,e),new ue(Ze,e)];return new We(v,Vt,0,Yn,oe.CODE_128,new Date().getTime())}}se.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],se.MAX_AVG_VARIANCE=.25,se.MAX_INDIVIDUAL_VARIANCE=.7,se.CODE_SHIFT=98,se.CODE_CODE_C=99,se.CODE_CODE_B=100,se.CODE_CODE_A=101,se.CODE_FNC_1=102,se.CODE_FNC_2=97,se.CODE_FNC_3=96,se.CODE_FNC_4_A=101,se.CODE_FNC_4_B=100,se.CODE_START_A=103,se.CODE_START_B=104,se.CODE_START_C=105,se.CODE_STOP=106;class gt extends ft{constructor(e=!1,t=!1){super(),this.usingCheckDigit=e,this.extendedMode=t,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,t,n){let r=this.counters;r.fill(0),this.decodeRowResult="";let o=gt.findAsteriskPattern(t,r),a=t.getNextSet(o[1]),u=t.getSize(),f,g;do{gt.recordPattern(t,a,r);let D=gt.toNarrowWidePattern(r);if(D<0)throw new U;f=gt.patternToChar(D),this.decodeRowResult+=f,g=a;for(let F of r)a+=F;a=t.getNextSet(a)}while(f!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let m=0;for(let D of r)m+=D;let E=a-g-m;if(a!==u&&E*2<m)throw new U;if(this.usingCheckDigit){let D=this.decodeRowResult.length-1,F=0;for(let W=0;W<D;W++)F+=gt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(W));if(this.decodeRowResult.charAt(D)!==gt.ALPHABET_STRING.charAt(F%43))throw new B;this.decodeRowResult=this.decodeRowResult.substring(0,D)}if(this.decodeRowResult.length===0)throw new U;let v;this.extendedMode?v=gt.decodeExtended(this.decodeRowResult):v=this.decodeRowResult;let I=(o[1]+o[0])/2,N=g+m/2;return new We(v,null,0,[new ue(I,e),new ue(N,e)],oe.CODE_39,new Date().getTime())}static findAsteriskPattern(e,t){let n=e.getSize(),r=e.getNextSet(0),o=0,a=r,u=!1,f=t.length;for(let g=r;g<n;g++)if(e.get(g)!==u)t[o]++;else{if(o===f-1){if(this.toNarrowWidePattern(t)===gt.ASTERISK_ENCODING&&e.isRange(Math.max(0,a-Math.floor((g-a)/2)),a,!1))return[a,g];a+=t[0]+t[1],t.copyWithin(0,2,2+o-1),t[o-1]=0,t[o]=0,o--}else o++;t[o]=1,u=!u}throw new U}static toNarrowWidePattern(e){let t=e.length,n=0,r;do{let o=2147483647;for(let f of e)f<o&&f>n&&(o=f);n=o,r=0;let a=0,u=0;for(let f=0;f<t;f++){let g=e[f];g>n&&(u|=1<<t-1-f,r++,a+=g)}if(r===3){for(let f=0;f<t&&r>0;f++){let g=e[f];if(g>n&&(r--,g*2>=a))return-1}return u}}while(r>3);return-1}static patternToChar(e){for(let t=0;t<gt.CHARACTER_ENCODINGS.length;t++)if(gt.CHARACTER_ENCODINGS[t]===e)return gt.ALPHABET_STRING.charAt(t);if(e===gt.ASTERISK_ENCODING)return"*";throw new U}static decodeExtended(e){let t=e.length,n="";for(let r=0;r<t;r++){let o=e.charAt(r);if(o==="+"||o==="$"||o==="%"||o==="/"){let a=e.charAt(r+1),u="\0";switch(o){case"+":if(a>="A"&&a<="Z")u=String.fromCharCode(a.charCodeAt(0)+32);else throw new L;break;case"$":if(a>="A"&&a<="Z")u=String.fromCharCode(a.charCodeAt(0)-64);else throw new L;break;case"%":if(a>="A"&&a<="E")u=String.fromCharCode(a.charCodeAt(0)-38);else if(a>="F"&&a<="J")u=String.fromCharCode(a.charCodeAt(0)-11);else if(a>="K"&&a<="O")u=String.fromCharCode(a.charCodeAt(0)+16);else if(a>="P"&&a<="T")u=String.fromCharCode(a.charCodeAt(0)+43);else if(a==="U")u="\0";else if(a==="V")u="@";else if(a==="W")u="`";else if(a==="X"||a==="Y"||a==="Z")u="";else throw new L;break;case"/":if(a>="A"&&a<="O")u=String.fromCharCode(a.charCodeAt(0)-32);else if(a==="Z")u=":";else throw new L;break}n+=u,r++}else n+=o}return n}}gt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",gt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],gt.ASTERISK_ENCODING=148;class Ye extends ft{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,t,n){let r=this.decodeStart(t),o=this.decodeEnd(t),a=new Ee;Ye.decodeMiddle(t,r[1],o[0],a);let u=a.toString(),f=null;n!=null&&(f=n.get($.ALLOWED_LENGTHS)),f==null&&(f=Ye.DEFAULT_ALLOWED_LENGTHS);let g=u.length,m=!1,E=0;for(let N of f){if(g===N){m=!0;break}N>E&&(E=N)}if(!m&&g>E&&(m=!0),!m)throw new L;const v=[new ue(r[1],e),new ue(o[0],e)];return new We(u,null,0,v,oe.ITF,new Date().getTime())}static decodeMiddle(e,t,n,r){let o=new Int32Array(10),a=new Int32Array(5),u=new Int32Array(5);for(o.fill(0),a.fill(0),u.fill(0);t<n;){ft.recordPattern(e,t,o);for(let g=0;g<5;g++){let m=2*g;a[g]=o[m],u[g]=o[m+1]}let f=Ye.decodeDigit(a);r.append(f.toString()),f=this.decodeDigit(u),r.append(f.toString()),o.forEach(function(g){t+=g})}}decodeStart(e){let t=Ye.skipWhiteSpace(e),n=Ye.findGuardPattern(e,t,Ye.START_PATTERN);return this.narrowLineWidth=(n[1]-n[0])/4,this.validateQuietZone(e,n[0]),n}validateQuietZone(e,t){let n=this.narrowLineWidth*10;n=n<t?n:t;for(let r=t-1;n>0&&r>=0&&!e.get(r);r--)n--;if(n!==0)throw new U}static skipWhiteSpace(e){const t=e.getSize(),n=e.getNextSet(0);if(n===t)throw new U;return n}decodeEnd(e){e.reverse();try{let t=Ye.skipWhiteSpace(e),n;try{n=Ye.findGuardPattern(e,t,Ye.END_PATTERN_REVERSED[0])}catch(o){o instanceof U&&(n=Ye.findGuardPattern(e,t,Ye.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,n[0]);let r=n[0];return n[0]=e.getSize()-n[1],n[1]=e.getSize()-r,n}finally{e.reverse()}}static findGuardPattern(e,t,n){let r=n.length,o=new Int32Array(r),a=e.getSize(),u=!1,f=0,g=t;o.fill(0);for(let m=t;m<a;m++)if(e.get(m)!==u)o[f]++;else{if(f===r-1){if(ft.patternMatchVariance(o,n,Ye.MAX_INDIVIDUAL_VARIANCE)<Ye.MAX_AVG_VARIANCE)return[g,m];g+=o[0]+o[1],T.arraycopy(o,2,o,0,f-1),o[f-1]=0,o[f]=0,f--}else f++;o[f]=1,u=!u}throw new U}static decodeDigit(e){let t=Ye.MAX_AVG_VARIANCE,n=-1,r=Ye.PATTERNS.length;for(let o=0;o<r;o++){let a=Ye.PATTERNS[o],u=ft.patternMatchVariance(e,a,Ye.MAX_INDIVIDUAL_VARIANCE);u<t?(t=u,n=o):u===t&&(n=-1)}if(n>=0)return n%10;throw new U}}Ye.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ye.MAX_AVG_VARIANCE=.38,Ye.MAX_INDIVIDUAL_VARIANCE=.5,Ye.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ye.START_PATTERN=Int32Array.from([1,1,1,1]),Ye.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class st extends ft{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let t=!1,n,r=0,o=Int32Array.from([0,0,0]);for(;!t;){o=Int32Array.from([0,0,0]),n=st.findGuardPattern(e,r,!1,this.START_END_PATTERN,o);let a=n[0];r=n[1];let u=a-(r-a);u>=0&&(t=e.isRange(u,a,!1))}return n}static checkChecksum(e){return st.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(t===0)return!1;let n=parseInt(e.charAt(t-1),10);return st.getStandardUPCEANChecksum(e.substring(0,t-1))===n}static getStandardUPCEANChecksum(e){let t=e.length,n=0;for(let r=t-1;r>=0;r-=2){let o=e.charAt(r).charCodeAt(0)-48;if(o<0||o>9)throw new L;n+=o}n*=3;for(let r=t-2;r>=0;r-=2){let o=e.charAt(r).charCodeAt(0)-48;if(o<0||o>9)throw new L;n+=o}return(1e3-n)%10}static decodeEnd(e,t){return st.findGuardPattern(e,t,!1,st.START_END_PATTERN,new Int32Array(st.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,t,n,r){return this.findGuardPattern(e,t,n,r,new Int32Array(r.length))}static findGuardPattern(e,t,n,r,o){let a=e.getSize();t=n?e.getNextUnset(t):e.getNextSet(t);let u=0,f=t,g=r.length,m=n;for(let E=t;E<a;E++)if(e.get(E)!==m)o[u]++;else{if(u===g-1){if(ft.patternMatchVariance(o,r,st.MAX_INDIVIDUAL_VARIANCE)<st.MAX_AVG_VARIANCE)return Int32Array.from([f,E]);f+=o[0]+o[1];let v=o.slice(2,o.length-1);for(let I=0;I<u-1;I++)o[I]=v[I];o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,m=!m}throw new U}static decodeDigit(e,t,n,r){this.recordPattern(e,n,t);let o=this.MAX_AVG_VARIANCE,a=-1,u=r.length;for(let f=0;f<u;f++){let g=r[f],m=ft.patternMatchVariance(t,g,st.MAX_INDIVIDUAL_VARIANCE);m<o&&(o=m,a=f)}if(a>=0)return a;throw new U}}st.MAX_AVG_VARIANCE=.48,st.MAX_INDIVIDUAL_VARIANCE=.7,st.START_END_PATTERN=Int32Array.from([1,1,1]),st.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),st.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),st.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class rr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,n){let r=this.decodeRowStringBuffer,o=this.decodeMiddle(t,n,r),a=r.toString(),u=rr.parseExtensionString(a),f=[new ue((n[0]+n[1])/2,e),new ue(o,e)],g=new We(a,null,0,f,oe.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&g.putAllMetadata(u),g}decodeMiddle(e,t,n){let r=this.decodeMiddleCounters;r[0]=0,r[1]=0,r[2]=0,r[3]=0;let o=e.getSize(),a=t[1],u=0;for(let g=0;g<5&&a<o;g++){let m=st.decodeDigit(e,r,a,st.L_AND_G_PATTERNS);n+=String.fromCharCode(48+m%10);for(let E of r)a+=E;m>=10&&(u|=1<<4-g),g!==4&&(a=e.getNextSet(a),a=e.getNextUnset(a))}if(n.length!==5)throw new U;let f=this.determineCheckDigit(u);if(rr.extensionChecksum(n.toString())!==f)throw new U;return a}static extensionChecksum(e){let t=e.length,n=0;for(let r=t-2;r>=0;r-=2)n+=e.charAt(r).charCodeAt(0)-48;n*=3;for(let r=t-1;r>=0;r-=2)n+=e.charAt(r).charCodeAt(0)-48;return n*=3,n%10}determineCheckDigit(e){for(let t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new U}static parseExtensionString(e){if(e.length!==5)return null;let t=rr.parseExtension5String(e);return t==null?null:new Map([[Ue.SUGGESTED_PRICE,t]])}static parseExtension5String(e){let t;switch(e.charAt(0)){case"0":t="£";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t="";break}let n=parseInt(e.substring(1)),r=(n/100).toString(),o=n%100,a=o<10?"0"+o:o.toString();return t+r+"."+a}}class Li{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,n){let r=this.decodeRowStringBuffer,o=this.decodeMiddle(t,n,r),a=r.toString(),u=Li.parseExtensionString(a),f=[new ue((n[0]+n[1])/2,e),new ue(o,e)],g=new We(a,null,0,f,oe.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&g.putAllMetadata(u),g}decodeMiddle(e,t,n){let r=this.decodeMiddleCounters;r[0]=0,r[1]=0,r[2]=0,r[3]=0;let o=e.getSize(),a=t[1],u=0;for(let f=0;f<2&&a<o;f++){let g=st.decodeDigit(e,r,a,st.L_AND_G_PATTERNS);n+=String.fromCharCode(48+g%10);for(let m of r)a+=m;g>=10&&(u|=1<<1-f),f!==1&&(a=e.getNextSet(a),a=e.getNextUnset(a))}if(n.length!==2)throw new U;if(parseInt(n.toString())%4!==u)throw new U;return a}static parseExtensionString(e){return e.length!==2?null:new Map([[Ue.ISSUE_NUMBER,parseInt(e)]])}}class lo{static decodeRow(e,t,n){let r=st.findGuardPattern(t,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new rr().decodeRow(e,t,r)}catch{return new Li().decodeRow(e,t,r)}}}lo.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Be extends st{constructor(){super(),this.decodeRowStringBuffer="",Be.L_AND_G_PATTERNS=Be.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let t=Be.L_PATTERNS[e-10],n=new Int32Array(t.length);for(let r=0;r<t.length;r++)n[r]=t[t.length-r-1];Be.L_AND_G_PATTERNS[e]=n}}decodeRow(e,t,n){let r=Be.findStartGuardPattern(t),o=n==null?null:n.get($.NEED_RESULT_POINT_CALLBACK);if(o!=null){const Z=new ue((r[0]+r[1])/2,e);o.foundPossibleResultPoint(Z)}let a=this.decodeMiddle(t,r,this.decodeRowStringBuffer),u=a.rowOffset,f=a.resultString;if(o!=null){const Z=new ue(u,e);o.foundPossibleResultPoint(Z)}let g=this.decodeEnd(t,u);if(o!=null){const Z=new ue((g[0]+g[1])/2,e);o.foundPossibleResultPoint(Z)}let m=g[1],E=m+(m-g[0]);if(E>=t.getSize()||!t.isRange(m,E,!1))throw new U;let v=f.toString();if(v.length<8)throw new L;if(!Be.checkChecksum(v))throw new B;let I=(r[1]+r[0])/2,N=(g[1]+g[0])/2,D=this.getBarcodeFormat(),F=[new ue(I,e),new ue(N,e)],W=new We(v,null,0,F,D,new Date().getTime()),te=0;try{let Z=lo.decodeRow(e,t,g[1]);W.putMetadata(Ue.UPC_EAN_EXTENSION,Z.getText()),W.putAllMetadata(Z.getResultMetadata()),W.addResultPoints(Z.getResultPoints()),te=Z.getText().length}catch{}let ne=n==null?null:n.get($.ALLOWED_EAN_EXTENSIONS);if(ne!=null){let Z=!1;for(let Re in ne)if(te.toString()===Re){Z=!0;break}if(!Z)throw new U}return W}decodeEnd(e,t){return Be.findGuardPattern(e,t,!1,Be.START_END_PATTERN,new Int32Array(Be.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return Be.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(t===0)return!1;let n=parseInt(e.charAt(t-1),10);return Be.getStandardUPCEANChecksum(e.substring(0,t-1))===n}static getStandardUPCEANChecksum(e){let t=e.length,n=0;for(let r=t-1;r>=0;r-=2){let o=e.charAt(r).charCodeAt(0)-48;if(o<0||o>9)throw new L;n+=o}n*=3;for(let r=t-2;r>=0;r-=2){let o=e.charAt(r).charCodeAt(0)-48;if(o<0||o>9)throw new L;n+=o}return(1e3-n)%10}}class On extends Be{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,n){let r=this.decodeMiddleCounters;r[0]=0,r[1]=0,r[2]=0,r[3]=0;let o=e.getSize(),a=t[1],u=0;for(let g=0;g<6&&a<o;g++){let m=Be.decodeDigit(e,r,a,Be.L_AND_G_PATTERNS);n+=String.fromCharCode(48+m%10);for(let E of r)a+=E;m>=10&&(u|=1<<5-g)}n=On.determineFirstDigit(n,u),a=Be.findGuardPattern(e,a,!0,Be.MIDDLE_PATTERN,new Int32Array(Be.MIDDLE_PATTERN.length).fill(0))[1];for(let g=0;g<6&&a<o;g++){let m=Be.decodeDigit(e,r,a,Be.L_PATTERNS);n+=String.fromCharCode(48+m);for(let E of r)a+=E}return{rowOffset:a,resultString:n}}getBarcodeFormat(){return oe.EAN_13}static determineFirstDigit(e,t){for(let n=0;n<10;n++)if(t===this.FIRST_DIGIT_ENCODINGS[n])return e=String.fromCharCode(48+n)+e,e;throw new U}}On.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class co extends Be{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,n){const r=this.decodeMiddleCounters;r[0]=0,r[1]=0,r[2]=0,r[3]=0;let o=e.getSize(),a=t[1];for(let f=0;f<4&&a<o;f++){let g=Be.decodeDigit(e,r,a,Be.L_PATTERNS);n+=String.fromCharCode(48+g);for(let m of r)a+=m}a=Be.findGuardPattern(e,a,!0,Be.MIDDLE_PATTERN,new Int32Array(Be.MIDDLE_PATTERN.length).fill(0))[1];for(let f=0;f<4&&a<o;f++){let g=Be.decodeDigit(e,r,a,Be.L_PATTERNS);n+=String.fromCharCode(48+g);for(let m of r)a+=m}return{rowOffset:a,resultString:n}}getBarcodeFormat(){return oe.EAN_8}}class uo extends Be{constructor(){super(...arguments),this.ean13Reader=new On}getBarcodeFormat(){return oe.UPC_A}decode(e,t){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,t,n){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,t,n))}decodeMiddle(e,t,n){return this.ean13Reader.decodeMiddle(e,t,n)}maybeReturnResult(e){let t=e.getText();if(t.charAt(0)==="0"){let n=new We(t.substring(1),null,null,e.getResultPoints(),oe.UPC_A);return e.getResultMetadata()!=null&&n.putAllMetadata(e.getResultMetadata()),n}else throw new U}reset(){this.ean13Reader.reset()}}class Qt extends Be{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,t,n){const r=this.decodeMiddleCounters.map(g=>g);r[0]=0,r[1]=0,r[2]=0,r[3]=0;const o=e.getSize();let a=t[1],u=0;for(let g=0;g<6&&a<o;g++){const m=Qt.decodeDigit(e,r,a,Qt.L_AND_G_PATTERNS);n+=String.fromCharCode(48+m%10);for(let E of r)a+=E;m>=10&&(u|=1<<5-g)}let f=Qt.determineNumSysAndCheckDigit(n,u);return{rowOffset:a,resultString:f}}decodeEnd(e,t){return Qt.findGuardPatternWithoutCounters(e,t,!0,Qt.MIDDLE_END_PATTERN)}checkChecksum(e){return Be.checkChecksum(Qt.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,t){for(let n=0;n<=1;n++)for(let r=0;r<10;r++)if(t===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[n][r]){let o=String.fromCharCode(48+n),a=String.fromCharCode(48+r);return o+e+a}throw U.getNotFoundInstance()}getBarcodeFormat(){return oe.UPC_E}static convertUPCEtoUPCA(e){const t=e.slice(1,7).split("").map(o=>o.charCodeAt(0)),n=new Ee;n.append(e.charAt(0));let r=t[5];switch(r){case 0:case 1:case 2:n.appendChars(t,0,2),n.append(r),n.append("0000"),n.appendChars(t,2,3);break;case 3:n.appendChars(t,0,3),n.append("00000"),n.appendChars(t,3,2);break;case 4:n.appendChars(t,0,4),n.append("00000"),n.append(t[4]);break;default:n.appendChars(t,0,5),n.append("0000"),n.append(r);break}return e.length>=8&&n.append(e.charAt(7)),n.toString()}}Qt.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Qt.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ki extends ft{constructor(e){super();let t=e==null?null:e.get($.POSSIBLE_FORMATS),n=[];d(t)?(n.push(new On),n.push(new uo),n.push(new co),n.push(new Qt)):(t.indexOf(oe.EAN_13)>-1&&n.push(new On),t.indexOf(oe.UPC_A)>-1&&n.push(new uo),t.indexOf(oe.EAN_8)>-1&&n.push(new co),t.indexOf(oe.UPC_E)>-1&&n.push(new Qt)),this.readers=n}decodeRow(e,t,n){for(let r of this.readers)try{const o=r.decodeRow(e,t,n),a=o.getBarcodeFormat()===oe.EAN_13&&o.getText().charAt(0)==="0",u=n==null?null:n.get($.POSSIBLE_FORMATS),f=u==null||u.includes(oe.UPC_A);if(a&&f){const g=o.getRawBytes(),m=new We(o.getText().substring(1),g,g?g.length:null,o.getResultPoints(),oe.UPC_A);return m.putAllMetadata(o.getResultMetadata()),m}return o}catch{}throw new U}reset(){for(let e of this.readers)e.reset()}}class vt extends ft{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,t){for(let n=0;n<t.length;n++)if(ft.patternMatchVariance(e,t[n],vt.MAX_INDIVIDUAL_VARIANCE)<vt.MAX_AVG_VARIANCE)return n;throw new U}static count(e){return Ne.sum(new Int32Array(e))}static increment(e,t){let n=0,r=t[0];for(let o=1;o<e.length;o++)t[o]>r&&(r=t[o],n=o);e[n]++}static decrement(e,t){let n=0,r=t[0];for(let o=1;o<e.length;o++)t[o]<r&&(r=t[o],n=o);e[n]--}static isFinderPattern(e){let t=e[0]+e[1],n=t+e[2]+e[3],r=t/n;if(r>=vt.MIN_FINDER_PATTERN_RATIO&&r<=vt.MAX_FINDER_PATTERN_RATIO){let o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;for(let u of e)u>a&&(a=u),u<o&&(o=u);return a<10*o}return!1}}vt.MAX_AVG_VARIANCE=.2,vt.MAX_INDIVIDUAL_VARIANCE=.45,vt.MIN_FINDER_PATTERN_RATIO=9.5/12,vt.MAX_FINDER_PATTERN_RATIO=12.5/14;class Un{constructor(e,t){this.value=e,this.checksumPortion=t}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof Un))return!1;const t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Rr{constructor(e,t,n,r,o){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new ue(n,o)),this.resultPoints.push(new ue(r,o))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof Rr))return!1;const t=e;return this.value===t.value}hashCode(){return this.value}}class nn{constructor(){}static getRSSvalue(e,t,n){let r=0;for(let f of e)r+=f;let o=0,a=0,u=e.length;for(let f=0;f<u-1;f++){let g;for(g=1,a|=1<<f;g<e[f];g++,a&=~(1<<f)){let m=nn.combins(r-g-1,u-f-2);if(n&&a===0&&r-g-(u-f-1)>=u-f-1&&(m-=nn.combins(r-g-(u-f),u-f-2)),u-f-1>1){let E=0;for(let v=r-g-(u-f-2);v>t;v--)E+=nn.combins(r-g-v-1,u-f-3);m-=E*(u-1-f)}else r-g>t&&m--;o+=m}r-=g}return o}static combins(e,t){let n,r;e-t>t?(r=t,n=e-t):(r=e-t,n=t);let o=1,a=1;for(let u=e;u>n;u--)o*=u,a<=r&&(o/=a,a++);for(;a<=r;)o/=a,a++;return o}}class Ac{static buildBitArray(e){let t=e.length*2-1;e[e.length-1].getRightChar()==null&&(t-=1);let n=12*t,r=new Y(n),o=0,u=e[0].getRightChar().getValue();for(let f=11;f>=0;--f)u&1<<f&&r.set(o),o++;for(let f=1;f<e.length;++f){let g=e[f],m=g.getLeftChar().getValue();for(let E=11;E>=0;--E)m&1<<E&&r.set(o),o++;if(g.getRightChar()!=null){let E=g.getRightChar().getValue();for(let v=11;v>=0;--v)E&1<<v&&r.set(o),o++}}return r}}class Nn{constructor(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Fi{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class Rt extends Fi{constructor(e,t){super(e),this.value=t}getValue(){return this.value}isFNC1(){return this.value===Rt.FNC1}}Rt.FNC1="$";class Rn extends Fi{constructor(e,t,n){super(e),n?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=t}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class zt extends Fi{constructor(e,t,n){if(super(e),t<0||t>10||n<0||n>10)throw new L;this.firstDigit=t,this.secondDigit=n}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===zt.FNC1}isSecondDigitFNC1(){return this.secondDigit===zt.FNC1}isAnyFNC1(){return this.firstDigit===zt.FNC1||this.secondDigit===zt.FNC1}}zt.FNC1=10;class le{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new U;let t=e.substring(0,2);for(let o of le.TWO_DIGIT_DATA_LENGTH)if(o[0]===t)return o[1]===le.VARIABLE_LENGTH?le.processVariableAI(2,o[2],e):le.processFixedAI(2,o[1],e);if(e.length<3)throw new U;let n=e.substring(0,3);for(let o of le.THREE_DIGIT_DATA_LENGTH)if(o[0]===n)return o[1]===le.VARIABLE_LENGTH?le.processVariableAI(3,o[2],e):le.processFixedAI(3,o[1],e);for(let o of le.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(o[0]===n)return o[1]===le.VARIABLE_LENGTH?le.processVariableAI(4,o[2],e):le.processFixedAI(4,o[1],e);if(e.length<4)throw new U;let r=e.substring(0,4);for(let o of le.FOUR_DIGIT_DATA_LENGTH)if(o[0]===r)return o[1]===le.VARIABLE_LENGTH?le.processVariableAI(4,o[2],e):le.processFixedAI(4,o[1],e);throw new U}static processFixedAI(e,t,n){if(n.length<e)throw new U;let r=n.substring(0,e);if(n.length<e+t)throw new U;let o=n.substring(e,e+t),a=n.substring(e+t),u="("+r+")"+o,f=le.parseFieldsInGeneralPurpose(a);return f==null?u:u+f}static processVariableAI(e,t,n){let r=n.substring(0,e),o;n.length<e+t?o=n.length:o=e+t;let a=n.substring(e,o),u=n.substring(o),f="("+r+")"+a,g=le.parseFieldsInGeneralPurpose(u);return g==null?f:f+g}}le.VARIABLE_LENGTH=[],le.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",le.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",le.VARIABLE_LENGTH,20],["22",le.VARIABLE_LENGTH,29],["30",le.VARIABLE_LENGTH,8],["37",le.VARIABLE_LENGTH,8],["90",le.VARIABLE_LENGTH,30],["91",le.VARIABLE_LENGTH,30],["92",le.VARIABLE_LENGTH,30],["93",le.VARIABLE_LENGTH,30],["94",le.VARIABLE_LENGTH,30],["95",le.VARIABLE_LENGTH,30],["96",le.VARIABLE_LENGTH,30],["97",le.VARIABLE_LENGTH,3],["98",le.VARIABLE_LENGTH,30],["99",le.VARIABLE_LENGTH,30]],le.THREE_DIGIT_DATA_LENGTH=[["240",le.VARIABLE_LENGTH,30],["241",le.VARIABLE_LENGTH,30],["242",le.VARIABLE_LENGTH,6],["250",le.VARIABLE_LENGTH,30],["251",le.VARIABLE_LENGTH,30],["253",le.VARIABLE_LENGTH,17],["254",le.VARIABLE_LENGTH,20],["400",le.VARIABLE_LENGTH,30],["401",le.VARIABLE_LENGTH,30],["402",17],["403",le.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",le.VARIABLE_LENGTH,20],["421",le.VARIABLE_LENGTH,15],["422",3],["423",le.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],le.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",le.VARIABLE_LENGTH,15],["391",le.VARIABLE_LENGTH,18],["392",le.VARIABLE_LENGTH,15],["393",le.VARIABLE_LENGTH,18],["703",le.VARIABLE_LENGTH,30]],le.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",le.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",le.VARIABLE_LENGTH,20],["8003",le.VARIABLE_LENGTH,30],["8004",le.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",le.VARIABLE_LENGTH,30],["8008",le.VARIABLE_LENGTH,12],["8018",18],["8020",le.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",le.VARIABLE_LENGTH,70],["8200",le.VARIABLE_LENGTH,70]];class jn{constructor(e){this.buffer=new Ee,this.information=e}decodeAllCodes(e,t){let n=t,r=null;do{let o=this.decodeGeneralPurposeField(n,r),a=le.parseFieldsInGeneralPurpose(o.getNewString());if(a!=null&&e.append(a),o.isRemaining()?r=""+o.getRemainingValue():r=null,n===o.getNewPosition())break;n=o.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let o=this.extractNumericValueFromBitArray(e,4);return o===0?new zt(this.information.getSize(),zt.FNC1,zt.FNC1):new zt(this.information.getSize(),o-1,zt.FNC1)}let t=this.extractNumericValueFromBitArray(e,7),n=(t-8)/11,r=(t-8)%11;return new zt(e+7,n,r)}extractNumericValueFromBitArray(e,t){return jn.extractNumericValueFromBitArray(this.information,e,t)}static extractNumericValueFromBitArray(e,t,n){let r=0;for(let o=0;o<n;++o)e.get(t+o)&&(r|=1<<n-o-1);return r}decodeGeneralPurposeField(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);let n=this.parseBlocks();return n!=null&&n.isRemaining()?new Rn(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new Rn(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,t;do{let n=this.current.getPosition();if(this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished()),!(n!==this.current.getPosition())&&!e)break}while(!e);return t.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let t;return e.isSecondDigitFNC1()?t=new Rn(this.current.getPosition(),this.buffer.toString()):t=new Rn(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Nn(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let t=new Rn(this.current.getPosition(),this.buffer.toString());return new Nn(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Nn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let t=new Rn(this.current.getPosition(),this.buffer.toString());return new Nn(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Nn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let t=new Rn(this.current.getPosition(),this.buffer.toString());return new Nn(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Nn(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,8);return r>=232&&r<253}decodeIsoIec646(e){let t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Rt(e+5,Rt.FNC1);if(t>=5&&t<15)return new Rt(e+5,"0"+(t-5));let n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new Rt(e+7,""+(n+1));if(n>=90&&n<116)return new Rt(e+7,""+(n+7));let r=this.extractNumericValueFromBitArray(e,8),o;switch(r){case 232:o="!";break;case 233:o='"';break;case 234:o="%";break;case 235:o="&";break;case 236:o="'";break;case 237:o="(";break;case 238:o=")";break;case 239:o="*";break;case 240:o="+";break;case 241:o=",";break;case 242:o="-";break;case 243:o=".";break;case 244:o="/";break;case 245:o=":";break;case 246:o=";";break;case 247:o="<";break;case 248:o="=";break;case 249:o=">";break;case 250:o="?";break;case 251:o="_";break;case 252:o=" ";break;default:throw new L}return new Rt(e+8,o)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63}decodeAlphanumeric(e){let t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Rt(e+5,Rt.FNC1);if(t>=5&&t<15)return new Rt(e+5,"0"+(t-5));let n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new Rt(e+6,""+(n+33));let r;switch(n){case 58:r="*";break;case 59:r=",";break;case 60:r="-";break;case 61:r=".";break;case 62:r="/";break;default:throw new Ae("Decoding invalid alphanumeric value: "+n)}return new Rt(e+6,r)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0}}class Vi{constructor(e){this.information=e,this.generalDecoder=new jn(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Mt extends Vi{constructor(e){super(e)}encodeCompressedGtin(e,t){e.append("(01)");let n=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,t,n)}encodeCompressedGtinWithoutAI(e,t,n){for(let r=0;r<4;++r){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(t+10*r,10);o/100===0&&e.append("0"),o/10===0&&e.append("0"),e.append(o)}Mt.appendCheckDigit(e,n)}static appendCheckDigit(e,t){let n=0;for(let r=0;r<13;r++){let o=e.charAt(r+t).charCodeAt(0)-48;n+=r&1?o:3*o}n=10-n%10,n===10&&(n=0),e.append(n)}}Mt.GTIN_SIZE=40;class Hn extends Mt{constructor(e){super(e)}parseInformation(){let e=new Ee;e.append("(01)");let t=e.length(),n=this.getGeneralDecoder().extractNumericValueFromBitArray(Hn.HEADER_SIZE,4);return e.append(n),this.encodeCompressedGtinWithoutAI(e,Hn.HEADER_SIZE+4,t),this.getGeneralDecoder().decodeAllCodes(e,Hn.HEADER_SIZE+44)}}Hn.HEADER_SIZE=4;class Mr extends Vi{constructor(e){super(e)}parseInformation(){let e=new Ee;return this.getGeneralDecoder().decodeAllCodes(e,Mr.HEADER_SIZE)}}Mr.HEADER_SIZE=5;class Dr extends Mt{constructor(e){super(e)}encodeCompressedWeight(e,t,n){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(t,n);this.addWeightCode(e,r);let o=this.checkWeight(r),a=1e5;for(let u=0;u<5;++u)o/a===0&&e.append("0"),a/=10;e.append(o)}}class rn extends Dr{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=rn.HEADER_SIZE+Dr.GTIN_SIZE+rn.WEIGHT_SIZE)throw new U;let e=new Ee;return this.encodeCompressedGtin(e,rn.HEADER_SIZE),this.encodeCompressedWeight(e,rn.HEADER_SIZE+Dr.GTIN_SIZE,rn.WEIGHT_SIZE),e.toString()}}rn.HEADER_SIZE=5,rn.WEIGHT_SIZE=15;class yc extends rn{constructor(e){super(e)}addWeightCode(e,t){e.append("(3103)")}checkWeight(e){return e}}class vc extends rn{constructor(e){super(e)}addWeightCode(e,t){t<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class sn extends Mt{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<sn.HEADER_SIZE+Mt.GTIN_SIZE)throw new U;let e=new Ee;this.encodeCompressedGtin(e,sn.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(sn.HEADER_SIZE+Mt.GTIN_SIZE,sn.LAST_DIGIT_SIZE);e.append("(392"),e.append(t),e.append(")");let n=this.getGeneralDecoder().decodeGeneralPurposeField(sn.HEADER_SIZE+Mt.GTIN_SIZE+sn.LAST_DIGIT_SIZE,null);return e.append(n.getNewString()),e.toString()}}sn.HEADER_SIZE=8,sn.LAST_DIGIT_SIZE=2;class Ot extends Mt{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Ot.HEADER_SIZE+Mt.GTIN_SIZE)throw new U;let e=new Ee;this.encodeCompressedGtin(e,Ot.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(Ot.HEADER_SIZE+Mt.GTIN_SIZE,Ot.LAST_DIGIT_SIZE);e.append("(393"),e.append(t),e.append(")");let n=this.getGeneralDecoder().extractNumericValueFromBitArray(Ot.HEADER_SIZE+Mt.GTIN_SIZE+Ot.LAST_DIGIT_SIZE,Ot.FIRST_THREE_DIGITS_SIZE);n/100==0&&e.append("0"),n/10==0&&e.append("0"),e.append(n);let r=this.getGeneralDecoder().decodeGeneralPurposeField(Ot.HEADER_SIZE+Mt.GTIN_SIZE+Ot.LAST_DIGIT_SIZE+Ot.FIRST_THREE_DIGITS_SIZE,null);return e.append(r.getNewString()),e.toString()}}Ot.HEADER_SIZE=8,Ot.LAST_DIGIT_SIZE=2,Ot.FIRST_THREE_DIGITS_SIZE=10;class tt extends Dr{constructor(e,t,n){super(e),this.dateCode=n,this.firstAIdigits=t}parseInformation(){if(this.getInformation().getSize()!=tt.HEADER_SIZE+tt.GTIN_SIZE+tt.WEIGHT_SIZE+tt.DATE_SIZE)throw new U;let e=new Ee;return this.encodeCompressedGtin(e,tt.HEADER_SIZE),this.encodeCompressedWeight(e,tt.HEADER_SIZE+tt.GTIN_SIZE,tt.WEIGHT_SIZE),this.encodeCompressedDate(e,tt.HEADER_SIZE+tt.GTIN_SIZE+tt.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,t){let n=this.getGeneralDecoder().extractNumericValueFromBitArray(t,tt.DATE_SIZE);if(n==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let r=n%32;n/=32;let o=n%12+1;n/=12;let a=n;a/10==0&&e.append("0"),e.append(a),o/10==0&&e.append("0"),e.append(o),r/10==0&&e.append("0"),e.append(r)}addWeightCode(e,t){e.append("("),e.append(this.firstAIdigits),e.append(t/1e5),e.append(")")}checkWeight(e){return e%1e5}}tt.HEADER_SIZE=8,tt.WEIGHT_SIZE=20,tt.DATE_SIZE=16;function fo(C){try{if(C.get(1))return new Hn(C);if(!C.get(2))return new Mr(C);switch(jn.extractNumericValueFromBitArray(C,1,4)){case 4:return new yc(C);case 5:return new vc(C)}switch(jn.extractNumericValueFromBitArray(C,1,5)){case 12:return new sn(C);case 13:return new Ot(C)}switch(jn.extractNumericValueFromBitArray(C,1,7)){case 56:return new tt(C,"310","11");case 57:return new tt(C,"320","11");case 58:return new tt(C,"310","13");case 59:return new tt(C,"320","13");case 60:return new tt(C,"310","15");case 61:return new tt(C,"320","15");case 62:return new tt(C,"310","17");case 63:return new tt(C,"320","17")}}catch(e){throw console.log(e),new Ae("unknown decoder: "+C)}}class An{constructor(e,t,n,r){this.leftchar=e,this.rightchar=t,this.finderpattern=n,this.maybeLast=r}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,t){return e instanceof An?An.equalsOrNull(e.leftchar,t.leftchar)&&An.equalsOrNull(e.rightchar,t.rightchar)&&An.equalsOrNull(e.finderpattern,t.finderpattern):!1}static equalsOrNull(e,t){return e===null?t===null:An.equals(e,t)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Ui{constructor(e,t,n){this.pairs=e,this.rowNumber=t,this.wasReversed=n}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,t){return e instanceof Ui?this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed:!1}checkEqualitity(e,t){if(!e||!t)return;let n;return e.forEach((r,o)=>{t.forEach(a=>{r.getLeftChar().getValue()===a.getLeftChar().getValue()&&r.getRightChar().getValue()===a.getRightChar().getValue()&&r.getFinderPatter().getValue()===a.getFinderPatter().getValue()&&(n=!0)})}),n}}class q extends vt{constructor(e){super(...arguments),this.pairs=new Array(q.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,t,n){this.pairs.length=0,this.startFromEven=!1;try{return q.constructResult(this.decodeRow2pairs(e,t))}catch(r){this.verbose&&console.log(r)}return this.pairs.length=0,this.startFromEven=!0,q.constructResult(this.decodeRow2pairs(e,t))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,t){let n=!1;for(;!n;)try{this.pairs.push(this.retrieveNextPair(t,this.pairs,e))}catch(o){if(o instanceof U){if(!this.pairs.length)throw new U;n=!0}}if(this.checkChecksum())return this.pairs;let r;if(this.rows.length?r=!0:r=!1,this.storeRow(e,!1),r){let o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new U}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let t=null;try{t=this.checkRows(new Array,0)}catch(n){this.verbose&&console.log(n)}return e&&(this.rows=this.rows.reverse()),t}checkRows(e,t){for(let n=t;n<this.rows.length;n++){let r=this.rows[n];this.pairs.length=0;for(let a of e)this.pairs.push(a.getPairs());if(this.pairs.push(r.getPairs()),!q.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let o=new Array(e);o.push(r);try{return this.checkRows(o,n+1)}catch(a){this.verbose&&console.log(a)}}throw new U}static isValidSequence(e){for(let t of q.FINDER_PATTERN_SEQUENCES){if(e.length>t.length)continue;let n=!0;for(let r=0;r<e.length;r++)if(e[r].getFinderPattern().getValue()!=t[r]){n=!1;break}if(n)return!0}return!1}storeRow(e,t){let n=0,r=!1,o=!1;for(;n<this.rows.length;){let a=this.rows[n];if(a.getRowNumber()>e){o=a.isEquivalent(this.pairs);break}r=a.isEquivalent(this.pairs),n++}o||r||q.isPartialRow(this.pairs,this.rows)||(this.rows.push(n,new Ui(this.pairs,e,t)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,t){for(let n of t)if(n.getPairs().length!==e.length){for(let r of n.getPairs())for(let o of e)if(An.equals(r,o))break}}static isPartialRow(e,t){for(let n of t){let r=!0;for(let o of e){let a=!1;for(let u of n.getPairs())if(o.equals(u)){a=!0;break}if(!a){r=!1;break}}if(r)return!0}return!1}getRows(){return this.rows}static constructResult(e){let t=Ac.buildBitArray(e),r=fo(t).parseInformation(),o=e[0].getFinderPattern().getResultPoints(),a=e[e.length-1].getFinderPattern().getResultPoints(),u=[o[0],o[1],a[0],a[1]];return new We(r,null,null,u,oe.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),t=e.getLeftChar(),n=e.getRightChar();if(n==null)return!1;let r=n.getChecksumPortion(),o=2;for(let u=1;u<this.pairs.size();++u){let f=this.pairs.get(u);r+=f.getLeftChar().getChecksumPortion(),o++;let g=f.getRightChar();g!=null&&(r+=g.getChecksumPortion(),o++)}return r%=211,211*(o-4)+r==t.getValue()}static getNextSecondBar(e,t){let n;return e.get(t)?(n=e.getNextUnset(t),n=e.getNextSet(n)):(n=e.getNextSet(t),n=e.getNextUnset(n)),n}retrieveNextPair(e,t,n){let r=t.length%2==0;this.startFromEven&&(r=!r);let o,a=!0,u=-1;do this.findNextPair(e,t,u),o=this.parseFoundFinderPattern(e,n,r),o==null?u=q.getNextSecondBar(e,this.startEnd[0]):a=!1;while(a);let f=this.decodeDataCharacter(e,o,r,!0);if(!this.isEmptyPair(t)&&t[t.length-1].mustBeLast())throw new U;let g;try{g=this.decodeDataCharacter(e,o,r,!1)}catch(m){g=null,this.verbose&&console.log(m)}return new An(f,g,o,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,t,n){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let o=e.getSize(),a;n>=0?a=n:this.isEmptyPair(t)?a=0:a=t[t.length-1].getFinderPattern().getStartEnd()[1];let u=t.length%2!=0;this.startFromEven&&(u=!u);let f=!1;for(;a<o&&(f=!e.get(a),!!f);)a++;let g=0,m=a;for(let E=a;E<o;E++)if(e.get(E)!=f)r[g]++;else{if(g==3){if(u&&q.reverseCounters(r),q.isFinderPattern(r)){this.startEnd[0]=m,this.startEnd[1]=E;return}u&&q.reverseCounters(r),m+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,g--}else g++;r[g]=1,f=!f}throw new U}static reverseCounters(e){let t=e.length;for(let n=0;n<t/2;++n){let r=e[n];e[n]=e[t-n-1],e[t-n-1]=r}}parseFoundFinderPattern(e,t,n){let r,o,a;if(n){let g=this.startEnd[0]-1;for(;g>=0&&!e.get(g);)g--;g++,r=this.startEnd[0]-g,o=g,a=this.startEnd[1]}else o=this.startEnd[0],a=e.getNextUnset(this.startEnd[1]+1),r=a-this.startEnd[1];let u=this.getDecodeFinderCounters();T.arraycopy(u,0,u,1,u.length-1),u[0]=r;let f;try{f=this.parseFinderValue(u,q.FINDER_PATTERNS)}catch{return null}return new Rr(f,[o,a],o,a,t)}decodeDataCharacter(e,t,n,r){let o=this.getDataCharacterCounters();for(let Ze=0;Ze<o.length;Ze++)o[Ze]=0;if(r)q.recordPatternInReverse(e,t.getStartEnd()[0],o);else{q.recordPattern(e,t.getStartEnd()[1],o);for(let Ze=0,At=o.length-1;Ze<At;Ze++,At--){let Vt=o[Ze];o[Ze]=o[At],o[At]=Vt}}let a=17,u=Ne.sum(new Int32Array(o))/a,f=(t.getStartEnd()[1]-t.getStartEnd()[0])/15;if(Math.abs(u-f)/f>.3)throw new U;let g=this.getOddCounts(),m=this.getEvenCounts(),E=this.getOddRoundingErrors(),v=this.getEvenRoundingErrors();for(let Ze=0;Ze<o.length;Ze++){let At=1*o[Ze]/u,Vt=At+.5;if(Vt<1){if(At<.3)throw new U;Vt=1}else if(Vt>8){if(At>8.7)throw new U;Vt=8}let Yn=Ze/2;Ze&1?(m[Yn]=Vt,v[Yn]=At-Vt):(g[Yn]=Vt,E[Yn]=At-Vt)}this.adjustOddEvenCounts(a);let I=4*t.getValue()+(n?0:2)+(r?0:1)-1,N=0,D=0;for(let Ze=g.length-1;Ze>=0;Ze--){if(q.isNotA1left(t,n,r)){let At=q.WEIGHTS[I][2*Ze];D+=g[Ze]*At}N+=g[Ze]}let F=0;for(let Ze=m.length-1;Ze>=0;Ze--)if(q.isNotA1left(t,n,r)){let At=q.WEIGHTS[I][2*Ze+1];F+=m[Ze]*At}let W=D+F;if(N&1||N>13||N<4)throw new U;let te=(13-N)/2,ne=q.SYMBOL_WIDEST[te],Z=9-ne,Re=nn.getRSSvalue(g,ne,!0),ve=nn.getRSSvalue(m,Z,!1),Pt=q.EVEN_TOTAL_SUBSET[te],Jt=q.GSUM[te],Bt=Re*Pt+ve+Jt;return new Un(Bt,W)}static isNotA1left(e,t,n){return!(e.getValue()==0&&t&&n)}adjustOddEvenCounts(e){let t=Ne.sum(new Int32Array(this.getOddCounts())),n=Ne.sum(new Int32Array(this.getEvenCounts())),r=!1,o=!1;t>13?o=!0:t<4&&(r=!0);let a=!1,u=!1;n>13?u=!0:n<4&&(a=!0);let f=t+n-e,g=(t&1)==1,m=(n&1)==0;if(f==1)if(g){if(m)throw new U;o=!0}else{if(!m)throw new U;u=!0}else if(f==-1)if(g){if(m)throw new U;r=!0}else{if(!m)throw new U;a=!0}else if(f==0){if(g){if(!m)throw new U;t<n?(r=!0,u=!0):(o=!0,a=!0)}else if(m)throw new U}else throw new U;if(r){if(o)throw new U;q.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&q.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(u)throw new U;q.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&q.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}q.SYMBOL_WIDEST=[7,5,4,3,1],q.EVEN_TOTAL_SUBSET=[4,20,52,104,204],q.GSUM=[0,348,1388,2948,3988],q.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],q.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],q.FINDER_PAT_A=0,q.FINDER_PAT_B=1,q.FINDER_PAT_C=2,q.FINDER_PAT_D=3,q.FINDER_PAT_E=4,q.FINDER_PAT_F=5,q.FINDER_PATTERN_SEQUENCES=[[q.FINDER_PAT_A,q.FINDER_PAT_A],[q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B],[q.FINDER_PAT_A,q.FINDER_PAT_C,q.FINDER_PAT_B,q.FINDER_PAT_D],[q.FINDER_PAT_A,q.FINDER_PAT_E,q.FINDER_PAT_B,q.FINDER_PAT_D,q.FINDER_PAT_C],[q.FINDER_PAT_A,q.FINDER_PAT_E,q.FINDER_PAT_B,q.FINDER_PAT_D,q.FINDER_PAT_D,q.FINDER_PAT_F],[q.FINDER_PAT_A,q.FINDER_PAT_E,q.FINDER_PAT_B,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_F,q.FINDER_PAT_F],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_D],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_E],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_F,q.FINDER_PAT_F],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_E,q.FINDER_PAT_F,q.FINDER_PAT_F]],q.MAX_PAIRS=11;class Sc extends Un{constructor(e,t,n){super(e,t),this.count=0,this.finderPattern=n}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class ot extends vt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,t,n){const r=this.decodePair(t,!1,e,n);ot.addOrTally(this.possibleLeftPairs,r),t.reverse();let o=this.decodePair(t,!0,e,n);ot.addOrTally(this.possibleRightPairs,o),t.reverse();for(let a of this.possibleLeftPairs)if(a.getCount()>1){for(let u of this.possibleRightPairs)if(u.getCount()>1&&ot.checkChecksum(a,u))return ot.constructResult(a,u)}throw new U}static addOrTally(e,t){if(t==null)return;let n=!1;for(let r of e)if(r.getValue()===t.getValue()){r.incrementCount(),n=!0;break}n||e.push(t)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,t){let n=4537077*e.getValue()+t.getValue(),r=new String(n).toString(),o=new Ee;for(let g=13-r.length;g>0;g--)o.append("0");o.append(r);let a=0;for(let g=0;g<13;g++){let m=o.charAt(g).charCodeAt(0)-48;a+=g&1?m:3*m}a=10-a%10,a===10&&(a=0),o.append(a.toString());let u=e.getFinderPattern().getResultPoints(),f=t.getFinderPattern().getResultPoints();return new We(o.toString(),null,0,[u[0],u[1],f[0],f[1]],oe.RSS_14,new Date().getTime())}static checkChecksum(e,t){let n=(e.getChecksumPortion()+16*t.getChecksumPortion())%79,r=9*e.getFinderPattern().getValue()+t.getFinderPattern().getValue();return r>72&&r--,r>8&&r--,n===r}decodePair(e,t,n,r){try{let o=this.findFinderPattern(e,t),a=this.parseFoundFinderPattern(e,n,t,o),u=r==null?null:r.get($.NEED_RESULT_POINT_CALLBACK);if(u!=null){let m=(o[0]+o[1])/2;t&&(m=e.getSize()-1-m),u.foundPossibleResultPoint(new ue(m,n))}let f=this.decodeDataCharacter(e,a,!0),g=this.decodeDataCharacter(e,a,!1);return new Sc(1597*f.getValue()+g.getValue(),f.getChecksumPortion()+4*g.getChecksumPortion(),a)}catch{return null}}decodeDataCharacter(e,t,n){let r=this.getDataCharacterCounters();for(let F=0;F<r.length;F++)r[F]=0;if(n)ft.recordPatternInReverse(e,t.getStartEnd()[0],r);else{ft.recordPattern(e,t.getStartEnd()[1]+1,r);for(let F=0,W=r.length-1;F<W;F++,W--){let te=r[F];r[F]=r[W],r[W]=te}}let o=n?16:15,a=Ne.sum(new Int32Array(r))/o,u=this.getOddCounts(),f=this.getEvenCounts(),g=this.getOddRoundingErrors(),m=this.getEvenRoundingErrors();for(let F=0;F<r.length;F++){let W=r[F]/a,te=Math.floor(W+.5);te<1?te=1:te>8&&(te=8);let ne=Math.floor(F/2);F&1?(f[ne]=te,m[ne]=W-te):(u[ne]=te,g[ne]=W-te)}this.adjustOddEvenCounts(n,o);let E=0,v=0;for(let F=u.length-1;F>=0;F--)v*=9,v+=u[F],E+=u[F];let I=0,N=0;for(let F=f.length-1;F>=0;F--)I*=9,I+=f[F],N+=f[F];let D=v+3*I;if(n){if(E&1||E>12||E<4)throw new U;let F=(12-E)/2,W=ot.OUTSIDE_ODD_WIDEST[F],te=9-W,ne=nn.getRSSvalue(u,W,!1),Z=nn.getRSSvalue(f,te,!0),Re=ot.OUTSIDE_EVEN_TOTAL_SUBSET[F],ve=ot.OUTSIDE_GSUM[F];return new Un(ne*Re+Z+ve,D)}else{if(N&1||N>10||N<4)throw new U;let F=(10-N)/2,W=ot.INSIDE_ODD_WIDEST[F],te=9-W,ne=nn.getRSSvalue(u,W,!0),Z=nn.getRSSvalue(f,te,!1),Re=ot.INSIDE_ODD_TOTAL_SUBSET[F],ve=ot.INSIDE_GSUM[F];return new Un(Z*Re+ne+ve,D)}}findFinderPattern(e,t){let n=this.getDecodeFinderCounters();n[0]=0,n[1]=0,n[2]=0,n[3]=0;let r=e.getSize(),o=!1,a=0;for(;a<r&&(o=!e.get(a),t!==o);)a++;let u=0,f=a;for(let g=a;g<r;g++)if(e.get(g)!==o)n[u]++;else{if(u===3){if(vt.isFinderPattern(n))return[f,g];f+=n[0]+n[1],n[0]=n[2],n[1]=n[3],n[2]=0,n[3]=0,u--}else u++;n[u]=1,o=!o}throw new U}parseFoundFinderPattern(e,t,n,r){let o=e.get(r[0]),a=r[0]-1;for(;a>=0&&o!==e.get(a);)a--;a++;const u=r[0]-a,f=this.getDecodeFinderCounters(),g=new Int32Array(f.length);T.arraycopy(f,0,g,1,f.length-1),g[0]=u;const m=this.parseFinderValue(g,ot.FINDER_PATTERNS);let E=a,v=r[1];return n&&(E=e.getSize()-1-E,v=e.getSize()-1-v),new Rr(m,[a,r[1]],E,v,t)}adjustOddEvenCounts(e,t){let n=Ne.sum(new Int32Array(this.getOddCounts())),r=Ne.sum(new Int32Array(this.getEvenCounts())),o=!1,a=!1,u=!1,f=!1;e?(n>12?a=!0:n<4&&(o=!0),r>12?f=!0:r<4&&(u=!0)):(n>11?a=!0:n<5&&(o=!0),r>10?f=!0:r<4&&(u=!0));let g=n+r-t,m=(n&1)===(e?1:0),E=(r&1)===1;if(g===1)if(m){if(E)throw new U;a=!0}else{if(!E)throw new U;f=!0}else if(g===-1)if(m){if(E)throw new U;o=!0}else{if(!E)throw new U;u=!0}else if(g===0){if(m){if(!E)throw new U;n<r?(o=!0,f=!0):(a=!0,u=!0)}else if(E)throw new U}else throw new U;if(o){if(a)throw new U;vt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&vt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(f)throw new U;vt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&vt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ot.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],ot.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],ot.OUTSIDE_GSUM=[0,161,961,2015,2715],ot.INSIDE_GSUM=[0,336,1036,1516],ot.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],ot.INSIDE_ODD_WIDEST=[2,4,6,8],ot.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Wn extends ft{constructor(e,t){super(),this.readers=[],this.verbose=t===!0;const n=e?e.get($.POSSIBLE_FORMATS):null,r=e&&e.get($.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;n?((n.includes(oe.EAN_13)||n.includes(oe.UPC_A)||n.includes(oe.EAN_8)||n.includes(oe.UPC_E))&&this.readers.push(new ki(e)),n.includes(oe.CODE_39)&&this.readers.push(new gt(r)),n.includes(oe.CODE_128)&&this.readers.push(new se),n.includes(oe.ITF)&&this.readers.push(new Ye),n.includes(oe.RSS_14)&&this.readers.push(new ot),n.includes(oe.RSS_EXPANDED)&&this.readers.push(new q(this.verbose))):(this.readers.push(new ki(e)),this.readers.push(new gt),this.readers.push(new ki(e)),this.readers.push(new se),this.readers.push(new Ye),this.readers.push(new ot),this.readers.push(new q(this.verbose)))}decodeRow(e,t,n){for(let r=0;r<this.readers.length;r++)try{return this.readers[r].decodeRow(e,t,n)}catch{}throw new U}reset(){this.readers.forEach(e=>e.reset())}}class Ic extends $e{constructor(e=500,t){super(new Wn(t),e,t)}}class je{constructor(e,t,n){this.ecCodewords=e,this.ecBlocks=[t],n&&this.ecBlocks.push(n)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Le{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Me{constructor(e,t,n,r,o,a){this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=n,this.dataRegionSizeRows=r,this.dataRegionSizeColumns=o,this.ecBlocks=a;let u=0;const f=a.getECCodewords(),g=a.getECBlocks();for(let m of g)u+=m.getCount()*(m.getDataCodewords()+f);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,t){if(e&1||t&1)throw new L;for(let n of Me.VERSIONS)if(n.symbolSizeRows===e&&n.symbolSizeColumns===t)return n;throw new L}toString(){return""+this.versionNumber}static buildVersions(){return[new Me(1,10,10,8,8,new je(5,new Le(1,3))),new Me(2,12,12,10,10,new je(7,new Le(1,5))),new Me(3,14,14,12,12,new je(10,new Le(1,8))),new Me(4,16,16,14,14,new je(12,new Le(1,12))),new Me(5,18,18,16,16,new je(14,new Le(1,18))),new Me(6,20,20,18,18,new je(18,new Le(1,22))),new Me(7,22,22,20,20,new je(20,new Le(1,30))),new Me(8,24,24,22,22,new je(24,new Le(1,36))),new Me(9,26,26,24,24,new je(28,new Le(1,44))),new Me(10,32,32,14,14,new je(36,new Le(1,62))),new Me(11,36,36,16,16,new je(42,new Le(1,86))),new Me(12,40,40,18,18,new je(48,new Le(1,114))),new Me(13,44,44,20,20,new je(56,new Le(1,144))),new Me(14,48,48,22,22,new je(68,new Le(1,174))),new Me(15,52,52,24,24,new je(42,new Le(2,102))),new Me(16,64,64,14,14,new je(56,new Le(2,140))),new Me(17,72,72,16,16,new je(36,new Le(4,92))),new Me(18,80,80,18,18,new je(48,new Le(4,114))),new Me(19,88,88,20,20,new je(56,new Le(4,144))),new Me(20,96,96,22,22,new je(68,new Le(4,174))),new Me(21,104,104,24,24,new je(56,new Le(6,136))),new Me(22,120,120,18,18,new je(68,new Le(6,175))),new Me(23,132,132,20,20,new je(62,new Le(8,163))),new Me(24,144,144,22,22,new je(62,new Le(8,156),new Le(2,155))),new Me(25,8,18,6,16,new je(7,new Le(1,5))),new Me(26,8,32,6,14,new je(11,new Le(1,10))),new Me(27,12,26,10,24,new je(14,new Le(1,16))),new Me(28,12,36,10,16,new je(18,new Le(1,22))),new Me(29,16,36,14,16,new je(24,new Le(1,32))),new Me(30,16,48,14,22,new je(28,new Le(1,49)))]}}Me.VERSIONS=Me.buildVersions();class ji{constructor(e){const t=e.getHeight();if(t<8||t>144||t&1)throw new L;this.version=ji.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new _e(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const t=e.getHeight(),n=e.getWidth();return Me.getVersionForDimensions(t,n)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let t=0,n=4,r=0;const o=this.mappingBitMatrix.getHeight(),a=this.mappingBitMatrix.getWidth();let u=!1,f=!1,g=!1,m=!1;do if(n===o&&r===0&&!u)e[t++]=this.readCorner1(o,a)&255,n-=2,r+=2,u=!0;else if(n===o-2&&r===0&&a&3&&!f)e[t++]=this.readCorner2(o,a)&255,n-=2,r+=2,f=!0;else if(n===o+4&&r===2&&!(a&7)&&!g)e[t++]=this.readCorner3(o,a)&255,n-=2,r+=2,g=!0;else if(n===o-2&&r===0&&(a&7)===4&&!m)e[t++]=this.readCorner4(o,a)&255,n-=2,r+=2,m=!0;else{do n<o&&r>=0&&!this.readMappingMatrix.get(r,n)&&(e[t++]=this.readUtah(n,r,o,a)&255),n-=2,r+=2;while(n>=0&&r<a);n+=1,r+=3;do n>=0&&r<a&&!this.readMappingMatrix.get(r,n)&&(e[t++]=this.readUtah(n,r,o,a)&255),n+=2,r-=2;while(n<o&&r>=0);n+=3,r+=1}while(n<o||r<a);if(t!==this.version.getTotalCodewords())throw new L;return e}readModule(e,t,n,r){return e<0&&(e+=n,t+=4-(n+4&7)),t<0&&(t+=r,e+=4-(r+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)}readUtah(e,t,n,r){let o=0;return this.readModule(e-2,t-2,n,r)&&(o|=1),o<<=1,this.readModule(e-2,t-1,n,r)&&(o|=1),o<<=1,this.readModule(e-1,t-2,n,r)&&(o|=1),o<<=1,this.readModule(e-1,t-1,n,r)&&(o|=1),o<<=1,this.readModule(e-1,t,n,r)&&(o|=1),o<<=1,this.readModule(e,t-2,n,r)&&(o|=1),o<<=1,this.readModule(e,t-1,n,r)&&(o|=1),o<<=1,this.readModule(e,t,n,r)&&(o|=1),o}readCorner1(e,t){let n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,1,e,t)&&(n|=1),n<<=1,this.readModule(e-1,2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n}readCorner2(e,t){let n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-4,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n}readCorner3(e,t){let n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-3,e,t)&&(n|=1),n<<=1,this.readModule(1,t-2,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n}readCorner4(e,t){let n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n}extractDataRegion(e){const t=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new y("Dimension of bitMatrix must match the version size");const r=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),a=t/r|0,u=n/o|0,f=a*r,g=u*o,m=new _e(g,f);for(let E=0;E<a;++E){const v=E*r;for(let I=0;I<u;++I){const N=I*o;for(let D=0;D<r;++D){const F=E*(r+2)+1+D,W=v+D;for(let te=0;te<o;++te){const ne=I*(o+2)+1+te;if(e.get(ne,F)){const Z=N+te;m.set(Z,W)}}}}}return m}}class Hi{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t){const n=t.getECBlocks();let r=0;const o=n.getECBlocks();for(let D of o)r+=D.getCount();const a=new Array(r);let u=0;for(let D of o)for(let F=0;F<D.getCount();F++){const W=D.getDataCodewords(),te=n.getECCodewords()+W;a[u++]=new Hi(W,new Uint8Array(te))}const g=a[0].codewords.length-n.getECCodewords(),m=g-1;let E=0;for(let D=0;D<m;D++)for(let F=0;F<u;F++)a[F].codewords[D]=e[E++];const v=t.getVersionNumber()===24,I=v?8:u;for(let D=0;D<I;D++)a[D].codewords[g-1]=e[E++];const N=a[0].codewords.length;for(let D=g;D<N;D++)for(let F=0;F<u;F++){const W=v?(F+8)%u:F,te=v&&W>7?D-1:D;a[W].codewords[te]=e[E++]}if(E!==e.length)throw new y;return a}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Wi{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new y(""+e);let t=0,n=this.bitOffset,r=this.byteOffset;const o=this.bytes;if(n>0){const a=8-n,u=e<a?e:a,f=a-u,g=255>>8-u<<f;t=(o[r]&g)>>f,e-=u,n+=u,n===8&&(n=0,r++)}if(e>0){for(;e>=8;)t=t<<8|o[r]&255,r++,e-=8;if(e>0){const a=8-e,u=255>>a<<a;t=t<<e|(o[r]&u)>>a,n+=e}}return this.bitOffset=n,this.byteOffset=r,t}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var xt;(function(C){C[C.PAD_ENCODE=0]="PAD_ENCODE",C[C.ASCII_ENCODE=1]="ASCII_ENCODE",C[C.C40_ENCODE=2]="C40_ENCODE",C[C.TEXT_ENCODE=3]="TEXT_ENCODE",C[C.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",C[C.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",C[C.BASE256_ENCODE=6]="BASE256_ENCODE"})(xt||(xt={}));class yn{static decode(e){const t=new Wi(e),n=new Ee,r=new Ee,o=new Array;let a=xt.ASCII_ENCODE;do if(a===xt.ASCII_ENCODE)a=this.decodeAsciiSegment(t,n,r);else{switch(a){case xt.C40_ENCODE:this.decodeC40Segment(t,n);break;case xt.TEXT_ENCODE:this.decodeTextSegment(t,n);break;case xt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,n);break;case xt.EDIFACT_ENCODE:this.decodeEdifactSegment(t,n);break;case xt.BASE256_ENCODE:this.decodeBase256Segment(t,n,o);break;default:throw new L}a=xt.ASCII_ENCODE}while(a!==xt.PAD_ENCODE&&t.available()>0);return r.length()>0&&n.append(r.toString()),new Gt(e,n.toString(),o.length===0?null:o,null)}static decodeAsciiSegment(e,t,n){let r=!1;do{let o=e.readBits(8);if(o===0)throw new L;if(o<=128)return r&&(o+=128),t.append(String.fromCharCode(o-1)),xt.ASCII_ENCODE;if(o===129)return xt.PAD_ENCODE;if(o<=229){const a=o-130;a<10&&t.append("0"),t.append(""+a)}else switch(o){case 230:return xt.C40_ENCODE;case 231:return xt.BASE256_ENCODE;case 232:t.append("");break;case 233:case 234:break;case 235:r=!0;break;case 236:t.append("[)>05"),n.insert(0,"");break;case 237:t.append("[)>06"),n.insert(0,"");break;case 238:return xt.ANSIX12_ENCODE;case 239:return xt.TEXT_ENCODE;case 240:return xt.EDIFACT_ENCODE;case 241:break;default:if(o!==254||e.available()!==0)throw new L;break}}while(e.available()>0);return xt.ASCII_ENCODE}static decodeC40Segment(e,t){let n=!1;const r=[];let o=0;do{if(e.available()===8)return;const a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),r);for(let u=0;u<3;u++){const f=r[u];switch(o){case 0:if(f<3)o=f+1;else if(f<this.C40_BASIC_SET_CHARS.length){const g=this.C40_BASIC_SET_CHARS[f];n?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),n=!1):t.append(g)}else throw new L;break;case 1:n?(t.append(String.fromCharCode(f+128)),n=!1):t.append(String.fromCharCode(f)),o=0;break;case 2:if(f<this.C40_SHIFT2_SET_CHARS.length){const g=this.C40_SHIFT2_SET_CHARS[f];n?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),n=!1):t.append(g)}else switch(f){case 27:t.append("");break;case 30:n=!0;break;default:throw new L}o=0;break;case 3:n?(t.append(String.fromCharCode(f+224)),n=!1):t.append(String.fromCharCode(f+96)),o=0;break;default:throw new L}}}while(e.available()>0)}static decodeTextSegment(e,t){let n=!1,r=[],o=0;do{if(e.available()===8)return;const a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),r);for(let u=0;u<3;u++){const f=r[u];switch(o){case 0:if(f<3)o=f+1;else if(f<this.TEXT_BASIC_SET_CHARS.length){const g=this.TEXT_BASIC_SET_CHARS[f];n?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),n=!1):t.append(g)}else throw new L;break;case 1:n?(t.append(String.fromCharCode(f+128)),n=!1):t.append(String.fromCharCode(f)),o=0;break;case 2:if(f<this.TEXT_SHIFT2_SET_CHARS.length){const g=this.TEXT_SHIFT2_SET_CHARS[f];n?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),n=!1):t.append(g)}else switch(f){case 27:t.append("");break;case 30:n=!0;break;default:throw new L}o=0;break;case 3:if(f<this.TEXT_SHIFT3_SET_CHARS.length){const g=this.TEXT_SHIFT3_SET_CHARS[f];n?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),n=!1):t.append(g),o=0}else throw new L;break;default:throw new L}}}while(e.available()>0)}static decodeAnsiX12Segment(e,t){const n=[];do{if(e.available()===8)return;const r=e.readBits(8);if(r===254)return;this.parseTwoBytes(r,e.readBits(8),n);for(let o=0;o<3;o++){const a=n[o];switch(a){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(a<14)t.append(String.fromCharCode(a+44));else if(a<40)t.append(String.fromCharCode(a+51));else throw new L;break}}}while(e.available()>0)}static parseTwoBytes(e,t,n){let r=(e<<8)+t-1,o=Math.floor(r/1600);n[0]=o,r-=o*1600,o=Math.floor(r/40),n[1]=o,n[2]=r-o*40}static decodeEdifactSegment(e,t){do{if(e.available()<=16)return;for(let n=0;n<4;n++){let r=e.readBits(6);if(r===31){const o=8-e.getBitOffset();o!==8&&e.readBits(o);return}r&32||(r|=64),t.append(String.fromCharCode(r))}}while(e.available()>0)}static decodeBase256Segment(e,t,n){let r=1+e.getByteOffset();const o=this.unrandomize255State(e.readBits(8),r++);let a;if(o===0?a=e.available()/8|0:o<250?a=o:a=250*(o-249)+this.unrandomize255State(e.readBits(8),r++),a<0)throw new L;const u=new Uint8Array(a);for(let f=0;f<a;f++){if(e.available()<8)throw new L;u[f]=this.unrandomize255State(e.readBits(8),r++)}n.push(u);try{t.append(ye.decode(u,ae.ISO88591))}catch(f){throw new Ae("Platform does not support required encoding: "+f.message)}}static unrandomize255State(e,t){const n=149*t%255+1,r=e-n;return r>=0?r:r+256}}yn.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],yn.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],yn.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],yn.TEXT_SHIFT2_SET_CHARS=yn.C40_SHIFT2_SET_CHARS,yn.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class _c{constructor(){this.rsDecoder=new ut(Q.DATA_MATRIX_FIELD_256)}decode(e){const t=new ji(e),n=t.getVersion(),r=t.readCodewords(),o=Hi.getDataBlocks(r,n);let a=0;for(let g of o)a+=g.getNumDataCodewords();const u=new Uint8Array(a),f=o.length;for(let g=0;g<f;g++){const m=o[g],E=m.getCodewords(),v=m.getNumDataCodewords();this.correctErrors(E,v);for(let I=0;I<v;I++)u[I*f+g]=E[I]}return yn.decode(u)}correctErrors(e,t){const n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch{throw new B}for(let r=0;r<t;r++)e[r]=n[r]}}class dt{constructor(e){this.image=e,this.rectangleDetector=new hn(this.image)}detect(){const e=this.rectangleDetector.detect();let t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new U;t=this.shiftToModuleCenter(t);const n=t[0],r=t[1],o=t[2],a=t[3];let u=this.transitionsBetween(n,a)+1,f=this.transitionsBetween(o,a)+1;(u&1)===1&&(u+=1),(f&1)===1&&(f+=1),4*u<7*f&&4*f<7*u&&(u=f=Math.max(u,f));let g=dt.sampleGrid(this.image,n,r,o,a,u,f);return new Or(g,[n,r,o,a])}static shiftPoint(e,t,n){let r=(t.getX()-e.getX())/(n+1),o=(t.getY()-e.getY())/(n+1);return new ue(e.getX()+r,e.getY()+o)}static moveAway(e,t,n){let r=e.getX(),o=e.getY();return r<t?r-=1:r+=1,o<n?o-=1:o+=1,new ue(r,o)}detectSolid1(e){let t=e[0],n=e[1],r=e[3],o=e[2],a=this.transitionsBetween(t,n),u=this.transitionsBetween(n,r),f=this.transitionsBetween(r,o),g=this.transitionsBetween(o,t),m=a,E=[o,t,n,r];return m>u&&(m=u,E[0]=t,E[1]=n,E[2]=r,E[3]=o),m>f&&(m=f,E[0]=n,E[1]=r,E[2]=o,E[3]=t),m>g&&(E[0]=r,E[1]=o,E[2]=t,E[3]=n),E}detectSolid2(e){let t=e[0],n=e[1],r=e[2],o=e[3],a=this.transitionsBetween(t,o),u=dt.shiftPoint(n,r,(a+1)*4),f=dt.shiftPoint(r,n,(a+1)*4),g=this.transitionsBetween(u,t),m=this.transitionsBetween(f,o);return g<m?(e[0]=t,e[1]=n,e[2]=r,e[3]=o):(e[0]=n,e[1]=r,e[2]=o,e[3]=t),e}correctTopRight(e){let t=e[0],n=e[1],r=e[2],o=e[3],a=this.transitionsBetween(t,o),u=this.transitionsBetween(n,o),f=dt.shiftPoint(t,n,(u+1)*4),g=dt.shiftPoint(r,n,(a+1)*4);a=this.transitionsBetween(f,o),u=this.transitionsBetween(g,o);let m=new ue(o.getX()+(r.getX()-n.getX())/(a+1),o.getY()+(r.getY()-n.getY())/(a+1)),E=new ue(o.getX()+(t.getX()-n.getX())/(u+1),o.getY()+(t.getY()-n.getY())/(u+1));if(!this.isValid(m))return this.isValid(E)?E:null;if(!this.isValid(E))return m;let v=this.transitionsBetween(f,m)+this.transitionsBetween(g,m),I=this.transitionsBetween(f,E)+this.transitionsBetween(g,E);return v>I?m:E}shiftToModuleCenter(e){let t=e[0],n=e[1],r=e[2],o=e[3],a=this.transitionsBetween(t,o)+1,u=this.transitionsBetween(r,o)+1,f=dt.shiftPoint(t,n,u*4),g=dt.shiftPoint(r,n,a*4);a=this.transitionsBetween(f,o)+1,u=this.transitionsBetween(g,o)+1,(a&1)===1&&(a+=1),(u&1)===1&&(u+=1);let m=(t.getX()+n.getX()+r.getX()+o.getX())/4,E=(t.getY()+n.getY()+r.getY()+o.getY())/4;t=dt.moveAway(t,m,E),n=dt.moveAway(n,m,E),r=dt.moveAway(r,m,E),o=dt.moveAway(o,m,E);let v,I;return f=dt.shiftPoint(t,n,u*4),f=dt.shiftPoint(f,o,a*4),v=dt.shiftPoint(n,t,u*4),v=dt.shiftPoint(v,r,a*4),g=dt.shiftPoint(r,o,u*4),g=dt.shiftPoint(g,n,a*4),I=dt.shiftPoint(o,r,u*4),I=dt.shiftPoint(I,t,a*4),[f,v,g,I]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,t,n,r,o,a,u){return En.getInstance().sampleGrid(e,a,u,.5,.5,a-.5,.5,a-.5,u-.5,.5,u-.5,t.getX(),t.getY(),o.getX(),o.getY(),r.getX(),r.getY(),n.getX(),n.getY())}transitionsBetween(e,t){let n=Math.trunc(e.getX()),r=Math.trunc(e.getY()),o=Math.trunc(t.getX()),a=Math.trunc(t.getY()),u=Math.abs(a-r)>Math.abs(o-n);if(u){let D=n;n=r,r=D,D=o,o=a,a=D}let f=Math.abs(o-n),g=Math.abs(a-r),m=-f/2,E=r<a?1:-1,v=n<o?1:-1,I=0,N=this.image.get(u?r:n,u?n:r);for(let D=n,F=r;D!==o;D+=v){let W=this.image.get(u?F:D,u?D:F);if(W!==N&&(I++,N=W),m+=g,m>0){if(F===a)break;F+=E,m-=f}}return I}}class vn{constructor(){this.decoder=new _c}decode(e,t=null){let n,r;if(t!=null&&t.has($.PURE_BARCODE)){const g=vn.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(g),r=vn.NO_POINTS}else{const g=new dt(e.getBlackMatrix()).detect();n=this.decoder.decode(g.getBits()),r=g.getPoints()}const o=n.getRawBytes(),a=new We(n.getText(),o,8*o.length,r,oe.DATA_MATRIX,T.currentTimeMillis()),u=n.getByteSegments();u!=null&&a.putMetadata(Ue.BYTE_SEGMENTS,u);const f=n.getECLevel();return f!=null&&a.putMetadata(Ue.ERROR_CORRECTION_LEVEL,f),a}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t==null||n==null)throw new U;const r=this.moduleSize(t,e);let o=t[1];const a=n[1];let u=t[0];const g=(n[0]-u+1)/r,m=(a-o+1)/r;if(g<=0||m<=0)throw new U;const E=r/2;o+=E,u+=E;const v=new _e(g,m);for(let I=0;I<m;I++){const N=o+I*r;for(let D=0;D<g;D++)e.get(u+D*r,N)&&v.set(D,I)}return v}static moduleSize(e,t){const n=t.getWidth();let r=e[0];const o=e[1];for(;r<n&&t.get(r,o);)r++;if(r===n)throw new U;const a=r-e[0];if(a===0)throw new U;return a}}vn.NO_POINTS=[];class Tc extends $e{constructor(e=500){super(new vn,e)}}var Gn;(function(C){C[C.L=0]="L",C[C.M=1]="M",C[C.Q=2]="Q",C[C.H=3]="H"})(Gn||(Gn={}));class Ke{constructor(e,t,n){this.value=e,this.stringValue=t,this.bits=n,Ke.FOR_BITS.set(n,this),Ke.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return Ke.L;case"M":return Ke.M;case"Q":return Ke.Q;case"H":return Ke.H;default:throw new A(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof Ke))return!1;const t=e;return this.value===t.value}static forBits(e){if(e<0||e>=Ke.FOR_BITS.size)throw new y;return Ke.FOR_BITS.get(e)}}Ke.FOR_BITS=new Map,Ke.FOR_VALUE=new Map,Ke.L=new Ke(Gn.L,"L",1),Ke.M=new Ke(Gn.M,"M",0),Ke.Q=new Ke(Gn.Q,"Q",3),Ke.H=new Ke(Gn.H,"H",2);class St{constructor(e){this.errorCorrectionLevel=Ke.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,t){return G.bitCount(e^t)}static decodeFormatInformation(e,t){const n=St.doDecodeFormatInformation(e,t);return n!==null?n:St.doDecodeFormatInformation(e^St.FORMAT_INFO_MASK_QR,t^St.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,t){let n=Number.MAX_SAFE_INTEGER,r=0;for(const o of St.FORMAT_INFO_DECODE_LOOKUP){const a=o[0];if(a===e||a===t)return new St(o[1]);let u=St.numBitsDiffering(e,a);u<n&&(r=o[1],n=u),e!==t&&(u=St.numBitsDiffering(t,a),u<n&&(r=o[1],n=u))}return n<=3?new St(r):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof St))return!1;const t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask}}St.FORMAT_INFO_MASK_QR=21522,St.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class V{constructor(e,...t){this.ecCodewordsPerBlock=e,this.ecBlocks=t}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const t=this.ecBlocks;for(const n of t)e+=n.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class S{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class de{constructor(e,t,...n){this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=n;let r=0;const o=n[0].getECCodewordsPerBlock(),a=n[0].getECBlocks();for(const u of a)r+=u.getCount()*(u.getDataCodewords()+o);this.totalCodewords=r}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new L;try{return this.getVersionForNumber((e-17)/4)}catch{throw new L}}static getVersionForNumber(e){if(e<1||e>40)throw new y;return de.VERSIONS[e-1]}static decodeVersionInformation(e){let t=Number.MAX_SAFE_INTEGER,n=0;for(let r=0;r<de.VERSION_DECODE_INFO.length;r++){const o=de.VERSION_DECODE_INFO[r];if(o===e)return de.getVersionForNumber(r+7);const a=St.numBitsDiffering(e,o);a<t&&(n=r+7,t=a)}return t<=3?de.getVersionForNumber(n):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),t=new _e(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);const n=this.alignmentPatternCenters.length;for(let r=0;r<n;r++){const o=this.alignmentPatternCenters[r]-2;for(let a=0;a<n;a++)r===0&&(a===0||a===n-1)||r===n-1&&a===0||t.setRegion(this.alignmentPatternCenters[a]-2,o,5,5)}return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t}toString(){return""+this.versionNumber}}de.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),de.VERSIONS=[new de(1,new Int32Array(0),new V(7,new S(1,19)),new V(10,new S(1,16)),new V(13,new S(1,13)),new V(17,new S(1,9))),new de(2,Int32Array.from([6,18]),new V(10,new S(1,34)),new V(16,new S(1,28)),new V(22,new S(1,22)),new V(28,new S(1,16))),new de(3,Int32Array.from([6,22]),new V(15,new S(1,55)),new V(26,new S(1,44)),new V(18,new S(2,17)),new V(22,new S(2,13))),new de(4,Int32Array.from([6,26]),new V(20,new S(1,80)),new V(18,new S(2,32)),new V(26,new S(2,24)),new V(16,new S(4,9))),new de(5,Int32Array.from([6,30]),new V(26,new S(1,108)),new V(24,new S(2,43)),new V(18,new S(2,15),new S(2,16)),new V(22,new S(2,11),new S(2,12))),new de(6,Int32Array.from([6,34]),new V(18,new S(2,68)),new V(16,new S(4,27)),new V(24,new S(4,19)),new V(28,new S(4,15))),new de(7,Int32Array.from([6,22,38]),new V(20,new S(2,78)),new V(18,new S(4,31)),new V(18,new S(2,14),new S(4,15)),new V(26,new S(4,13),new S(1,14))),new de(8,Int32Array.from([6,24,42]),new V(24,new S(2,97)),new V(22,new S(2,38),new S(2,39)),new V(22,new S(4,18),new S(2,19)),new V(26,new S(4,14),new S(2,15))),new de(9,Int32Array.from([6,26,46]),new V(30,new S(2,116)),new V(22,new S(3,36),new S(2,37)),new V(20,new S(4,16),new S(4,17)),new V(24,new S(4,12),new S(4,13))),new de(10,Int32Array.from([6,28,50]),new V(18,new S(2,68),new S(2,69)),new V(26,new S(4,43),new S(1,44)),new V(24,new S(6,19),new S(2,20)),new V(28,new S(6,15),new S(2,16))),new de(11,Int32Array.from([6,30,54]),new V(20,new S(4,81)),new V(30,new S(1,50),new S(4,51)),new V(28,new S(4,22),new S(4,23)),new V(24,new S(3,12),new S(8,13))),new de(12,Int32Array.from([6,32,58]),new V(24,new S(2,92),new S(2,93)),new V(22,new S(6,36),new S(2,37)),new V(26,new S(4,20),new S(6,21)),new V(28,new S(7,14),new S(4,15))),new de(13,Int32Array.from([6,34,62]),new V(26,new S(4,107)),new V(22,new S(8,37),new S(1,38)),new V(24,new S(8,20),new S(4,21)),new V(22,new S(12,11),new S(4,12))),new de(14,Int32Array.from([6,26,46,66]),new V(30,new S(3,115),new S(1,116)),new V(24,new S(4,40),new S(5,41)),new V(20,new S(11,16),new S(5,17)),new V(24,new S(11,12),new S(5,13))),new de(15,Int32Array.from([6,26,48,70]),new V(22,new S(5,87),new S(1,88)),new V(24,new S(5,41),new S(5,42)),new V(30,new S(5,24),new S(7,25)),new V(24,new S(11,12),new S(7,13))),new de(16,Int32Array.from([6,26,50,74]),new V(24,new S(5,98),new S(1,99)),new V(28,new S(7,45),new S(3,46)),new V(24,new S(15,19),new S(2,20)),new V(30,new S(3,15),new S(13,16))),new de(17,Int32Array.from([6,30,54,78]),new V(28,new S(1,107),new S(5,108)),new V(28,new S(10,46),new S(1,47)),new V(28,new S(1,22),new S(15,23)),new V(28,new S(2,14),new S(17,15))),new de(18,Int32Array.from([6,30,56,82]),new V(30,new S(5,120),new S(1,121)),new V(26,new S(9,43),new S(4,44)),new V(28,new S(17,22),new S(1,23)),new V(28,new S(2,14),new S(19,15))),new de(19,Int32Array.from([6,30,58,86]),new V(28,new S(3,113),new S(4,114)),new V(26,new S(3,44),new S(11,45)),new V(26,new S(17,21),new S(4,22)),new V(26,new S(9,13),new S(16,14))),new de(20,Int32Array.from([6,34,62,90]),new V(28,new S(3,107),new S(5,108)),new V(26,new S(3,41),new S(13,42)),new V(30,new S(15,24),new S(5,25)),new V(28,new S(15,15),new S(10,16))),new de(21,Int32Array.from([6,28,50,72,94]),new V(28,new S(4,116),new S(4,117)),new V(26,new S(17,42)),new V(28,new S(17,22),new S(6,23)),new V(30,new S(19,16),new S(6,17))),new de(22,Int32Array.from([6,26,50,74,98]),new V(28,new S(2,111),new S(7,112)),new V(28,new S(17,46)),new V(30,new S(7,24),new S(16,25)),new V(24,new S(34,13))),new de(23,Int32Array.from([6,30,54,78,102]),new V(30,new S(4,121),new S(5,122)),new V(28,new S(4,47),new S(14,48)),new V(30,new S(11,24),new S(14,25)),new V(30,new S(16,15),new S(14,16))),new de(24,Int32Array.from([6,28,54,80,106]),new V(30,new S(6,117),new S(4,118)),new V(28,new S(6,45),new S(14,46)),new V(30,new S(11,24),new S(16,25)),new V(30,new S(30,16),new S(2,17))),new de(25,Int32Array.from([6,32,58,84,110]),new V(26,new S(8,106),new S(4,107)),new V(28,new S(8,47),new S(13,48)),new V(30,new S(7,24),new S(22,25)),new V(30,new S(22,15),new S(13,16))),new de(26,Int32Array.from([6,30,58,86,114]),new V(28,new S(10,114),new S(2,115)),new V(28,new S(19,46),new S(4,47)),new V(28,new S(28,22),new S(6,23)),new V(30,new S(33,16),new S(4,17))),new de(27,Int32Array.from([6,34,62,90,118]),new V(30,new S(8,122),new S(4,123)),new V(28,new S(22,45),new S(3,46)),new V(30,new S(8,23),new S(26,24)),new V(30,new S(12,15),new S(28,16))),new de(28,Int32Array.from([6,26,50,74,98,122]),new V(30,new S(3,117),new S(10,118)),new V(28,new S(3,45),new S(23,46)),new V(30,new S(4,24),new S(31,25)),new V(30,new S(11,15),new S(31,16))),new de(29,Int32Array.from([6,30,54,78,102,126]),new V(30,new S(7,116),new S(7,117)),new V(28,new S(21,45),new S(7,46)),new V(30,new S(1,23),new S(37,24)),new V(30,new S(19,15),new S(26,16))),new de(30,Int32Array.from([6,26,52,78,104,130]),new V(30,new S(5,115),new S(10,116)),new V(28,new S(19,47),new S(10,48)),new V(30,new S(15,24),new S(25,25)),new V(30,new S(23,15),new S(25,16))),new de(31,Int32Array.from([6,30,56,82,108,134]),new V(30,new S(13,115),new S(3,116)),new V(28,new S(2,46),new S(29,47)),new V(30,new S(42,24),new S(1,25)),new V(30,new S(23,15),new S(28,16))),new de(32,Int32Array.from([6,34,60,86,112,138]),new V(30,new S(17,115)),new V(28,new S(10,46),new S(23,47)),new V(30,new S(10,24),new S(35,25)),new V(30,new S(19,15),new S(35,16))),new de(33,Int32Array.from([6,30,58,86,114,142]),new V(30,new S(17,115),new S(1,116)),new V(28,new S(14,46),new S(21,47)),new V(30,new S(29,24),new S(19,25)),new V(30,new S(11,15),new S(46,16))),new de(34,Int32Array.from([6,34,62,90,118,146]),new V(30,new S(13,115),new S(6,116)),new V(28,new S(14,46),new S(23,47)),new V(30,new S(44,24),new S(7,25)),new V(30,new S(59,16),new S(1,17))),new de(35,Int32Array.from([6,30,54,78,102,126,150]),new V(30,new S(12,121),new S(7,122)),new V(28,new S(12,47),new S(26,48)),new V(30,new S(39,24),new S(14,25)),new V(30,new S(22,15),new S(41,16))),new de(36,Int32Array.from([6,24,50,76,102,128,154]),new V(30,new S(6,121),new S(14,122)),new V(28,new S(6,47),new S(34,48)),new V(30,new S(46,24),new S(10,25)),new V(30,new S(2,15),new S(64,16))),new de(37,Int32Array.from([6,28,54,80,106,132,158]),new V(30,new S(17,122),new S(4,123)),new V(28,new S(29,46),new S(14,47)),new V(30,new S(49,24),new S(10,25)),new V(30,new S(24,15),new S(46,16))),new de(38,Int32Array.from([6,32,58,84,110,136,162]),new V(30,new S(4,122),new S(18,123)),new V(28,new S(13,46),new S(32,47)),new V(30,new S(48,24),new S(14,25)),new V(30,new S(42,15),new S(32,16))),new de(39,Int32Array.from([6,26,54,82,110,138,166]),new V(30,new S(20,117),new S(4,118)),new V(28,new S(40,47),new S(7,48)),new V(30,new S(43,24),new S(22,25)),new V(30,new S(10,15),new S(67,16))),new de(40,Int32Array.from([6,30,58,86,114,142,170]),new V(30,new S(19,118),new S(6,119)),new V(28,new S(18,47),new S(31,48)),new V(30,new S(34,24),new S(34,25)),new V(30,new S(20,15),new S(61,16)))];var mt;(function(C){C[C.DATA_MASK_000=0]="DATA_MASK_000",C[C.DATA_MASK_001=1]="DATA_MASK_001",C[C.DATA_MASK_010=2]="DATA_MASK_010",C[C.DATA_MASK_011=3]="DATA_MASK_011",C[C.DATA_MASK_100=4]="DATA_MASK_100",C[C.DATA_MASK_101=5]="DATA_MASK_101",C[C.DATA_MASK_110=6]="DATA_MASK_110",C[C.DATA_MASK_111=7]="DATA_MASK_111"})(mt||(mt={}));class Yt{constructor(e,t){this.value=e,this.isMasked=t}unmaskBitMatrix(e,t){for(let n=0;n<t;n++)for(let r=0;r<t;r++)this.isMasked(n,r)&&e.flip(r,n)}}Yt.values=new Map([[mt.DATA_MASK_000,new Yt(mt.DATA_MASK_000,(C,e)=>(C+e&1)===0)],[mt.DATA_MASK_001,new Yt(mt.DATA_MASK_001,(C,e)=>(C&1)===0)],[mt.DATA_MASK_010,new Yt(mt.DATA_MASK_010,(C,e)=>e%3===0)],[mt.DATA_MASK_011,new Yt(mt.DATA_MASK_011,(C,e)=>(C+e)%3===0)],[mt.DATA_MASK_100,new Yt(mt.DATA_MASK_100,(C,e)=>(Math.floor(C/2)+Math.floor(e/3)&1)===0)],[mt.DATA_MASK_101,new Yt(mt.DATA_MASK_101,(C,e)=>C*e%6===0)],[mt.DATA_MASK_110,new Yt(mt.DATA_MASK_110,(C,e)=>C*e%6<3)],[mt.DATA_MASK_111,new Yt(mt.DATA_MASK_111,(C,e)=>(C+e+C*e%3&1)===0)]]);class Oc{constructor(e){const t=e.getHeight();if(t<21||(t&3)!==1)throw new L;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let o=0;o<6;o++)e=this.copyBit(o,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let o=5;o>=0;o--)e=this.copyBit(8,o,e);const t=this.bitMatrix.getHeight();let n=0;const r=t-7;for(let o=t-1;o>=r;o--)n=this.copyBit(8,o,n);for(let o=t-8;o<t;o++)n=this.copyBit(o,8,n);if(this.parsedFormatInfo=St.decodeFormatInformation(e,n),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new L}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return de.getVersionForNumber(t);let n=0;const r=e-11;for(let a=5;a>=0;a--)for(let u=e-9;u>=r;u--)n=this.copyBit(u,a,n);let o=de.decodeVersionInformation(n);if(o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;n=0;for(let a=5;a>=0;a--)for(let u=e-9;u>=r;u--)n=this.copyBit(a,u,n);if(o=de.decodeVersionInformation(n),o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;throw new L}copyBit(e,t,n){return(this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t))?n<<1|1:n<<1}readCodewords(){const e=this.readFormatInformation(),t=this.readVersion(),n=Yt.values.get(e.getDataMask()),r=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,r);const o=t.buildFunctionPattern();let a=!0;const u=new Uint8Array(t.getTotalCodewords());let f=0,g=0,m=0;for(let E=r-1;E>0;E-=2){E===6&&E--;for(let v=0;v<r;v++){const I=a?r-1-v:v;for(let N=0;N<2;N++)o.get(E-N,I)||(m++,g<<=1,this.bitMatrix.get(E-N,I)&&(g|=1),m===8&&(u[f++]=g,m=0,g=0))}a=!a}if(f!==t.getTotalCodewords())throw new L;return u}remask(){if(this.parsedFormatInfo===null)return;const e=Yt.values[this.parsedFormatInfo.getDataMask()],t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let t=0,n=e.getWidth();t<n;t++)for(let r=t+1,o=e.getHeight();r<o;r++)e.get(t,r)!==e.get(r,t)&&(e.flip(r,t),e.flip(t,r))}}class Gi{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t,n){if(e.length!==t.getTotalCodewords())throw new y;const r=t.getECBlocksForLevel(n);let o=0;const a=r.getECBlocks();for(const N of a)o+=N.getCount();const u=new Array(o);let f=0;for(const N of a)for(let D=0;D<N.getCount();D++){const F=N.getDataCodewords(),W=r.getECCodewordsPerBlock()+F;u[f++]=new Gi(F,new Uint8Array(W))}const g=u[0].codewords.length;let m=u.length-1;for(;m>=0&&u[m].codewords.length!==g;)m--;m++;const E=g-r.getECCodewordsPerBlock();let v=0;for(let N=0;N<E;N++)for(let D=0;D<f;D++)u[D].codewords[N]=e[v++];for(let N=m;N<f;N++)u[N].codewords[E]=e[v++];const I=u[0].codewords.length;for(let N=E;N<I;N++)for(let D=0;D<f;D++){const F=D<m?N:N+1;u[D].codewords[F]=e[v++]}return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var qt;(function(C){C[C.TERMINATOR=0]="TERMINATOR",C[C.NUMERIC=1]="NUMERIC",C[C.ALPHANUMERIC=2]="ALPHANUMERIC",C[C.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",C[C.BYTE=4]="BYTE",C[C.ECI=5]="ECI",C[C.KANJI=6]="KANJI",C[C.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",C[C.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",C[C.HANZI=9]="HANZI"})(qt||(qt={}));class he{constructor(e,t,n,r){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=n,this.bits=r,he.FOR_BITS.set(r,this),he.FOR_VALUE.set(e,this)}static forBits(e){const t=he.FOR_BITS.get(e);if(t===void 0)throw new y;return t}getCharacterCountBits(e){const t=e.getVersionNumber();let n;return t<=9?n=0:t<=26?n=1:n=2,this.characterCountBitsForVersions[n]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof he))return!1;const t=e;return this.value===t.value}toString(){return this.stringValue}}he.FOR_BITS=new Map,he.FOR_VALUE=new Map,he.TERMINATOR=new he(qt.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),he.NUMERIC=new he(qt.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),he.ALPHANUMERIC=new he(qt.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),he.STRUCTURED_APPEND=new he(qt.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),he.BYTE=new he(qt.BYTE,"BYTE",Int32Array.from([8,16,16]),4),he.ECI=new he(qt.ECI,"ECI",Int32Array.from([0,0,0]),7),he.KANJI=new he(qt.KANJI,"KANJI",Int32Array.from([8,10,12]),8),he.FNC1_FIRST_POSITION=new he(qt.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),he.FNC1_SECOND_POSITION=new he(qt.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),he.HANZI=new he(qt.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class nt{static decode(e,t,n,r){const o=new Wi(e);let a=new Ee;const u=new Array;let f=-1,g=-1;try{let m=null,E=!1,v;do{if(o.available()<4)v=he.TERMINATOR;else{const I=o.readBits(4);v=he.forBits(I)}switch(v){case he.TERMINATOR:break;case he.FNC1_FIRST_POSITION:case he.FNC1_SECOND_POSITION:E=!0;break;case he.STRUCTURED_APPEND:if(o.available()<16)throw new L;f=o.readBits(8),g=o.readBits(8);break;case he.ECI:const I=nt.parseECIValue(o);if(m=z.getCharacterSetECIByValue(I),m===null)throw new L;break;case he.HANZI:const N=o.readBits(4),D=o.readBits(v.getCharacterCountBits(t));N===nt.GB2312_SUBSET&&nt.decodeHanziSegment(o,a,D);break;default:const F=o.readBits(v.getCharacterCountBits(t));switch(v){case he.NUMERIC:nt.decodeNumericSegment(o,a,F);break;case he.ALPHANUMERIC:nt.decodeAlphanumericSegment(o,a,F,E);break;case he.BYTE:nt.decodeByteSegment(o,a,F,m,u,r);break;case he.KANJI:nt.decodeKanjiSegment(o,a,F);break;default:throw new L}break}}while(v!==he.TERMINATOR)}catch{throw new L}return new Gt(e,a.toString(),u.length===0?null:u,n===null?null:n.toString(),f,g)}static decodeHanziSegment(e,t,n){if(n*13>e.available())throw new L;const r=new Uint8Array(2*n);let o=0;for(;n>0;){const a=e.readBits(13);let u=a/96<<8&4294967295|a%96;u<959?u+=41377:u+=42657,r[o]=u>>8&255,r[o+1]=u&255,o+=2,n--}try{t.append(ye.decode(r,ae.GB2312))}catch(a){throw new L(a)}}static decodeKanjiSegment(e,t,n){if(n*13>e.available())throw new L;const r=new Uint8Array(2*n);let o=0;for(;n>0;){const a=e.readBits(13);let u=a/192<<8&4294967295|a%192;u<7936?u+=33088:u+=49472,r[o]=u>>8,r[o+1]=u,o+=2,n--}try{t.append(ye.decode(r,ae.SHIFT_JIS))}catch(a){throw new L(a)}}static decodeByteSegment(e,t,n,r,o,a){if(8*n>e.available())throw new L;const u=new Uint8Array(n);for(let g=0;g<n;g++)u[g]=e.readBits(8);let f;r===null?f=ae.guessEncoding(u,a):f=r.getName();try{t.append(ye.decode(u,f))}catch(g){throw new L(g)}o.push(u)}static toAlphaNumericChar(e){if(e>=nt.ALPHANUMERIC_CHARS.length)throw new L;return nt.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,t,n,r){const o=t.length();for(;n>1;){if(e.available()<11)throw new L;const a=e.readBits(11);t.append(nt.toAlphaNumericChar(Math.floor(a/45))),t.append(nt.toAlphaNumericChar(a%45)),n-=2}if(n===1){if(e.available()<6)throw new L;t.append(nt.toAlphaNumericChar(e.readBits(6)))}if(r)for(let a=o;a<t.length();a++)t.charAt(a)==="%"&&(a<t.length()-1&&t.charAt(a+1)==="%"?t.deleteCharAt(a+1):t.setCharAt(a,""))}static decodeNumericSegment(e,t,n){for(;n>=3;){if(e.available()<10)throw new L;const r=e.readBits(10);if(r>=1e3)throw new L;t.append(nt.toAlphaNumericChar(Math.floor(r/100))),t.append(nt.toAlphaNumericChar(Math.floor(r/10)%10)),t.append(nt.toAlphaNumericChar(r%10)),n-=3}if(n===2){if(e.available()<7)throw new L;const r=e.readBits(7);if(r>=100)throw new L;t.append(nt.toAlphaNumericChar(Math.floor(r/10))),t.append(nt.toAlphaNumericChar(r%10))}else if(n===1){if(e.available()<4)throw new L;const r=e.readBits(4);if(r>=10)throw new L;t.append(nt.toAlphaNumericChar(r))}}static parseECIValue(e){const t=e.readBits(8);if(!(t&128))return t&127;if((t&192)===128){const n=e.readBits(8);return(t&63)<<8&4294967295|n}if((t&224)===192){const n=e.readBits(16);return(t&31)<<16&4294967295|n}throw new L}}nt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",nt.GB2312_SUBSET=1;class ho{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const t=e[0];e[0]=e[2],e[2]=t}}class Nc{constructor(){this.rsDecoder=new ut(Q.QR_CODE_FIELD_256)}decodeBooleanArray(e,t){return this.decodeBitMatrix(_e.parseFromBooleanArray(e),t)}decodeBitMatrix(e,t){const n=new Oc(e);let r=null;try{return this.decodeBitMatrixParser(n,t)}catch(o){r=o}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();const o=this.decodeBitMatrixParser(n,t);return o.setOther(new ho(!0)),o}catch(o){throw r!==null?r:o}}decodeBitMatrixParser(e,t){const n=e.readVersion(),r=e.readFormatInformation().getErrorCorrectionLevel(),o=e.readCodewords(),a=Gi.getDataBlocks(o,n,r);let u=0;for(const m of a)u+=m.getNumDataCodewords();const f=new Uint8Array(u);let g=0;for(const m of a){const E=m.getCodewords(),v=m.getNumDataCodewords();this.correctErrors(E,v);for(let I=0;I<v;I++)f[g++]=E[I]}return nt.decode(f,n,r,t)}correctErrors(e,t){const n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch{throw new B}for(let r=0;r<t;r++)e[r]=n[r]}}class Xi extends ue{constructor(e,t,n){super(e,t),this.estimatedModuleSize=n}aboutEquals(e,t,n){if(Math.abs(t-this.getY())<=e&&Math.abs(n-this.getX())<=e){const r=Math.abs(e-this.estimatedModuleSize);return r<=1||r<=this.estimatedModuleSize}return!1}combineEstimate(e,t,n){const r=(this.getX()+t)/2,o=(this.getY()+e)/2,a=(this.estimatedModuleSize+n)/2;return new Xi(r,o,a)}}class Pr{constructor(e,t,n,r,o,a,u){this.image=e,this.startX=t,this.startY=n,this.width=r,this.height=o,this.moduleSize=a,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,t=this.height,n=this.width,r=e+n,o=this.startY+t/2,a=new Int32Array(3),u=this.image;for(let f=0;f<t;f++){const g=o+(f&1?-Math.floor((f+1)/2):Math.floor((f+1)/2));a[0]=0,a[1]=0,a[2]=0;let m=e;for(;m<r&&!u.get(m,g);)m++;let E=0;for(;m<r;){if(u.get(m,g))if(E===1)a[1]++;else if(E===2){if(this.foundPatternCross(a)){const v=this.handlePossibleCenter(a,g,m);if(v!==null)return v}a[0]=a[2],a[1]=1,a[2]=0,E=1}else a[++E]++;else E===1&&E++,a[E]++;m++}if(this.foundPatternCross(a)){const v=this.handlePossibleCenter(a,g,r);if(v!==null)return v}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new U}static centerFromEnd(e,t){return t-e[2]-e[1]/2}foundPatternCross(e){const t=this.moduleSize,n=t/2;for(let r=0;r<3;r++)if(Math.abs(t-e[r])>=n)return!1;return!0}crossCheckVertical(e,t,n,r){const o=this.image,a=o.getHeight(),u=this.crossCheckStateCount;u[0]=0,u[1]=0,u[2]=0;let f=e;for(;f>=0&&o.get(t,f)&&u[1]<=n;)u[1]++,f--;if(f<0||u[1]>n)return NaN;for(;f>=0&&!o.get(t,f)&&u[0]<=n;)u[0]++,f--;if(u[0]>n)return NaN;for(f=e+1;f<a&&o.get(t,f)&&u[1]<=n;)u[1]++,f++;if(f===a||u[1]>n)return NaN;for(;f<a&&!o.get(t,f)&&u[2]<=n;)u[2]++,f++;if(u[2]>n)return NaN;const g=u[0]+u[1]+u[2];return 5*Math.abs(g-r)>=2*r?NaN:this.foundPatternCross(u)?Pr.centerFromEnd(u,f):NaN}handlePossibleCenter(e,t,n){const r=e[0]+e[1]+e[2],o=Pr.centerFromEnd(e,n),a=this.crossCheckVertical(t,o,2*e[1],r);if(!isNaN(a)){const u=(e[0]+e[1]+e[2])/3;for(const g of this.possibleCenters)if(g.aboutEquals(u,a,o))return g.combineEstimate(a,o,u);const f=new Xi(o,a,u);this.possibleCenters.push(f),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(f)}return null}}class zi extends ue{constructor(e,t,n,r){super(e,t),this.estimatedModuleSize=n,this.count=r,r===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,t,n){if(Math.abs(t-this.getY())<=e&&Math.abs(n-this.getX())<=e){const r=Math.abs(e-this.estimatedModuleSize);return r<=1||r<=this.estimatedModuleSize}return!1}combineEstimate(e,t,n){const r=this.count+1,o=(this.count*this.getX()+t)/r,a=(this.count*this.getY()+e)/r,u=(this.count*this.estimatedModuleSize+n)/r;return new zi(o,a,u,r)}}class Rc{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class wt{constructor(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const t=e!=null&&e.get($.TRY_HARDER)!==void 0,n=e!=null&&e.get($.PURE_BARCODE)!==void 0,r=this.image,o=r.getHeight(),a=r.getWidth();let u=Math.floor(3*o/(4*wt.MAX_MODULES));(u<wt.MIN_SKIP||t)&&(u=wt.MIN_SKIP);let f=!1;const g=new Int32Array(5);for(let E=u-1;E<o&&!f;E+=u){g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0;let v=0;for(let I=0;I<a;I++)if(r.get(I,E))(v&1)===1&&v++,g[v]++;else if(v&1)g[v]++;else if(v===4)if(wt.foundPatternCross(g)){if(this.handlePossibleCenter(g,E,I,n)===!0)if(u=2,this.hasSkipped===!0)f=this.haveMultiplyConfirmedCenters();else{const D=this.findRowSkip();D>g[2]&&(E+=D-g[2]-u,I=a-1)}else{g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,v=3;continue}v=0,g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0}else g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,v=3;else g[++v]++;wt.foundPatternCross(g)&&this.handlePossibleCenter(g,E,a,n)===!0&&(u=g[0],this.hasSkipped&&(f=this.haveMultiplyConfirmedCenters()))}const m=this.selectBestPatterns();return ue.orderBestPatterns(m),new Rc(m)}static centerFromEnd(e,t){return t-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let t=0;for(let o=0;o<5;o++){const a=e[o];if(a===0)return!1;t+=a}if(t<7)return!1;const n=t/7,r=n/2;return Math.abs(n-e[0])<r&&Math.abs(n-e[1])<r&&Math.abs(3*n-e[2])<3*r&&Math.abs(n-e[3])<r&&Math.abs(n-e[4])<r}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,t,n,r){const o=this.getCrossCheckStateCount();let a=0;const u=this.image;for(;e>=a&&t>=a&&u.get(t-a,e-a);)o[2]++,a++;if(e<a||t<a)return!1;for(;e>=a&&t>=a&&!u.get(t-a,e-a)&&o[1]<=n;)o[1]++,a++;if(e<a||t<a||o[1]>n)return!1;for(;e>=a&&t>=a&&u.get(t-a,e-a)&&o[0]<=n;)o[0]++,a++;if(o[0]>n)return!1;const f=u.getHeight(),g=u.getWidth();for(a=1;e+a<f&&t+a<g&&u.get(t+a,e+a);)o[2]++,a++;if(e+a>=f||t+a>=g)return!1;for(;e+a<f&&t+a<g&&!u.get(t+a,e+a)&&o[3]<n;)o[3]++,a++;if(e+a>=f||t+a>=g||o[3]>=n)return!1;for(;e+a<f&&t+a<g&&u.get(t+a,e+a)&&o[4]<n;)o[4]++,a++;if(o[4]>=n)return!1;const m=o[0]+o[1]+o[2]+o[3]+o[4];return Math.abs(m-r)<2*r&&wt.foundPatternCross(o)}crossCheckVertical(e,t,n,r){const o=this.image,a=o.getHeight(),u=this.getCrossCheckStateCount();let f=e;for(;f>=0&&o.get(t,f);)u[2]++,f--;if(f<0)return NaN;for(;f>=0&&!o.get(t,f)&&u[1]<=n;)u[1]++,f--;if(f<0||u[1]>n)return NaN;for(;f>=0&&o.get(t,f)&&u[0]<=n;)u[0]++,f--;if(u[0]>n)return NaN;for(f=e+1;f<a&&o.get(t,f);)u[2]++,f++;if(f===a)return NaN;for(;f<a&&!o.get(t,f)&&u[3]<n;)u[3]++,f++;if(f===a||u[3]>=n)return NaN;for(;f<a&&o.get(t,f)&&u[4]<n;)u[4]++,f++;if(u[4]>=n)return NaN;const g=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(g-r)>=2*r?NaN:wt.foundPatternCross(u)?wt.centerFromEnd(u,f):NaN}crossCheckHorizontal(e,t,n,r){const o=this.image,a=o.getWidth(),u=this.getCrossCheckStateCount();let f=e;for(;f>=0&&o.get(f,t);)u[2]++,f--;if(f<0)return NaN;for(;f>=0&&!o.get(f,t)&&u[1]<=n;)u[1]++,f--;if(f<0||u[1]>n)return NaN;for(;f>=0&&o.get(f,t)&&u[0]<=n;)u[0]++,f--;if(u[0]>n)return NaN;for(f=e+1;f<a&&o.get(f,t);)u[2]++,f++;if(f===a)return NaN;for(;f<a&&!o.get(f,t)&&u[3]<n;)u[3]++,f++;if(f===a||u[3]>=n)return NaN;for(;f<a&&o.get(f,t)&&u[4]<n;)u[4]++,f++;if(u[4]>=n)return NaN;const g=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(g-r)>=r?NaN:wt.foundPatternCross(u)?wt.centerFromEnd(u,f):NaN}handlePossibleCenter(e,t,n,r){const o=e[0]+e[1]+e[2]+e[3]+e[4];let a=wt.centerFromEnd(e,n),u=this.crossCheckVertical(t,Math.floor(a),e[2],o);if(!isNaN(u)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(u),e[2],o),!isNaN(a)&&(!r||this.crossCheckDiagonal(Math.floor(u),Math.floor(a),e[2],o)))){const f=o/7;let g=!1;const m=this.possibleCenters;for(let E=0,v=m.length;E<v;E++){const I=m[E];if(I.aboutEquals(f,u,a)){m[E]=I.combineEstimate(u,a,f),g=!0;break}}if(!g){const E=new zi(a,u,f);m.push(E),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(E)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let t=null;for(const n of this.possibleCenters)if(n.getCount()>=wt.CENTER_QUORUM)if(t==null)t=n;else return this.hasSkipped=!0,Math.floor((Math.abs(t.getX()-n.getX())-Math.abs(t.getY()-n.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,t=0;const n=this.possibleCenters.length;for(const a of this.possibleCenters)a.getCount()>=wt.CENTER_QUORUM&&(e++,t+=a.getEstimatedModuleSize());if(e<3)return!1;const r=t/n;let o=0;for(const a of this.possibleCenters)o+=Math.abs(a.getEstimatedModuleSize()-r);return o<=.05*t}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new U;const t=this.possibleCenters;let n;if(e>3){let r=0,o=0;for(const f of this.possibleCenters){const g=f.getEstimatedModuleSize();r+=g,o+=g*g}n=r/e;let a=Math.sqrt(o/e-n*n);t.sort((f,g)=>{const m=Math.abs(g.getEstimatedModuleSize()-n),E=Math.abs(f.getEstimatedModuleSize()-n);return m<E?-1:m>E?1:0});const u=Math.max(.2*n,a);for(let f=0;f<t.length&&t.length>3;f++){const g=t[f];Math.abs(g.getEstimatedModuleSize()-n)>u&&(t.splice(f,1),f--)}}if(t.length>3){let r=0;for(const o of t)r+=o.getEstimatedModuleSize();n=r/t.length,t.sort((o,a)=>{if(a.getCount()===o.getCount()){const u=Math.abs(a.getEstimatedModuleSize()-n),f=Math.abs(o.getEstimatedModuleSize()-n);return u<f?1:u>f?-1:0}else return a.getCount()-o.getCount()}),t.splice(3)}return[t[0],t[1],t[2]]}}wt.CENTER_QUORUM=2,wt.MIN_SKIP=3,wt.MAX_MODULES=57;class ir{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get($.NEED_RESULT_POINT_CALLBACK);const n=new wt(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(n)}processFinderPatternInfo(e){const t=e.getTopLeft(),n=e.getTopRight(),r=e.getBottomLeft(),o=this.calculateModuleSize(t,n,r);if(o<1)throw new U("No pattern found in proccess finder.");const a=ir.computeDimension(t,n,r,o),u=de.getProvisionalVersionForDimension(a),f=u.getDimensionForVersion()-7;let g=null;if(u.getAlignmentPatternCenters().length>0){const I=n.getX()-t.getX()+r.getX(),N=n.getY()-t.getY()+r.getY(),D=1-3/f,F=Math.floor(t.getX()+D*(I-t.getX())),W=Math.floor(t.getY()+D*(N-t.getY()));for(let te=4;te<=16;te<<=1)try{g=this.findAlignmentInRegion(o,F,W,te);break}catch(ne){if(!(ne instanceof U))throw ne}}const m=ir.createTransform(t,n,r,g,a),E=ir.sampleGrid(this.image,m,a);let v;return g===null?v=[r,t,n]:v=[r,t,n,g],new Or(E,v)}static createTransform(e,t,n,r,o){const a=o-3.5;let u,f,g,m;return r!==null?(u=r.getX(),f=r.getY(),g=a-3,m=g):(u=t.getX()-e.getX()+n.getX(),f=t.getY()-e.getY()+n.getY(),g=a,m=a),$t.quadrilateralToQuadrilateral(3.5,3.5,a,3.5,g,m,3.5,a,e.getX(),e.getY(),t.getX(),t.getY(),u,f,n.getX(),n.getY())}static sampleGrid(e,t,n){return En.getInstance().sampleGridWithTransform(e,n,n,t)}static computeDimension(e,t,n,r){const o=Ne.round(ue.distance(e,t)/r),a=Ne.round(ue.distance(e,n)/r);let u=Math.floor((o+a)/2)+7;switch(u&3){case 0:u++;break;case 2:u--;break;case 3:throw new U("Dimensions could be not found.")}return u}calculateModuleSize(e,t,n){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,n))/2}calculateModuleSizeOneWay(e,t){const n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?r/7:isNaN(r)?n/7:(n+r)/14}sizeOfBlackWhiteBlackRunBothWays(e,t,n,r){let o=this.sizeOfBlackWhiteBlackRun(e,t,n,r),a=1,u=e-(n-e);u<0?(a=e/(e-u),u=0):u>=this.image.getWidth()&&(a=(this.image.getWidth()-1-e)/(u-e),u=this.image.getWidth()-1);let f=Math.floor(t-(r-t)*a);return a=1,f<0?(a=t/(t-f),f=0):f>=this.image.getHeight()&&(a=(this.image.getHeight()-1-t)/(f-t),f=this.image.getHeight()-1),u=Math.floor(e+(u-e)*a),o+=this.sizeOfBlackWhiteBlackRun(e,t,u,f),o-1}sizeOfBlackWhiteBlackRun(e,t,n,r){const o=Math.abs(r-t)>Math.abs(n-e);if(o){let I=e;e=t,t=I,I=n,n=r,r=I}const a=Math.abs(n-e),u=Math.abs(r-t);let f=-a/2;const g=e<n?1:-1,m=t<r?1:-1;let E=0;const v=n+g;for(let I=e,N=t;I!==v;I+=g){const D=o?N:I,F=o?I:N;if(E===1===this.image.get(D,F)){if(E===2)return Ne.distance(I,N,e,t);E++}if(f+=u,f>0){if(N===r)break;N+=m,f-=a}}return E===2?Ne.distance(n+g,r,e,t):NaN}findAlignmentInRegion(e,t,n,r){const o=Math.floor(r*e),a=Math.max(0,t-o),u=Math.min(this.image.getWidth()-1,t+o);if(u-a<e*3)throw new U("Alignment top exceeds estimated module size.");const f=Math.max(0,n-o),g=Math.min(this.image.getHeight()-1,n+o);if(g-f<e*3)throw new U("Alignment bottom exceeds estimated module size.");return new Pr(this.image,a,f,u-a,g-f,e,this.resultPointCallback).find()}}class Sn{constructor(){this.decoder=new Nc}getDecoder(){return this.decoder}decode(e,t){let n,r;if(t!=null&&t.get($.PURE_BARCODE)!==void 0){const f=Sn.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(f,t),r=Sn.NO_POINTS}else{const f=new ir(e.getBlackMatrix()).detect(t);n=this.decoder.decodeBitMatrix(f.getBits(),t),r=f.getPoints()}n.getOther()instanceof ho&&n.getOther().applyMirroredCorrection(r);const o=new We(n.getText(),n.getRawBytes(),void 0,r,oe.QR_CODE,void 0),a=n.getByteSegments();a!==null&&o.putMetadata(Ue.BYTE_SEGMENTS,a);const u=n.getECLevel();return u!==null&&o.putMetadata(Ue.ERROR_CORRECTION_LEVEL,u),n.hasStructuredAppend()&&(o.putMetadata(Ue.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),o.putMetadata(Ue.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),o}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t===null||n===null)throw new U;const r=this.moduleSize(t,e);let o=t[1],a=n[1],u=t[0],f=n[0];if(u>=f||o>=a)throw new U;if(a-o!==f-u&&(f=u+(a-o),f>=e.getWidth()))throw new U;const g=Math.round((f-u+1)/r),m=Math.round((a-o+1)/r);if(g<=0||m<=0)throw new U;if(m!==g)throw new U;const E=Math.floor(r/2);o+=E,u+=E;const v=u+Math.floor((g-1)*r)-f;if(v>0){if(v>E)throw new U;u-=v}const I=o+Math.floor((m-1)*r)-a;if(I>0){if(I>E)throw new U;o-=I}const N=new _e(g,m);for(let D=0;D<m;D++){const F=o+Math.floor(D*r);for(let W=0;W<g;W++)e.get(u+Math.floor(W*r),F)&&N.set(W,D)}return N}static moduleSize(e,t){const n=t.getHeight(),r=t.getWidth();let o=e[0],a=e[1],u=!0,f=0;for(;o<r&&a<n;){if(u!==t.get(o,a)){if(++f===5)break;u=!u}o++,a++}if(o===r||a===n)throw new U;return(o-e[0])/7}}Sn.NO_POINTS=new Array;class be{PDF417Common(){}static getBitCountSum(e){return Ne.sum(e)}static toIntArray(e){if(e==null||!e.length)return be.EMPTY_INT_ARRAY;const t=new Int32Array(e.length);let n=0;for(const r of e)t[n++]=r;return t}static getCodeword(e){const t=j.binarySearch(be.SYMBOL_TABLE,e&262143);return t<0?-1:(be.CODEWORD_TABLE[t]-1)%be.NUMBER_OF_CODEWORDS}}be.NUMBER_OF_CODEWORDS=929,be.MAX_CODEWORDS_IN_BARCODE=be.NUMBER_OF_CODEWORDS-1,be.MIN_ROWS_IN_BARCODE=3,be.MAX_ROWS_IN_BARCODE=90,be.MODULES_IN_CODEWORD=17,be.MODULES_IN_STOP_PATTERN=18,be.BARS_IN_MODULE=8,be.EMPTY_INT_ARRAY=new Int32Array([]),be.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),be.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Mc{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class Ie{static detectMultiple(e,t,n){let r=e.getBlackMatrix(),o=Ie.detect(n,r);return o.length||(r=r.clone(),r.rotate180(),o=Ie.detect(n,r)),new Mc(r,o)}static detect(e,t){const n=new Array;let r=0,o=0,a=!1;for(;r<t.getHeight();){const u=Ie.findVertices(t,r,o);if(u[0]==null&&u[3]==null){if(!a)break;a=!1,o=0;for(const f of n)f[1]!=null&&(r=Math.trunc(Math.max(r,f[1].getY()))),f[3]!=null&&(r=Math.max(r,Math.trunc(f[3].getY())));r+=Ie.ROW_STEP;continue}if(a=!0,n.push(u),!e)break;u[2]!=null?(o=Math.trunc(u[2].getX()),r=Math.trunc(u[2].getY())):(o=Math.trunc(u[4].getX()),r=Math.trunc(u[4].getY()))}return n}static findVertices(e,t,n){const r=e.getHeight(),o=e.getWidth(),a=new Array(8);return Ie.copyToResult(a,Ie.findRowsWithPattern(e,r,o,t,n,Ie.START_PATTERN),Ie.INDEXES_START_PATTERN),a[4]!=null&&(n=Math.trunc(a[4].getX()),t=Math.trunc(a[4].getY())),Ie.copyToResult(a,Ie.findRowsWithPattern(e,r,o,t,n,Ie.STOP_PATTERN),Ie.INDEXES_STOP_PATTERN),a}static copyToResult(e,t,n){for(let r=0;r<n.length;r++)e[n[r]]=t[r]}static findRowsWithPattern(e,t,n,r,o,a){const u=new Array(4);let f=!1;const g=new Int32Array(a.length);for(;r<t;r+=Ie.ROW_STEP){let E=Ie.findGuardPattern(e,o,r,n,!1,a,g);if(E!=null){for(;r>0;){const v=Ie.findGuardPattern(e,o,--r,n,!1,a,g);if(v!=null)E=v;else{r++;break}}u[0]=new ue(E[0],r),u[1]=new ue(E[1],r),f=!0;break}}let m=r+1;if(f){let E=0,v=Int32Array.from([Math.trunc(u[0].getX()),Math.trunc(u[1].getX())]);for(;m<t;m++){const I=Ie.findGuardPattern(e,v[0],m,n,!1,a,g);if(I!=null&&Math.abs(v[0]-I[0])<Ie.MAX_PATTERN_DRIFT&&Math.abs(v[1]-I[1])<Ie.MAX_PATTERN_DRIFT)v=I,E=0;else{if(E>Ie.SKIPPED_ROW_COUNT_MAX)break;E++}}m-=E+1,u[2]=new ue(v[0],m),u[3]=new ue(v[1],m)}return m-r<Ie.BARCODE_MIN_HEIGHT&&j.fill(u,null),u}static findGuardPattern(e,t,n,r,o,a,u){j.fillWithin(u,0,u.length,0);let f=t,g=0;for(;e.get(f,n)&&f>0&&g++<Ie.MAX_PIXEL_DRIFT;)f--;let m=f,E=0,v=a.length;for(let I=o;m<r;m++)if(e.get(m,n)!==I)u[E]++;else{if(E===v-1){if(Ie.patternMatchVariance(u,a,Ie.MAX_INDIVIDUAL_VARIANCE)<Ie.MAX_AVG_VARIANCE)return new Int32Array([f,m]);f+=u[0]+u[1],T.arraycopy(u,2,u,0,E-1),u[E-1]=0,u[E]=0,E--}else E++;u[E]=1,I=!I}return E===v-1&&Ie.patternMatchVariance(u,a,Ie.MAX_INDIVIDUAL_VARIANCE)<Ie.MAX_AVG_VARIANCE?new Int32Array([f,m-1]):null}static patternMatchVariance(e,t,n){let r=e.length,o=0,a=0;for(let g=0;g<r;g++)o+=e[g],a+=t[g];if(o<a)return 1/0;let u=o/a;n*=u;let f=0;for(let g=0;g<r;g++){let m=e[g],E=t[g]*u,v=m>E?m-E:E-m;if(v>n)return 1/0;f+=v}return f/o}}Ie.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ie.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ie.MAX_AVG_VARIANCE=.42,Ie.MAX_INDIVIDUAL_VARIANCE=.8,Ie.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ie.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ie.MAX_PIXEL_DRIFT=3,Ie.MAX_PATTERN_DRIFT=5,Ie.SKIPPED_ROW_COUNT_MAX=25,Ie.ROW_STEP=5,Ie.BARCODE_MIN_HEIGHT=10;class Ct{constructor(e,t){if(t.length===0)throw new y;this.field=e;let n=t.length;if(n>1&&t[0]===0){let r=1;for(;r<n&&t[r]===0;)r++;r===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-r),T.arraycopy(t,r,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let r=0;for(let o of this.coefficients)r=this.field.add(r,o);return r}let t=this.coefficients[0],n=this.coefficients.length;for(let r=1;r<n;r++)t=this.field.add(this.field.multiply(e,t),this.coefficients[r]);return t}add(e){if(!this.field.equals(e.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,n=e.coefficients;if(t.length>n.length){let a=t;t=n,n=a}let r=new Int32Array(n.length),o=n.length-t.length;T.arraycopy(n,0,r,0,o);for(let a=o;a<n.length;a++)r[a]=this.field.add(t[a-o],n[a]);return new Ct(this.field,r)}subtract(e){if(!this.field.equals(e.field))throw new y("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof Ct?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new Ct(this.field,new Int32Array([0]));let t=this.coefficients,n=t.length,r=e.coefficients,o=r.length,a=new Int32Array(n+o-1);for(let u=0;u<n;u++){let f=t[u];for(let g=0;g<o;g++)a[u+g]=this.field.add(a[u+g],this.field.multiply(f,r[g]))}return new Ct(this.field,a)}negative(){let e=this.coefficients.length,t=new Int32Array(e);for(let n=0;n<e;n++)t[n]=this.field.subtract(0,this.coefficients[n]);return new Ct(this.field,t)}multiplyScalar(e){if(e===0)return new Ct(this.field,new Int32Array([0]));if(e===1)return this;let t=this.coefficients.length,n=new Int32Array(t);for(let r=0;r<t;r++)n[r]=this.field.multiply(this.coefficients[r],e);return new Ct(this.field,n)}multiplyByMonomial(e,t){if(e<0)throw new y;if(t===0)return new Ct(this.field,new Int32Array([0]));let n=this.coefficients.length,r=new Int32Array(n+e);for(let o=0;o<n;o++)r[o]=this.field.multiply(this.coefficients[o],t);return new Ct(this.field,r)}toString(){let e=new Ee;for(let t=this.getDegree();t>=0;t--){let n=this.getCoefficient(t);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(t===0||n!==1)&&e.append(n),t!==0&&(t===1?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()}}class Dc{add(e,t){return(e+t)%this.modulus}subtract(e,t){return(this.modulus+e-t)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new y;return this.logTable[e]}inverse(e){if(e===0)throw new re;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class Yi extends Dc{constructor(e,t){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let n=1;for(let r=0;r<e;r++)this.expTable[r]=n,n=n*t%e;for(let r=0;r<e-1;r++)this.logTable[this.expTable[r]]=r;this.zero=new Ct(this,new Int32Array([0])),this.one=new Ct(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new y;if(t===0)return this.zero;let n=new Int32Array(e+1);return n[0]=t,new Ct(this,n)}}Yi.PDF417_GF=new Yi(be.NUMBER_OF_CODEWORDS,3);class go{constructor(){this.field=Yi.PDF417_GF}decode(e,t,n){let r=new Ct(this.field,e),o=new Int32Array(t),a=!1;for(let N=t;N>0;N--){let D=r.evaluateAt(this.field.exp(N));o[t-N]=D,D!==0&&(a=!0)}if(!a)return 0;let u=this.field.getOne();if(n!=null)for(const N of n){let D=this.field.exp(e.length-1-N),F=new Ct(this.field,new Int32Array([this.field.subtract(0,D),1]));u=u.multiply(F)}let f=new Ct(this.field,o),g=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),f,t),m=g[0],E=g[1],v=this.findErrorLocations(m),I=this.findErrorMagnitudes(E,m,v);for(let N=0;N<v.length;N++){let D=e.length-1-this.field.log(v[N]);if(D<0)throw B.getChecksumInstance();e[D]=this.field.subtract(e[D],I[N])}return v.length}runEuclideanAlgorithm(e,t,n){if(e.getDegree()<t.getDegree()){let v=e;e=t,t=v}let r=e,o=t,a=this.field.getZero(),u=this.field.getOne();for(;o.getDegree()>=Math.round(n/2);){let v=r,I=a;if(r=o,a=u,r.isZero())throw B.getChecksumInstance();o=v;let N=this.field.getZero(),D=r.getCoefficient(r.getDegree()),F=this.field.inverse(D);for(;o.getDegree()>=r.getDegree()&&!o.isZero();){let W=o.getDegree()-r.getDegree(),te=this.field.multiply(o.getCoefficient(o.getDegree()),F);N=N.add(this.field.buildMonomial(W,te)),o=o.subtract(r.multiplyByMonomial(W,te))}u=N.multiply(a).subtract(I).negative()}let f=u.getCoefficient(0);if(f===0)throw B.getChecksumInstance();let g=this.field.inverse(f),m=u.multiply(g),E=o.multiply(g);return[m,E]}findErrorLocations(e){let t=e.getDegree(),n=new Int32Array(t),r=0;for(let o=1;o<this.field.getSize()&&r<t;o++)e.evaluateAt(o)===0&&(n[r]=this.field.inverse(o),r++);if(r!==t)throw B.getChecksumInstance();return n}findErrorMagnitudes(e,t,n){let r=t.getDegree(),o=new Int32Array(r);for(let g=1;g<=r;g++)o[r-g]=this.field.multiply(g,t.getCoefficient(g));let a=new Ct(this.field,o),u=n.length,f=new Int32Array(u);for(let g=0;g<u;g++){let m=this.field.inverse(n[g]),E=this.field.subtract(0,e.evaluateAt(m)),v=this.field.inverse(a.evaluateAt(m));f[g]=this.field.multiply(E,v)}return f}}class Mn{constructor(e,t,n,r,o){e instanceof Mn?this.constructor_2(e):this.constructor_1(e,t,n,r,o)}constructor_1(e,t,n,r,o){const a=t==null||n==null,u=r==null||o==null;if(a&&u)throw new U;a?(t=new ue(0,r.getY()),n=new ue(0,o.getY())):u&&(r=new ue(e.getWidth()-1,t.getY()),o=new ue(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=t,this.bottomLeft=n,this.topRight=r,this.bottomRight=o,this.minX=Math.trunc(Math.min(t.getX(),n.getX())),this.maxX=Math.trunc(Math.max(r.getX(),o.getX())),this.minY=Math.trunc(Math.min(t.getY(),r.getY())),this.maxY=Math.trunc(Math.max(n.getY(),o.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,t){return e==null?t:t==null?e:new Mn(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)}addMissingRows(e,t,n){let r=this.topLeft,o=this.bottomLeft,a=this.topRight,u=this.bottomRight;if(e>0){let f=n?this.topLeft:this.topRight,g=Math.trunc(f.getY()-e);g<0&&(g=0);let m=new ue(f.getX(),g);n?r=m:a=m}if(t>0){let f=n?this.bottomLeft:this.bottomRight,g=Math.trunc(f.getY()+t);g>=this.image.getHeight()&&(g=this.image.getHeight()-1);let m=new ue(f.getX(),g);n?o=m:u=m}return new Mn(this.image,r,o,a,u)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Pc{constructor(e,t,n,r){this.columnCount=e,this.errorCorrectionLevel=r,this.rowCountUpperPart=t,this.rowCountLowerPart=n,this.rowCount=t+n}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class sr{constructor(){this.buffer=""}static form(e,t){let n=-1;function r(a,u,f,g,m,E){if(a==="%%")return"%";if(t[++n]===void 0)return;a=g?parseInt(g.substr(1)):void 0;let v=m?parseInt(m.substr(1)):void 0,I;switch(E){case"s":I=t[n];break;case"c":I=t[n][0];break;case"f":I=parseFloat(t[n]).toFixed(a);break;case"p":I=parseFloat(t[n]).toPrecision(a);break;case"e":I=parseFloat(t[n]).toExponential(a);break;case"x":I=parseInt(t[n]).toString(v||16);break;case"d":I=parseFloat(parseInt(t[n],v||10).toPrecision(a)).toFixed(0);break}I=typeof I=="object"?JSON.stringify(I):(+I).toString(v);let N=parseInt(f),D=f&&f[0]+""=="0"?"0":" ";for(;I.length<N;)I=u!==void 0?I+D:D+I;return I}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,r)}format(e,...t){this.buffer+=sr.form(e,t)}toString(){return this.buffer}}class or{constructor(e){this.boundingBox=new Mn(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let t=this.getCodeword(e);if(t!=null)return t;for(let n=1;n<or.MAX_NEARBY_DISTANCE;n++){let r=this.imageRowToCodewordIndex(e)-n;if(r>=0&&(t=this.codewords[r],t!=null)||(r=this.imageRowToCodewordIndex(e)+n,r<this.codewords.length&&(t=this.codewords[r],t!=null)))return t}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new sr;let t=0;for(const n of this.codewords){if(n==null){e.format("%3d:    |   %n",t++);continue}e.format("%3d: %3d|%3d%n",t++,n.getRowNumber(),n.getValue())}return e.toString()}}or.MAX_NEARBY_DISTANCE=5;class ar{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let t=this.values.get(e);t==null&&(t=0),t++,this.values.set(e,t)}getValue(){let e=-1,t=new Array;for(const[n,r]of this.values.entries()){const o={getKey:()=>n,getValue:()=>r};o.getValue()>e?(e=o.getValue(),t=[],t.push(o.getKey())):o.getValue()===e&&t.push(o.getKey())}return be.toIntArray(t)}getConfidence(e){return this.values.get(e)}}class xo extends or{constructor(e,t){super(e),this._isLeft=t}setRowNumbers(){for(let e of this.getCodewords())e!=null&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let t=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(t,e);let n=this.getBoundingBox(),r=this._isLeft?n.getTopLeft():n.getTopRight(),o=this._isLeft?n.getBottomLeft():n.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(r.getY())),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=-1,g=1,m=0;for(let E=a;E<u;E++){if(t[E]==null)continue;let v=t[E],I=v.getRowNumber()-f;if(I===0)m++;else if(I===1)g=Math.max(g,m),m=1,f=v.getRowNumber();else if(I<0||v.getRowNumber()>=e.getRowCount()||I>E)t[E]=null;else{let N;g>2?N=(g-2)*I:N=I;let D=N>=E;for(let F=1;F<=N&&!D;F++)D=t[E-F]!=null;D?t[E]=null:(f=v.getRowNumber(),m=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let t=new Int32Array(e.getRowCount());for(let n of this.getCodewords())if(n!=null){let r=n.getRowNumber();if(r>=t.length)continue;t[r]++}return t}adjustIncompleteIndicatorColumnRowNumbers(e){let t=this.getBoundingBox(),n=this._isLeft?t.getTopLeft():t.getTopRight(),r=this._isLeft?t.getBottomLeft():t.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(n.getY())),a=this.imageRowToCodewordIndex(Math.trunc(r.getY())),u=this.getCodewords(),f=-1;for(let g=o;g<a;g++){if(u[g]==null)continue;let m=u[g];m.setRowNumberAsRowIndicatorColumn();let E=m.getRowNumber()-f;E===0||(E===1?f=m.getRowNumber():m.getRowNumber()>=e.getRowCount()?u[g]=null:f=m.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),t=new ar,n=new ar,r=new ar,o=new ar;for(let u of e){if(u==null)continue;u.setRowNumberAsRowIndicatorColumn();let f=u.getValue()%30,g=u.getRowNumber();switch(this._isLeft||(g+=2),g%3){case 0:n.setValue(f*3+1);break;case 1:o.setValue(f/3),r.setValue(f%3);break;case 2:t.setValue(f+1);break}}if(t.getValue().length===0||n.getValue().length===0||r.getValue().length===0||o.getValue().length===0||t.getValue()[0]<1||n.getValue()[0]+r.getValue()[0]<be.MIN_ROWS_IN_BARCODE||n.getValue()[0]+r.getValue()[0]>be.MAX_ROWS_IN_BARCODE)return null;let a=new Pc(t.getValue()[0],n.getValue()[0],r.getValue()[0],o.getValue()[0]);return this.removeIncorrectCodewords(e,a),a}removeIncorrectCodewords(e,t){for(let n=0;n<e.length;n++){let r=e[n];if(e[n]==null)continue;let o=r.getValue()%30,a=r.getRowNumber();if(a>t.getRowCount()){e[n]=null;continue}switch(this._isLeft||(a+=2),a%3){case 0:o*3+1!==t.getRowCountUpperPart()&&(e[n]=null);break;case 1:(Math.trunc(o/3)!==t.getErrorCorrectionLevel()||o%3!==t.getRowCountLowerPart())&&(e[n]=null);break;case 2:o+1!==t.getColumnCount()&&(e[n]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class lr{constructor(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=be.MAX_CODEWORDS_IN_BARCODE,t;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let t=1;t<this.barcodeColumnCount+1;t++){let n=this.detectionResultColumns[t].getCodewords();for(let r=0;r<n.length;r++)n[r]!=null&&(n[r].hasValidRowNumber()||this.adjustRowNumbers(t,r,n))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let n=0;n<e.length;n++)if(e[n]!=null&&t[n]!=null&&e[n].getRowNumber()===t[n].getRowNumber())for(let r=1;r<=this.barcodeColumnCount;r++){let o=this.detectionResultColumns[r].getCodewords()[n];o!=null&&(o.setRowNumber(e[n].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[r].getCodewords()[n]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let n=0;n<t.length;n++){if(t[n]==null)continue;let r=t[n].getRowNumber(),o=0;for(let a=this.barcodeColumnCount+1;a>0&&o<this.ADJUST_ROW_NUMBER_SKIP;a--){let u=this.detectionResultColumns[a].getCodewords()[n];u!=null&&(o=lr.adjustRowNumberIfValid(r,o,u),u.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,t=this.detectionResultColumns[0].getCodewords();for(let n=0;n<t.length;n++){if(t[n]==null)continue;let r=t[n].getRowNumber(),o=0;for(let a=1;a<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;a++){let u=this.detectionResultColumns[a].getCodewords()[n];u!=null&&(o=lr.adjustRowNumberIfValid(r,o,u),u.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,t,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),t=0):++t),t}adjustRowNumbers(e,t,n){if(!this.detectionResultColumns[e-1])return;let r=n[t],o=this.detectionResultColumns[e-1].getCodewords(),a=o;this.detectionResultColumns[e+1]!=null&&(a=this.detectionResultColumns[e+1].getCodewords());let u=new Array(14);u[2]=o[t],u[3]=a[t],t>0&&(u[0]=n[t-1],u[4]=o[t-1],u[5]=a[t-1]),t>1&&(u[8]=n[t-2],u[10]=o[t-2],u[11]=a[t-2]),t<n.length-1&&(u[1]=n[t+1],u[6]=o[t+1],u[7]=a[t+1]),t<n.length-2&&(u[9]=n[t+2],u[12]=o[t+2],u[13]=a[t+2]);for(let f of u)if(lr.adjustRowNumber(r,f))return}static adjustRowNumber(e,t){return t==null?!1:t.hasValidRowNumber()&&t.getBucket()===e.getBucket()?(e.setRowNumber(t.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,t){this.detectionResultColumns[e]=t}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let t=new sr;for(let n=0;n<e.getCodewords().length;n++){t.format("CW %3d:",n);for(let r=0;r<this.barcodeColumnCount+2;r++){if(this.detectionResultColumns[r]==null){t.format("    |   ");continue}let o=this.detectionResultColumns[r].getCodewords()[n];if(o==null){t.format("    |   ");continue}t.format(" %3d|%3d",o.getRowNumber(),o.getValue())}t.format("%n")}return t.toString()}}class cr{constructor(e,t,n,r){this.rowNumber=cr.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(n),this.value=Math.trunc(r)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==cr.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}cr.BARCODE_ROW_UNKNOWN=-1;class Dt{static initialize(){for(let e=0;e<be.SYMBOL_TABLE.length;e++){let t=be.SYMBOL_TABLE[e],n=t&1;for(let r=0;r<be.BARS_IN_MODULE;r++){let o=0;for(;(t&1)===n;)o+=1,t>>=1;n=t&1,Dt.RATIOS_TABLE[e]||(Dt.RATIOS_TABLE[e]=new Array(be.BARS_IN_MODULE)),Dt.RATIOS_TABLE[e][be.BARS_IN_MODULE-r-1]=Math.fround(o/be.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let t=Dt.getDecodedCodewordValue(Dt.sampleBitCounts(e));return t!==-1?t:Dt.getClosestDecodedValue(e)}static sampleBitCounts(e){let t=Ne.sum(e),n=new Int32Array(be.BARS_IN_MODULE),r=0,o=0;for(let a=0;a<be.MODULES_IN_CODEWORD;a++){let u=t/(2*be.MODULES_IN_CODEWORD)+a*t/be.MODULES_IN_CODEWORD;o+e[r]<=u&&(o+=e[r],r++),n[r]++}return n}static getDecodedCodewordValue(e){let t=Dt.getBitValue(e);return be.getCodeword(t)===-1?-1:t}static getBitValue(e){let t=0;for(let n=0;n<e.length;n++)for(let r=0;r<e[n];r++)t=t<<1|(n%2===0?1:0);return Math.trunc(t)}static getClosestDecodedValue(e){let t=Ne.sum(e),n=new Array(be.BARS_IN_MODULE);if(t>1)for(let a=0;a<n.length;a++)n[a]=Math.fround(e[a]/t);let r=Xt.MAX_VALUE,o=-1;this.bSymbolTableReady||Dt.initialize();for(let a=0;a<Dt.RATIOS_TABLE.length;a++){let u=0,f=Dt.RATIOS_TABLE[a];for(let g=0;g<be.BARS_IN_MODULE;g++){let m=Math.fround(f[g]-n[g]);if(u+=Math.fround(m*m),u>=r)break}u<r&&(r=u,o=be.SYMBOL_TABLE[a])}return o}}Dt.bSymbolTableReady=!1,Dt.RATIOS_TABLE=new Array(be.SYMBOL_TABLE.length).map(C=>new Array(be.BARS_IN_MODULE));class po{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class mo{static parseLong(e,t=void 0){return parseInt(e,t)}}class wo extends p{}wo.kind="NullPointerException";class Bc{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,t,n){if(e==null)throw new wo;if(t<0||t>e.length||n<0||t+n>e.length||t+n<0)throw new M;if(n===0)return;for(let r=0;r<n;r++)this.write(e[t+r])}flush(){}close(){}}class Lc extends p{}class kc extends Bc{constructor(e=32){if(super(),this.count=0,e<0)throw new y("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let n=this.buf.length<<1;if(n-e<0&&(n=e),n<0){if(e<0)throw new Lc;n=G.MAX_VALUE}this.buf=j.copyOfUint8Array(this.buf,n)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,t,n){if(t<0||t>e.length||n<0||t+n-e.length>0)throw new M;this.ensureCapacity(this.count+n),T.arraycopy(e,t,this.buf,this.count,n),this.count+=n}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return j.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var ze;(function(C){C[C.ALPHA=0]="ALPHA",C[C.LOWER=1]="LOWER",C[C.MIXED=2]="MIXED",C[C.PUNCT=3]="PUNCT",C[C.ALPHA_SHIFT=4]="ALPHA_SHIFT",C[C.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ze||(ze={}));function bo(){if(typeof window<"u")return window.BigInt||null;if(typeof fr<"u")return fr.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Br;function In(C){if(typeof Br>"u"&&(Br=bo()),Br===null)throw new Error("BigInt is not supported!");return Br(C)}function Fc(){let C=[];C[0]=In(1);let e=In(900);C[1]=e;for(let t=2;t<16;t++)C[t]=C[t-1]*e;return C}class H{static decode(e,t){let n=new Ee(""),r=z.ISO8859_1;n.enableDecoding(r);let o=1,a=e[o++],u=new po;for(;o<e[0];){switch(a){case H.TEXT_COMPACTION_MODE_LATCH:o=H.textCompaction(e,o,n);break;case H.BYTE_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:o=H.byteCompaction(a,e,r,o,n);break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[o++]);break;case H.NUMERIC_COMPACTION_MODE_LATCH:o=H.numericCompaction(e,o,n);break;case H.ECI_CHARSET:z.getCharacterSetECIByValue(e[o++]);break;case H.ECI_GENERAL_PURPOSE:o+=2;break;case H.ECI_USER_DEFINED:o++;break;case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=H.decodeMacroBlock(e,o,u);break;case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:throw new L;default:o--,o=H.textCompaction(e,o,n);break}if(o<e.length)a=e[o++];else throw L.getFormatInstance()}if(n.length()===0)throw L.getFormatInstance();let f=new Gt(null,n.toString(),null,t);return f.setOther(u),f}static decodeMacroBlock(e,t,n){if(t+H.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw L.getFormatInstance();let r=new Int32Array(H.NUMBER_OF_SEQUENCE_CODEWORDS);for(let u=0;u<H.NUMBER_OF_SEQUENCE_CODEWORDS;u++,t++)r[u]=e[t];n.setSegmentIndex(G.parseInt(H.decodeBase900toBase10(r,H.NUMBER_OF_SEQUENCE_CODEWORDS)));let o=new Ee;t=H.textCompaction(e,t,o),n.setFileId(o.toString());let a=-1;for(e[t]===H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(a=t+1);t<e[0];)switch(e[t]){case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t++,e[t]){case H.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let u=new Ee;t=H.textCompaction(e,t+1,u),n.setFileName(u.toString());break;case H.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let f=new Ee;t=H.textCompaction(e,t+1,f),n.setSender(f.toString());break;case H.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let g=new Ee;t=H.textCompaction(e,t+1,g),n.setAddressee(g.toString());break;case H.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let m=new Ee;t=H.numericCompaction(e,t+1,m),n.setSegmentCount(G.parseInt(m.toString()));break;case H.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let E=new Ee;t=H.numericCompaction(e,t+1,E),n.setTimestamp(mo.parseLong(E.toString()));break;case H.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let v=new Ee;t=H.numericCompaction(e,t+1,v),n.setChecksum(G.parseInt(v.toString()));break;case H.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let I=new Ee;t=H.numericCompaction(e,t+1,I),n.setFileSize(mo.parseLong(I.toString()));break;default:throw L.getFormatInstance()}break;case H.MACRO_PDF417_TERMINATOR:t++,n.setLastSegment(!0);break;default:throw L.getFormatInstance()}if(a!==-1){let u=t-a;n.isLastSegment()&&u--,n.setOptionalData(j.copyOfRange(e,a,a+u))}return t}static textCompaction(e,t,n){let r=new Int32Array((e[0]-t)*2),o=new Int32Array((e[0]-t)*2),a=0,u=!1;for(;t<e[0]&&!u;){let f=e[t++];if(f<H.TEXT_COMPACTION_MODE_LATCH)r[a]=f/30,r[a+1]=f%30,a+=2;else switch(f){case H.TEXT_COMPACTION_MODE_LATCH:r[a++]=H.TEXT_COMPACTION_MODE_LATCH;break;case H.BYTE_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:case H.NUMERIC_COMPACTION_MODE_LATCH:case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:t--,u=!0;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r[a]=H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,f=e[t++],o[a]=f,a++;break}}return H.decodeTextCompaction(r,o,a,n),t}static decodeTextCompaction(e,t,n,r){let o=ze.ALPHA,a=ze.ALPHA,u=0;for(;u<n;){let f=e[u],g="";switch(o){case ze.ALPHA:if(f<26)g=String.fromCharCode(65+f);else switch(f){case 26:g=" ";break;case H.LL:o=ze.LOWER;break;case H.ML:o=ze.MIXED;break;case H.PS:a=o,o=ze.PUNCT_SHIFT;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[u]);break;case H.TEXT_COMPACTION_MODE_LATCH:o=ze.ALPHA;break}break;case ze.LOWER:if(f<26)g=String.fromCharCode(97+f);else switch(f){case 26:g=" ";break;case H.AS:a=o,o=ze.ALPHA_SHIFT;break;case H.ML:o=ze.MIXED;break;case H.PS:a=o,o=ze.PUNCT_SHIFT;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[u]);break;case H.TEXT_COMPACTION_MODE_LATCH:o=ze.ALPHA;break}break;case ze.MIXED:if(f<H.PL)g=H.MIXED_CHARS[f];else switch(f){case H.PL:o=ze.PUNCT;break;case 26:g=" ";break;case H.LL:o=ze.LOWER;break;case H.AL:o=ze.ALPHA;break;case H.PS:a=o,o=ze.PUNCT_SHIFT;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[u]);break;case H.TEXT_COMPACTION_MODE_LATCH:o=ze.ALPHA;break}break;case ze.PUNCT:if(f<H.PAL)g=H.PUNCT_CHARS[f];else switch(f){case H.PAL:o=ze.ALPHA;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[u]);break;case H.TEXT_COMPACTION_MODE_LATCH:o=ze.ALPHA;break}break;case ze.ALPHA_SHIFT:if(o=a,f<26)g=String.fromCharCode(65+f);else switch(f){case 26:g=" ";break;case H.TEXT_COMPACTION_MODE_LATCH:o=ze.ALPHA;break}break;case ze.PUNCT_SHIFT:if(o=a,f<H.PAL)g=H.PUNCT_CHARS[f];else switch(f){case H.PAL:o=ze.ALPHA;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[u]);break;case H.TEXT_COMPACTION_MODE_LATCH:o=ze.ALPHA;break}break}g!==""&&r.append(g),u++}}static byteCompaction(e,t,n,r,o){let a=new kc,u=0,f=0,g=!1;switch(e){case H.BYTE_COMPACTION_MODE_LATCH:let m=new Int32Array(6),E=t[r++];for(;r<t[0]&&!g;)switch(m[u++]=E,f=900*f+E,E=t[r++],E){case H.TEXT_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH:case H.NUMERIC_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:r--,g=!0;break;default:if(u%5===0&&u>0){for(let v=0;v<6;++v)a.write(Number(In(f)>>In(8*(5-v))));f=0,u=0}break}r===t[0]&&E<H.TEXT_COMPACTION_MODE_LATCH&&(m[u++]=E);for(let v=0;v<u;v++)a.write(m[v]);break;case H.BYTE_COMPACTION_MODE_LATCH_6:for(;r<t[0]&&!g;){let v=t[r++];if(v<H.TEXT_COMPACTION_MODE_LATCH)u++,f=900*f+v;else switch(v){case H.TEXT_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH:case H.NUMERIC_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:r--,g=!0;break}if(u%5===0&&u>0){for(let I=0;I<6;++I)a.write(Number(In(f)>>In(8*(5-I))));f=0,u=0}}break}return o.append(ye.decode(a.toByteArray(),n)),r}static numericCompaction(e,t,n){let r=0,o=!1,a=new Int32Array(H.MAX_NUMERIC_CODEWORDS);for(;t<e[0]&&!o;){let u=e[t++];if(t===e[0]&&(o=!0),u<H.TEXT_COMPACTION_MODE_LATCH)a[r]=u,r++;else switch(u){case H.TEXT_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:t--,o=!0;break}(r%H.MAX_NUMERIC_CODEWORDS===0||u===H.NUMERIC_COMPACTION_MODE_LATCH||o)&&r>0&&(n.append(H.decodeBase900toBase10(a,r)),r=0)}return t}static decodeBase900toBase10(e,t){let n=In(0);for(let o=0;o<t;o++)n+=H.EXP900[t-o-1]*In(e[o]);let r=n.toString();if(r.charAt(0)!=="1")throw new L;return r.substring(1)}}H.TEXT_COMPACTION_MODE_LATCH=900,H.BYTE_COMPACTION_MODE_LATCH=901,H.NUMERIC_COMPACTION_MODE_LATCH=902,H.BYTE_COMPACTION_MODE_LATCH_6=924,H.ECI_USER_DEFINED=925,H.ECI_GENERAL_PURPOSE=926,H.ECI_CHARSET=927,H.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,H.MACRO_PDF417_TERMINATOR=922,H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,H.MAX_NUMERIC_CODEWORDS=15,H.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,H.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,H.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,H.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,H.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,H.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,H.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,H.PL=25,H.LL=27,H.AS=27,H.ML=28,H.AL=28,H.PS=29,H.PAL=29,H.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,H.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",H.EXP900=bo()?Fc():[],H.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Oe{constructor(){}static decode(e,t,n,r,o,a,u){let f=new Mn(e,t,n,r,o),g=null,m=null,E;for(let N=!0;;N=!1){if(t!=null&&(g=Oe.getRowIndicatorColumn(e,f,t,!0,a,u)),r!=null&&(m=Oe.getRowIndicatorColumn(e,f,r,!1,a,u)),E=Oe.merge(g,m),E==null)throw U.getNotFoundInstance();let D=E.getBoundingBox();if(N&&D!=null&&(D.getMinY()<f.getMinY()||D.getMaxY()>f.getMaxY()))f=D;else break}E.setBoundingBox(f);let v=E.getBarcodeColumnCount()+1;E.setDetectionResultColumn(0,g),E.setDetectionResultColumn(v,m);let I=g!=null;for(let N=1;N<=v;N++){let D=I?N:v-N;if(E.getDetectionResultColumn(D)!==void 0)continue;let F;D===0||D===v?F=new xo(f,D===0):F=new or(f),E.setDetectionResultColumn(D,F);let W=-1,te=W;for(let ne=f.getMinY();ne<=f.getMaxY();ne++){if(W=Oe.getStartColumn(E,D,ne,I),W<0||W>f.getMaxX()){if(te===-1)continue;W=te}let Z=Oe.detectCodeword(e,f.getMinX(),f.getMaxX(),I,W,ne,a,u);Z!=null&&(F.setCodeword(ne,Z),te=W,a=Math.min(a,Z.getWidth()),u=Math.max(u,Z.getWidth()))}}return Oe.createDecoderResult(E)}static merge(e,t){if(e==null&&t==null)return null;let n=Oe.getBarcodeMetadata(e,t);if(n==null)return null;let r=Mn.merge(Oe.adjustBoundingBox(e),Oe.adjustBoundingBox(t));return new lr(n,r)}static adjustBoundingBox(e){if(e==null)return null;let t=e.getRowHeights();if(t==null)return null;let n=Oe.getMax(t),r=0;for(let u of t)if(r+=n-u,u>0)break;let o=e.getCodewords();for(let u=0;r>0&&o[u]==null;u++)r--;let a=0;for(let u=t.length-1;u>=0&&(a+=n-t[u],!(t[u]>0));u--);for(let u=o.length-1;a>0&&o[u]==null;u--)a--;return e.getBoundingBox().addMissingRows(r,a,e.isLeft())}static getMax(e){let t=-1;for(let n of e)t=Math.max(t,n);return t}static getBarcodeMetadata(e,t){let n;if(e==null||(n=e.getBarcodeMetadata())==null)return t==null?null:t.getBarcodeMetadata();let r;return t==null||(r=t.getBarcodeMetadata())==null?n:n.getColumnCount()!==r.getColumnCount()&&n.getErrorCorrectionLevel()!==r.getErrorCorrectionLevel()&&n.getRowCount()!==r.getRowCount()?null:n}static getRowIndicatorColumn(e,t,n,r,o,a){let u=new xo(t,r);for(let f=0;f<2;f++){let g=f===0?1:-1,m=Math.trunc(Math.trunc(n.getX()));for(let E=Math.trunc(Math.trunc(n.getY()));E<=t.getMaxY()&&E>=t.getMinY();E+=g){let v=Oe.detectCodeword(e,0,e.getWidth(),r,m,E,o,a);v!=null&&(u.setCodeword(E,v),r?m=v.getStartX():m=v.getEndX())}}return u}static adjustCodewordCount(e,t){let n=t[0][1],r=n.getValue(),o=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-Oe.getNumberOfECCodeWords(e.getBarcodeECLevel());if(r.length===0){if(o<1||o>be.MAX_CODEWORDS_IN_BARCODE)throw U.getNotFoundInstance();n.setValue(o)}else r[0]!==o&&n.setValue(o)}static createDecoderResult(e){let t=Oe.createBarcodeMatrix(e);Oe.adjustCodewordCount(e,t);let n=new Array,r=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),o=[],a=new Array;for(let f=0;f<e.getBarcodeRowCount();f++)for(let g=0;g<e.getBarcodeColumnCount();g++){let m=t[f][g+1].getValue(),E=f*e.getBarcodeColumnCount()+g;m.length===0?n.push(E):m.length===1?r[E]=m[0]:(a.push(E),o.push(m))}let u=new Array(o.length);for(let f=0;f<u.length;f++)u[f]=o[f];return Oe.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),r,be.toIntArray(n),be.toIntArray(a),u)}static createDecoderResultFromAmbiguousValues(e,t,n,r,o){let a=new Int32Array(r.length),u=100;for(;u-- >0;){for(let f=0;f<a.length;f++)t[r[f]]=o[f][a[f]];try{return Oe.decodeCodewords(t,e,n)}catch(f){if(!(f instanceof B))throw f}if(a.length===0)throw B.getChecksumInstance();for(let f=0;f<a.length;f++)if(a[f]<o[f].length-1){a[f]++;break}else if(a[f]=0,f===a.length-1)throw B.getChecksumInstance()}throw B.getChecksumInstance()}static createBarcodeMatrix(e){let t=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let r=0;r<t.length;r++)for(let o=0;o<t[r].length;o++)t[r][o]=new ar;let n=0;for(let r of e.getDetectionResultColumns()){if(r!=null){for(let o of r.getCodewords())if(o!=null){let a=o.getRowNumber();if(a>=0){if(a>=t.length)continue;t[a][n].setValue(o.getValue())}}}n++}return t}static isValidBarcodeColumn(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1}static getStartColumn(e,t,n,r){let o=r?1:-1,a=null;if(Oe.isValidBarcodeColumn(e,t-o)&&(a=e.getDetectionResultColumn(t-o).getCodeword(n)),a!=null)return r?a.getEndX():a.getStartX();if(a=e.getDetectionResultColumn(t).getCodewordNearby(n),a!=null)return r?a.getStartX():a.getEndX();if(Oe.isValidBarcodeColumn(e,t-o)&&(a=e.getDetectionResultColumn(t-o).getCodewordNearby(n)),a!=null)return r?a.getEndX():a.getStartX();let u=0;for(;Oe.isValidBarcodeColumn(e,t-o);){t-=o;for(let f of e.getDetectionResultColumn(t).getCodewords())if(f!=null)return(r?f.getEndX():f.getStartX())+o*u*(f.getEndX()-f.getStartX());u++}return r?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,t,n,r,o,a,u,f){o=Oe.adjustCodewordStartColumn(e,t,n,r,o,a);let g=Oe.getModuleBitCount(e,t,n,r,o,a);if(g==null)return null;let m,E=Ne.sum(g);if(r)m=o+E;else{for(let N=0;N<g.length/2;N++){let D=g[N];g[N]=g[g.length-1-N],g[g.length-1-N]=D}m=o,o=m-E}if(!Oe.checkCodewordSkew(E,u,f))return null;let v=Dt.getDecodedValue(g),I=be.getCodeword(v);return I===-1?null:new cr(o,m,Oe.getCodewordBucketNumber(v),I)}static getModuleBitCount(e,t,n,r,o,a){let u=o,f=new Int32Array(8),g=0,m=r?1:-1,E=r;for(;(r?u<n:u>=t)&&g<f.length;)e.get(u,a)===E?(f[g]++,u+=m):(g++,E=!E);return g===f.length||u===(r?n:t)&&g===f.length-1?f:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,t,n,r,o,a){let u=o,f=r?-1:1;for(let g=0;g<2;g++){for(;(r?u>=t:u<n)&&r===e.get(u,a);){if(Math.abs(o-u)>Oe.CODEWORD_SKEW_SIZE)return o;u+=f}f=-f,r=!r}return u}static checkCodewordSkew(e,t,n){return t-Oe.CODEWORD_SKEW_SIZE<=e&&e<=n+Oe.CODEWORD_SKEW_SIZE}static decodeCodewords(e,t,n){if(e.length===0)throw L.getFormatInstance();let r=1<<t+1,o=Oe.correctErrors(e,n,r);Oe.verifyCodewordCount(e,r);let a=H.decode(e,""+t);return a.setErrorsCorrected(o),a.setErasures(n.length),a}static correctErrors(e,t,n){if(t!=null&&t.length>n/2+Oe.MAX_ERRORS||n<0||n>Oe.MAX_EC_CODEWORDS)throw B.getChecksumInstance();return Oe.errorCorrection.decode(e,n,t)}static verifyCodewordCount(e,t){if(e.length<4)throw L.getFormatInstance();let n=e[0];if(n>e.length)throw L.getFormatInstance();if(n===0)if(t<e.length)e[0]=e.length-t;else throw L.getFormatInstance()}static getBitCountForCodeword(e){let t=new Int32Array(8),n=0,r=t.length-1;for(;!((e&1)!==n&&(n=e&1,r--,r<0));)t[r]++,e>>=1;return t}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return Oe.getCodewordBucketNumber(Oe.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let t=new sr;for(let n=0;n<e.length;n++){t.format("Row %2d: ",n);for(let r=0;r<e[n].length;r++){let o=e[n][r];o.getValue().length===0?t.format("        ",null):t.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}t.format("%n")}return t.toString()}}Oe.CODEWORD_SKEW_SIZE=2,Oe.MAX_ERRORS=3,Oe.MAX_EC_CODEWORDS=512,Oe.errorCorrection=new go;class Et{decode(e,t=null){let n=Et.decode(e,t,!1);if(n==null||n.length===0||n[0]==null)throw U.getNotFoundInstance();return n[0]}decodeMultiple(e,t=null){try{return Et.decode(e,t,!0)}catch(n){throw n instanceof L||n instanceof B?U.getNotFoundInstance():n}}static decode(e,t,n){const r=new Array,o=Ie.detectMultiple(e,t,n);for(const a of o.getPoints()){const u=Oe.decode(o.getBits(),a[4],a[5],a[6],a[7],Et.getMinCodewordWidth(a),Et.getMaxCodewordWidth(a)),f=new We(u.getText(),u.getRawBytes(),void 0,a,oe.PDF_417);f.putMetadata(Ue.ERROR_CORRECTION_LEVEL,u.getECLevel());const g=u.getOther();g!=null&&f.putMetadata(Ue.PDF417_EXTRA_METADATA,g),r.push(f)}return r.map(a=>a)}static getMaxWidth(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMinWidth(e,t){return e==null||t==null?G.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(Et.getMaxWidth(e[0],e[4]),Et.getMaxWidth(e[6],e[2])*be.MODULES_IN_CODEWORD/be.MODULES_IN_STOP_PATTERN),Math.max(Et.getMaxWidth(e[1],e[5]),Et.getMaxWidth(e[7],e[3])*be.MODULES_IN_CODEWORD/be.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(Et.getMinWidth(e[0],e[4]),Et.getMinWidth(e[6],e[2])*be.MODULES_IN_CODEWORD/be.MODULES_IN_STOP_PATTERN),Math.min(Et.getMinWidth(e[1],e[5]),Et.getMinWidth(e[7],e[3])*be.MODULES_IN_CODEWORD/be.MODULES_IN_STOP_PATTERN)))}reset(){}}class Lr extends p{}Lr.kind="ReaderException";class Co{constructor(e,t){this.verbose=e===!0,t&&this.setHints(t)}decode(e,t){return t&&this.setHints(t),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const t=!d(e)&&e.get($.TRY_HARDER)===!0,n=d(e)?null:e.get($.POSSIBLE_FORMATS),r=new Array;if(!d(n)){const o=n.some(a=>a===oe.UPC_A||a===oe.UPC_E||a===oe.EAN_13||a===oe.EAN_8||a===oe.CODABAR||a===oe.CODE_39||a===oe.CODE_93||a===oe.CODE_128||a===oe.ITF||a===oe.RSS_14||a===oe.RSS_EXPANDED);o&&!t&&r.push(new Wn(e,this.verbose)),n.includes(oe.QR_CODE)&&r.push(new Sn),n.includes(oe.DATA_MATRIX)&&r.push(new vn),n.includes(oe.AZTEC)&&r.push(new Nr),n.includes(oe.PDF_417)&&r.push(new Et),o&&t&&r.push(new Wn(e,this.verbose))}r.length===0&&(t||r.push(new Wn(e,this.verbose)),r.push(new Sn),r.push(new vn),r.push(new Nr),r.push(new Et),t&&r.push(new Wn(e,this.verbose))),this.readers=r}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new Lr("No readers where selected, nothing can be read.");for(const t of this.readers)try{return t.decode(e,this.hints)}catch(n){if(n instanceof Lr)continue}throw new U("No MultiFormat Readers were able to detect the code.")}}class Vc extends $e{constructor(e=null,t=500){const n=new Co;n.setHints(e),super(n,t)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class Uc extends $e{constructor(e=500){super(new Et,e)}}class jc extends $e{constructor(e=500){super(new Sn,e)}}var qi;(function(C){C[C.ERROR_CORRECTION=0]="ERROR_CORRECTION",C[C.CHARACTER_SET=1]="CHARACTER_SET",C[C.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",C[C.MIN_SIZE=3]="MIN_SIZE",C[C.MAX_SIZE=4]="MAX_SIZE",C[C.MARGIN=5]="MARGIN",C[C.PDF417_COMPACT=6]="PDF417_COMPACT",C[C.PDF417_COMPACTION=7]="PDF417_COMPACTION",C[C.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",C[C.AZTEC_LAYERS=9]="AZTEC_LAYERS",C[C.QR_VERSION=10]="QR_VERSION"})(qi||(qi={}));var pt=qi;class Zi{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new it(e,Int32Array.from([1])))}buildGenerator(e){const t=this.cachedGenerators;if(e>=t.length){let n=t[t.length-1];const r=this.field;for(let o=t.length;o<=e;o++){const a=n.multiply(new it(r,Int32Array.from([1,r.exp(o-1+r.getGeneratorBase())])));t.push(a),n=a}}return t[e]}encode(e,t){if(t===0)throw new y("No error correction bytes");const n=e.length-t;if(n<=0)throw new y("No data bytes provided");const r=this.buildGenerator(t),o=new Int32Array(n);T.arraycopy(e,0,o,0,n);let a=new it(this.field,o);a=a.multiplyByMonomial(t,1);const f=a.divide(r)[1].getCoefficients(),g=t-f.length;for(let m=0;m<g;m++)e[n+m]=0;T.arraycopy(f,0,e,n+g,f.length)}}class at{constructor(){}static applyMaskPenaltyRule1(e){return at.applyMaskPenaltyRule1Internal(e,!0)+at.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let t=0;const n=e.getArray(),r=e.getWidth(),o=e.getHeight();for(let a=0;a<o-1;a++){const u=n[a];for(let f=0;f<r-1;f++){const g=u[f];g===u[f+1]&&g===n[a+1][f]&&g===n[a+1][f+1]&&t++}}return at.N2*t}static applyMaskPenaltyRule3(e){let t=0;const n=e.getArray(),r=e.getWidth(),o=e.getHeight();for(let a=0;a<o;a++)for(let u=0;u<r;u++){const f=n[a];u+6<r&&f[u]===1&&f[u+1]===0&&f[u+2]===1&&f[u+3]===1&&f[u+4]===1&&f[u+5]===0&&f[u+6]===1&&(at.isWhiteHorizontal(f,u-4,u)||at.isWhiteHorizontal(f,u+7,u+11))&&t++,a+6<o&&n[a][u]===1&&n[a+1][u]===0&&n[a+2][u]===1&&n[a+3][u]===1&&n[a+4][u]===1&&n[a+5][u]===0&&n[a+6][u]===1&&(at.isWhiteVertical(n,u,a-4,a)||at.isWhiteVertical(n,u,a+7,a+11))&&t++}return t*at.N3}static isWhiteHorizontal(e,t,n){t=Math.max(t,0),n=Math.min(n,e.length);for(let r=t;r<n;r++)if(e[r]===1)return!1;return!0}static isWhiteVertical(e,t,n,r){n=Math.max(n,0),r=Math.min(r,e.length);for(let o=n;o<r;o++)if(e[o][t]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let t=0;const n=e.getArray(),r=e.getWidth(),o=e.getHeight();for(let f=0;f<o;f++){const g=n[f];for(let m=0;m<r;m++)g[m]===1&&t++}const a=e.getHeight()*e.getWidth();return Math.floor(Math.abs(t*2-a)*10/a)*at.N4}static getDataMaskBit(e,t,n){let r,o;switch(e){case 0:r=n+t&1;break;case 1:r=n&1;break;case 2:r=t%3;break;case 3:r=(n+t)%3;break;case 4:r=Math.floor(n/2)+Math.floor(t/3)&1;break;case 5:o=n*t,r=(o&1)+o%3;break;case 6:o=n*t,r=(o&1)+o%3&1;break;case 7:o=n*t,r=o%3+(n+t&1)&1;break;default:throw new y("Invalid mask pattern: "+e)}return r===0}static applyMaskPenaltyRule1Internal(e,t){let n=0;const r=t?e.getHeight():e.getWidth(),o=t?e.getWidth():e.getHeight(),a=e.getArray();for(let u=0;u<r;u++){let f=0,g=-1;for(let m=0;m<o;m++){const E=t?a[u][m]:a[m][u];E===g?f++:(f>=5&&(n+=at.N1+(f-5)),f=1,g=E)}f>=5&&(n+=at.N1+(f-5))}return n}}at.N1=3,at.N2=3,at.N3=40,at.N4=10;class kr{constructor(e,t){this.width=e,this.height=t;const n=new Array(t);for(let r=0;r!==t;r++)n[r]=new Uint8Array(e);this.bytes=n}getHeight(){return this.height}getWidth(){return this.width}get(e,t){return this.bytes[t][e]}getArray(){return this.bytes}setNumber(e,t,n){this.bytes[t][e]=n}setBoolean(e,t,n){this.bytes[t][e]=n?1:0}clear(e){for(const t of this.bytes)j.fill(t,e)}equals(e){if(!(e instanceof kr))return!1;const t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(let n=0,r=this.height;n<r;++n){const o=this.bytes[n],a=t.bytes[n];for(let u=0,f=this.width;u<f;++u)if(o[u]!==a[u])return!1}return!0}toString(){const e=new Ee;for(let t=0,n=this.height;t<n;++t){const r=this.bytes[t];for(let o=0,a=this.width;o<a;++o)switch(r[o]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class Dn{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new Ee;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<Dn.NUM_MASK_PATTERNS}}Dn.NUM_MASK_PATTERNS=8;class qe extends p{}qe.kind="WriterException";class me{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,t,n,r,o){me.clearMatrix(o),me.embedBasicPatterns(n,o),me.embedTypeInfo(t,r,o),me.maybeEmbedVersionInfo(n,o),me.embedDataBits(e,r,o)}static embedBasicPatterns(e,t){me.embedPositionDetectionPatternsAndSeparators(t),me.embedDarkDotAtLeftBottomCorner(t),me.maybeEmbedPositionAdjustmentPatterns(e,t),me.embedTimingPatterns(t)}static embedTypeInfo(e,t,n){const r=new Y;me.makeTypeInfoBits(e,t,r);for(let o=0,a=r.getSize();o<a;++o){const u=r.get(r.getSize()-1-o),f=me.TYPE_INFO_COORDINATES[o],g=f[0],m=f[1];if(n.setBoolean(g,m,u),o<8){const E=n.getWidth()-o-1;n.setBoolean(E,8,u)}else{const v=n.getHeight()-7+(o-8);n.setBoolean(8,v,u)}}}static maybeEmbedVersionInfo(e,t){if(e.getVersionNumber()<7)return;const n=new Y;me.makeVersionInfoBits(e,n);let r=6*3-1;for(let o=0;o<6;++o)for(let a=0;a<3;++a){const u=n.get(r);r--,t.setBoolean(o,t.getHeight()-11+a,u),t.setBoolean(t.getHeight()-11+a,o,u)}}static embedDataBits(e,t,n){let r=0,o=-1,a=n.getWidth()-1,u=n.getHeight()-1;for(;a>0;){for(a===6&&(a-=1);u>=0&&u<n.getHeight();){for(let f=0;f<2;++f){const g=a-f;if(!me.isEmpty(n.get(g,u)))continue;let m;r<e.getSize()?(m=e.get(r),++r):m=!1,t!==255&&at.getDataMaskBit(t,g,u)&&(m=!m),n.setBoolean(g,u,m)}u+=o}o=-o,u+=o,a-=2}if(r!==e.getSize())throw new qe("Not all bits consumed: "+r+"/"+e.getSize())}static findMSBSet(e){return 32-G.numberOfLeadingZeros(e)}static calculateBCHCode(e,t){if(t===0)throw new y("0 polynomial");const n=me.findMSBSet(t);for(e<<=n-1;me.findMSBSet(e)>=n;)e^=t<<me.findMSBSet(e)-n;return e}static makeTypeInfoBits(e,t,n){if(!Dn.isValidMaskPattern(t))throw new qe("Invalid mask pattern");const r=e.getBits()<<3|t;n.appendBits(r,5);const o=me.calculateBCHCode(r,me.TYPE_INFO_POLY);n.appendBits(o,10);const a=new Y;if(a.appendBits(me.TYPE_INFO_MASK_PATTERN,15),n.xor(a),n.getSize()!==15)throw new qe("should not happen but we got: "+n.getSize())}static makeVersionInfoBits(e,t){t.appendBits(e.getVersionNumber(),6);const n=me.calculateBCHCode(e.getVersionNumber(),me.VERSION_INFO_POLY);if(t.appendBits(n,12),t.getSize()!==18)throw new qe("should not happen but we got: "+t.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let t=8;t<e.getWidth()-8;++t){const n=(t+1)%2;me.isEmpty(e.get(t,6))&&e.setNumber(t,6,n),me.isEmpty(e.get(6,t))&&e.setNumber(6,t,n)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new qe;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,t,n){for(let r=0;r<8;++r){if(!me.isEmpty(n.get(e+r,t)))throw new qe;n.setNumber(e+r,t,0)}}static embedVerticalSeparationPattern(e,t,n){for(let r=0;r<7;++r){if(!me.isEmpty(n.get(e,t+r)))throw new qe;n.setNumber(e,t+r,0)}}static embedPositionAdjustmentPattern(e,t,n){for(let r=0;r<5;++r){const o=me.POSITION_ADJUSTMENT_PATTERN[r];for(let a=0;a<5;++a)n.setNumber(e+a,t+r,o[a])}}static embedPositionDetectionPattern(e,t,n){for(let r=0;r<7;++r){const o=me.POSITION_DETECTION_PATTERN[r];for(let a=0;a<7;++a)n.setNumber(e+a,t+r,o[a])}}static embedPositionDetectionPatternsAndSeparators(e){const t=me.POSITION_DETECTION_PATTERN[0].length;me.embedPositionDetectionPattern(0,0,e),me.embedPositionDetectionPattern(e.getWidth()-t,0,e),me.embedPositionDetectionPattern(0,e.getWidth()-t,e);const n=8;me.embedHorizontalSeparationPattern(0,n-1,e),me.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),me.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);const r=7;me.embedVerticalSeparationPattern(r,0,e),me.embedVerticalSeparationPattern(e.getHeight()-r-1,0,e),me.embedVerticalSeparationPattern(r,e.getHeight()-r,e)}static maybeEmbedPositionAdjustmentPatterns(e,t){if(e.getVersionNumber()<2)return;const n=e.getVersionNumber()-1,r=me.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n];for(let o=0,a=r.length;o!==a;o++){const u=r[o];if(u>=0)for(let f=0;f!==a;f++){const g=r[f];g>=0&&me.isEmpty(t.get(g,u))&&me.embedPositionAdjustmentPattern(g-2,u-2,t)}}}}me.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),me.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),me.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),me.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),me.VERSION_INFO_POLY=7973,me.TYPE_INFO_POLY=1335,me.TYPE_INFO_MASK_PATTERN=21522;class Hc{constructor(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Qe{constructor(){}static calculateMaskPenalty(e){return at.applyMaskPenaltyRule1(e)+at.applyMaskPenaltyRule2(e)+at.applyMaskPenaltyRule3(e)+at.applyMaskPenaltyRule4(e)}static encode(e,t,n=null){let r=Qe.DEFAULT_BYTE_MODE_ENCODING;const o=n!==null&&n.get(pt.CHARACTER_SET)!==void 0;o&&(r=n.get(pt.CHARACTER_SET).toString());const a=this.chooseMode(e,r),u=new Y;if(a===he.BYTE&&(o||Qe.DEFAULT_BYTE_MODE_ENCODING!==r)){const ne=z.getCharacterSetECIByName(r);ne!==void 0&&this.appendECI(ne,u)}this.appendModeInfo(a,u);const f=new Y;this.appendBytes(e,a,f,r);let g;if(n!==null&&n.get(pt.QR_VERSION)!==void 0){const ne=Number.parseInt(n.get(pt.QR_VERSION).toString(),10);g=de.getVersionForNumber(ne);const Z=this.calculateBitsNeeded(a,u,f,g);if(!this.willFit(Z,g,t))throw new qe("Data too big for requested version")}else g=this.recommendVersion(t,a,u,f);const m=new Y;m.appendBitArray(u);const E=a===he.BYTE?f.getSizeInBytes():e.length;this.appendLengthInfo(E,g,a,m),m.appendBitArray(f);const v=g.getECBlocksForLevel(t),I=g.getTotalCodewords()-v.getTotalECCodewords();this.terminateBits(I,m);const N=this.interleaveWithECBytes(m,g.getTotalCodewords(),I,v.getNumBlocks()),D=new Dn;D.setECLevel(t),D.setMode(a),D.setVersion(g);const F=g.getDimensionForVersion(),W=new kr(F,F),te=this.chooseMaskPattern(N,t,g,W);return D.setMaskPattern(te),me.buildMatrix(N,t,g,te,W),D.setMatrix(W),D}static recommendVersion(e,t,n,r){const o=this.calculateBitsNeeded(t,n,r,de.getVersionForNumber(1)),a=this.chooseVersion(o,e),u=this.calculateBitsNeeded(t,n,r,a);return this.chooseVersion(u,e)}static calculateBitsNeeded(e,t,n,r){return t.getSize()+e.getCharacterCountBits(r)+n.getSize()}static getAlphanumericCode(e){return e<Qe.ALPHANUMERIC_TABLE.length?Qe.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,t=null){if(z.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return he.KANJI;let n=!1,r=!1;for(let o=0,a=e.length;o<a;++o){const u=e.charAt(o);if(Qe.isDigit(u))n=!0;else if(this.getAlphanumericCode(u.charCodeAt(0))!==-1)r=!0;else return he.BYTE}return r?he.ALPHANUMERIC:n?he.NUMERIC:he.BYTE}static isOnlyDoubleByteKanji(e){let t;try{t=ye.encode(e,z.SJIS)}catch{return!1}const n=t.length;if(n%2!==0)return!1;for(let r=0;r<n;r+=2){const o=t[r]&255;if((o<129||o>159)&&(o<224||o>235))return!1}return!0}static chooseMaskPattern(e,t,n,r){let o=Number.MAX_SAFE_INTEGER,a=-1;for(let u=0;u<Dn.NUM_MASK_PATTERNS;u++){me.buildMatrix(e,t,n,u,r);let f=this.calculateMaskPenalty(r);f<o&&(o=f,a=u)}return a}static chooseVersion(e,t){for(let n=1;n<=40;n++){const r=de.getVersionForNumber(n);if(Qe.willFit(e,r,t))return r}throw new qe("Data too big")}static willFit(e,t,n){const r=t.getTotalCodewords(),a=t.getECBlocksForLevel(n).getTotalECCodewords(),u=r-a,f=(e+7)/8;return u>=f}static terminateBits(e,t){const n=e*8;if(t.getSize()>n)throw new qe("data bits cannot fit in the QR Code"+t.getSize()+" > "+n);for(let a=0;a<4&&t.getSize()<n;++a)t.appendBit(!1);const r=t.getSize()&7;if(r>0)for(let a=r;a<8;a++)t.appendBit(!1);const o=e-t.getSizeInBytes();for(let a=0;a<o;++a)t.appendBits(a&1?17:236,8);if(t.getSize()!==n)throw new qe("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,t,n,r,o,a){if(r>=n)throw new qe("Block ID too large");const u=e%n,f=n-u,g=Math.floor(e/n),m=g+1,E=Math.floor(t/n),v=E+1,I=g-E,N=m-v;if(I!==N)throw new qe("EC bytes mismatch");if(n!==f+u)throw new qe("RS blocks mismatch");if(e!==(E+I)*f+(v+N)*u)throw new qe("Total bytes mismatch");r<f?(o[0]=E,a[0]=I):(o[0]=v,a[0]=N)}static interleaveWithECBytes(e,t,n,r){if(e.getSizeInBytes()!==n)throw new qe("Number of bits and data bytes does not match");let o=0,a=0,u=0;const f=new Array;for(let m=0;m<r;++m){const E=new Int32Array(1),v=new Int32Array(1);Qe.getNumDataBytesAndNumECBytesForBlockID(t,n,r,m,E,v);const I=E[0],N=new Uint8Array(I);e.toBytes(8*o,N,0,I);const D=Qe.generateECBytes(N,v[0]);f.push(new Hc(N,D)),a=Math.max(a,I),u=Math.max(u,D.length),o+=E[0]}if(n!==o)throw new qe("Data bytes does not match offset");const g=new Y;for(let m=0;m<a;++m)for(const E of f){const v=E.getDataBytes();m<v.length&&g.appendBits(v[m],8)}for(let m=0;m<u;++m)for(const E of f){const v=E.getErrorCorrectionBytes();m<v.length&&g.appendBits(v[m],8)}if(t!==g.getSizeInBytes())throw new qe("Interleaving error: "+t+" and "+g.getSizeInBytes()+" differ.");return g}static generateECBytes(e,t){const n=e.length,r=new Int32Array(n+t);for(let a=0;a<n;a++)r[a]=e[a]&255;new Zi(Q.QR_CODE_FIELD_256).encode(r,t);const o=new Uint8Array(t);for(let a=0;a<t;a++)o[a]=r[n+a];return o}static appendModeInfo(e,t){t.appendBits(e.getBits(),4)}static appendLengthInfo(e,t,n,r){const o=n.getCharacterCountBits(t);if(e>=1<<o)throw new qe(e+" is bigger than "+((1<<o)-1));r.appendBits(e,o)}static appendBytes(e,t,n,r){switch(t){case he.NUMERIC:Qe.appendNumericBytes(e,n);break;case he.ALPHANUMERIC:Qe.appendAlphanumericBytes(e,n);break;case he.BYTE:Qe.append8BitBytes(e,n,r);break;case he.KANJI:Qe.appendKanjiBytes(e,n);break;default:throw new qe("Invalid mode: "+t)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const t=Qe.getDigit(e);return t>=0&&t<=9}static appendNumericBytes(e,t){const n=e.length;let r=0;for(;r<n;){const o=Qe.getDigit(e.charAt(r));if(r+2<n){const a=Qe.getDigit(e.charAt(r+1)),u=Qe.getDigit(e.charAt(r+2));t.appendBits(o*100+a*10+u,10),r+=3}else if(r+1<n){const a=Qe.getDigit(e.charAt(r+1));t.appendBits(o*10+a,7),r+=2}else t.appendBits(o,4),r++}}static appendAlphanumericBytes(e,t){const n=e.length;let r=0;for(;r<n;){const o=Qe.getAlphanumericCode(e.charCodeAt(r));if(o===-1)throw new qe;if(r+1<n){const a=Qe.getAlphanumericCode(e.charCodeAt(r+1));if(a===-1)throw new qe;t.appendBits(o*45+a,11),r+=2}else t.appendBits(o,6),r++}}static append8BitBytes(e,t,n){let r;try{r=ye.encode(e,n)}catch(o){throw new qe(o)}for(let o=0,a=r.length;o!==a;o++){const u=r[o];t.appendBits(u,8)}}static appendKanjiBytes(e,t){let n;try{n=ye.encode(e,z.SJIS)}catch(o){throw new qe(o)}const r=n.length;for(let o=0;o<r;o+=2){const a=n[o]&255,u=n[o+1]&255,f=a<<8&4294967295|u;let g=-1;if(f>=33088&&f<=40956?g=f-33088:f>=57408&&f<=60351&&(g=f-49472),g===-1)throw new qe("Invalid byte sequence");const m=(g>>8)*192+(g&255);t.appendBits(m,13)}}static appendECI(e,t){t.appendBits(he.ECI.getBits(),4),t.appendBits(e.getValue(),8)}}Qe.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Qe.DEFAULT_BYTE_MODE_ENCODING=z.UTF8.getName();class Pn{write(e,t,n,r=null){if(e.length===0)throw new y("Found empty contents");if(t<0||n<0)throw new y("Requested dimensions are too small: "+t+"x"+n);let o=Ke.L,a=Pn.QUIET_ZONE_SIZE;r!==null&&(r.get(pt.ERROR_CORRECTION)!==void 0&&(o=Ke.fromString(r.get(pt.ERROR_CORRECTION).toString())),r.get(pt.MARGIN)!==void 0&&(a=Number.parseInt(r.get(pt.MARGIN).toString(),10)));const u=Qe.encode(e,o,r);return this.renderResult(u,t,n,a)}writeToDom(e,t,n,r,o=null){typeof e=="string"&&(e=document.querySelector(e));const a=this.write(t,n,r,o);e&&e.appendChild(a)}renderResult(e,t,n,r){const o=e.getMatrix();if(o===null)throw new Ae;const a=o.getWidth(),u=o.getHeight(),f=a+r*2,g=u+r*2,m=Math.max(t,f),E=Math.max(n,g),v=Math.min(Math.floor(m/f),Math.floor(E/g)),I=Math.floor((m-a*v)/2),N=Math.floor((E-u*v)/2),D=this.createSVGElement(m,E);for(let F=0,W=N;F<u;F++,W+=v)for(let te=0,ne=I;te<a;te++,ne+=v)if(o.get(te,F)===1){const Z=this.createSvgRectElement(ne,W,v,v);D.appendChild(Z)}return D}createSVGElement(e,t){const n=document.createElementNS(Pn.SVG_NS,"svg");return n.setAttributeNS(null,"height",e.toString()),n.setAttributeNS(null,"width",t.toString()),n}createSvgRectElement(e,t,n,r){const o=document.createElementNS(Pn.SVG_NS,"rect");return o.setAttributeNS(null,"x",e.toString()),o.setAttributeNS(null,"y",t.toString()),o.setAttributeNS(null,"height",n.toString()),o.setAttributeNS(null,"width",r.toString()),o.setAttributeNS(null,"fill","#000000"),o}}Pn.QUIET_ZONE_SIZE=4,Pn.SVG_NS="http://www.w3.org/2000/svg";class Xn{encode(e,t,n,r,o){if(e.length===0)throw new y("Found empty contents");if(t!==oe.QR_CODE)throw new y("Can only encode QR_CODE, but got "+t);if(n<0||r<0)throw new y(`Requested dimensions are too small: ${n}x${r}`);let a=Ke.L,u=Xn.QUIET_ZONE_SIZE;o!==null&&(o.get(pt.ERROR_CORRECTION)!==void 0&&(a=Ke.fromString(o.get(pt.ERROR_CORRECTION).toString())),o.get(pt.MARGIN)!==void 0&&(u=Number.parseInt(o.get(pt.MARGIN).toString(),10)));const f=Qe.encode(e,a,o);return Xn.renderResult(f,n,r,u)}static renderResult(e,t,n,r){const o=e.getMatrix();if(o===null)throw new Ae;const a=o.getWidth(),u=o.getHeight(),f=a+r*2,g=u+r*2,m=Math.max(t,f),E=Math.max(n,g),v=Math.min(Math.floor(m/f),Math.floor(E/g)),I=Math.floor((m-a*v)/2),N=Math.floor((E-u*v)/2),D=new _e(m,E);for(let F=0,W=N;F<u;F++,W+=v)for(let te=0,ne=I;te<a;te++,ne+=v)o.get(te,F)===1&&D.setRegion(ne,W,v,v);return D}}Xn.QUIET_ZONE_SIZE=4;class Wc{encode(e,t,n,r,o){let a;switch(t){case oe.QR_CODE:a=new Xn;break;default:throw new y("No encoder available for format "+t)}return a.encode(e,t,n,r,o)}}class on extends Xe{constructor(e,t,n,r,o,a,u,f){if(super(a,u),this.yuvData=e,this.dataWidth=t,this.dataHeight=n,this.left=r,this.top=o,r+a>t||o+u>n)throw new y("Crop rectangle does not fit within image data.");f&&this.reverseHorizontal(a,u)}getRow(e,t){if(e<0||e>=this.getHeight())throw new y("Requested row is outside the image: "+e);const n=this.getWidth();(t==null||t.length<n)&&(t=new Uint8ClampedArray(n));const r=(e+this.top)*this.dataWidth+this.left;return T.arraycopy(this.yuvData,r,t,0,n),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.yuvData;const n=e*t,r=new Uint8ClampedArray(n);let o=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return T.arraycopy(this.yuvData,o,r,0,n),r;for(let a=0;a<t;a++){const u=a*e;T.arraycopy(this.yuvData,o,r,u,e),o+=this.dataWidth}return r}isCropSupported(){return!0}crop(e,t,n,r){return new on(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+t,n,r,!1)}renderThumbnail(){const e=this.getWidth()/on.THUMBNAIL_SCALE_FACTOR,t=this.getHeight()/on.THUMBNAIL_SCALE_FACTOR,n=new Int32Array(e*t),r=this.yuvData;let o=this.top*this.dataWidth+this.left;for(let a=0;a<t;a++){const u=a*e;for(let f=0;f<e;f++){const g=r[o+f*on.THUMBNAIL_SCALE_FACTOR]&255;n[u+f]=4278190080|g*65793}o+=this.dataWidth*on.THUMBNAIL_SCALE_FACTOR}return n}getThumbnailWidth(){return this.getWidth()/on.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/on.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,t){const n=this.yuvData;for(let r=0,o=this.top*this.dataWidth+this.left;r<t;r++,o+=this.dataWidth){const a=o+e/2;for(let u=o,f=o+e-1;u<a;u++,f--){const g=n[u];n[u]=n[f],n[f]=g}}}invert(){return new rt(this)}}on.THUMBNAIL_SCALE_FACTOR=2;class Ki extends Xe{constructor(e,t,n,r,o,a,u){if(super(t,n),this.dataWidth=r,this.dataHeight=o,this.left=a,this.top=u,e.BYTES_PER_ELEMENT===4){const f=t*n,g=new Uint8ClampedArray(f);for(let m=0;m<f;m++){const E=e[m],v=E>>16&255,I=E>>7&510,N=E&255;g[m]=(v+I+N)/4&255}this.luminances=g}else this.luminances=e;if(r===void 0&&(this.dataWidth=t),o===void 0&&(this.dataHeight=n),a===void 0&&(this.left=0),u===void 0&&(this.top=0),this.left+t>this.dataWidth||this.top+n>this.dataHeight)throw new y("Crop rectangle does not fit within image data.")}getRow(e,t){if(e<0||e>=this.getHeight())throw new y("Requested row is outside the image: "+e);const n=this.getWidth();(t==null||t.length<n)&&(t=new Uint8ClampedArray(n));const r=(e+this.top)*this.dataWidth+this.left;return T.arraycopy(this.luminances,r,t,0,n),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.luminances;const n=e*t,r=new Uint8ClampedArray(n);let o=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return T.arraycopy(this.luminances,o,r,0,n),r;for(let a=0;a<t;a++){const u=a*e;T.arraycopy(this.luminances,o,r,u,e),o+=this.dataWidth}return r}isCropSupported(){return!0}crop(e,t,n,r){return new Ki(this.luminances,n,r,this.dataWidth,this.dataHeight,this.left+e,this.top+t)}invert(){return new rt(this)}}class Eo extends z{static forName(e){return this.getCharacterSetECIByName(e)}}class $i{}$i.ISO_8859_1=z.ISO8859_1;class Ao{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class yo{static singletonList(e){return[e]}static min(e,t){return e.sort(t)[0]}}class Gc{constructor(e){this.previous=e}getPrevious(){return this.previous}}class zn extends Gc{constructor(e,t,n){super(e),this.value=t,this.bitCount=n}appendTo(e,t){e.appendBits(this.value,this.bitCount)}add(e,t){return new zn(this,e,t)}addBinaryShift(e,t){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new zn(this,e,t)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+G.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class Qi extends zn{constructor(e,t,n){super(e,0,0),this.binaryShiftStart=t,this.binaryShiftByteCount=n}appendTo(e,t){for(let n=0;n<this.binaryShiftByteCount;n++)(n===0||n===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):n===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(t[this.binaryShiftStart+n],8)}addBinaryShift(e,t){return new Qi(this,e,t)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Xc(C,e,t){return new Qi(C,e,t)}function ur(C,e,t){return new zn(C,e,t)}const zc=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],_n=0,Fr=1,Zt=2,vo=3,an=4,Yc=new zn(null,0,0),Ji=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function qc(C){for(let e of C)j.fill(e,-1);return C[_n][an]=0,C[Fr][an]=0,C[Fr][_n]=28,C[vo][an]=0,C[Zt][an]=0,C[Zt][_n]=15,C}const So=qc(j.createInt32Array(6,6));class ln{constructor(e,t,n,r){this.token=e,this.mode=t,this.binaryShiftByteCount=n,this.bitCount=r}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,t){let n=this.bitCount,r=this.token;if(e!==this.mode){let a=Ji[this.mode][e];r=ur(r,a&65535,a>>16),n+=a>>16}let o=e===Zt?4:5;return r=ur(r,t,o),new ln(r,e,0,n+o)}shiftAndAppend(e,t){let n=this.token,r=this.mode===Zt?4:5;return n=ur(n,So[this.mode][e],r),n=ur(n,t,5),new ln(n,this.mode,0,this.bitCount+r+5)}addBinaryShiftChar(e){let t=this.token,n=this.mode,r=this.bitCount;if(this.mode===an||this.mode===Zt){let u=Ji[n][_n];t=ur(t,u&65535,u>>16),r+=u>>16,n=_n}let o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,a=new ln(t,n,this.binaryShiftByteCount+1,r+o);return a.binaryShiftByteCount===2078&&(a=a.endBinaryShift(e+1)),a}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let t=this.token;return t=Xc(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new ln(t,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let t=this.bitCount+(Ji[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=ln.calculateBinaryShiftCost(e)-ln.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount}toBitArray(e){let t=[];for(let r=this.endBinaryShift(e.length).token;r!==null;r=r.getPrevious())t.unshift(r);let n=new Y;for(const r of t)r.appendTo(n,e);return n}toString(){return ae.format("%s bits=%d bytes=%d",zc[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}ln.INITIAL_STATE=new ln(Yc,_n,0,0);function Zc(C){const e=ae.getCharCode(" "),t=ae.getCharCode("."),n=ae.getCharCode(",");C[_n][e]=1;const r=ae.getCharCode("Z"),o=ae.getCharCode("A");for(let v=o;v<=r;v++)C[_n][v]=v-o+2;C[Fr][e]=1;const a=ae.getCharCode("z"),u=ae.getCharCode("a");for(let v=u;v<=a;v++)C[Fr][v]=v-u+2;C[Zt][e]=1;const f=ae.getCharCode("9"),g=ae.getCharCode("0");for(let v=g;v<=f;v++)C[Zt][v]=v-g+2;C[Zt][n]=12,C[Zt][t]=13;const m=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let v=0;v<m.length;v++)C[vo][ae.getCharCode(m[v])]=v;const E=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let v=0;v<E.length;v++)ae.getCharCode(E[v])>0&&(C[an][ae.getCharCode(E[v])]=v);return C}const es=Zc(j.createInt32Array(5,256));class dr{constructor(e){this.text=e}encode(){const e=ae.getCharCode(" "),t=ae.getCharCode(`
`);let n=yo.singletonList(ln.INITIAL_STATE);for(let o=0;o<this.text.length;o++){let a,u=o+1<this.text.length?this.text[o+1]:0;switch(this.text[o]){case ae.getCharCode("\r"):a=u===t?2:0;break;case ae.getCharCode("."):a=u===e?3:0;break;case ae.getCharCode(","):a=u===e?4:0;break;case ae.getCharCode(":"):a=u===e?5:0;break;default:a=0}a>0?(n=dr.updateStateListForPair(n,o,a),o++):n=this.updateStateListForChar(n,o)}return yo.min(n,(o,a)=>o.getBitCount()-a.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,t){const n=[];for(let r of e)this.updateStateForChar(r,t,n);return dr.simplifyStates(n)}updateStateForChar(e,t,n){let r=this.text[t]&255,o=es[e.getMode()][r]>0,a=null;for(let u=0;u<=an;u++){let f=es[u][r];if(f>0){if(a==null&&(a=e.endBinaryShift(t)),!o||u===e.getMode()||u===Zt){const g=a.latchAndAppend(u,f);n.push(g)}if(!o&&So[e.getMode()][u]>=0){const g=a.shiftAndAppend(u,f);n.push(g)}}}if(e.getBinaryShiftByteCount()>0||es[e.getMode()][r]===0){let u=e.addBinaryShiftChar(t);n.push(u)}}static updateStateListForPair(e,t,n){const r=[];for(let o of e)this.updateStateForPair(o,t,n,r);return this.simplifyStates(r)}static updateStateForPair(e,t,n,r){let o=e.endBinaryShift(t);if(r.push(o.latchAndAppend(an,n)),e.getMode()!==an&&r.push(o.shiftAndAppend(an,n)),n===3||n===4){let a=o.latchAndAppend(Zt,16-n).latchAndAppend(Zt,1);r.push(a)}if(e.getBinaryShiftByteCount()>0){let a=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);r.push(a)}}static simplifyStates(e){let t=[];for(const n of e){let r=!0;for(const o of t){if(o.isBetterThanOrEqualTo(n)){r=!1;break}n.isBetterThanOrEqualTo(o)&&(t=t.filter(a=>a!==o))}r&&t.push(n)}return t}}class De{constructor(){}static encodeBytes(e){return De.encode(e,De.DEFAULT_EC_PERCENT,De.DEFAULT_AZTEC_LAYERS)}static encode(e,t,n){let r=new dr(e).encode(),o=G.truncDivision(r.getSize()*t,100)+11,a=r.getSize()+o,u,f,g,m,E;if(n!==De.DEFAULT_AZTEC_LAYERS){if(u=n<0,f=Math.abs(n),f>(u?De.MAX_NB_BITS_COMPACT:De.MAX_NB_BITS))throw new y(ae.format("Illegal value %s for layers",n));g=De.totalBitsInLayer(f,u),m=De.WORD_SIZE[f];let Z=g-g%m;if(E=De.stuffBits(r,m),E.getSize()+o>Z)throw new y("Data to large for user specified layer");if(u&&E.getSize()>m*64)throw new y("Data to large for user specified layer")}else{m=0,E=null;for(let Z=0;;Z++){if(Z>De.MAX_NB_BITS)throw new y("Data too large for an Aztec code");if(u=Z<=3,f=u?Z+1:Z,g=De.totalBitsInLayer(f,u),a>g)continue;(E==null||m!==De.WORD_SIZE[f])&&(m=De.WORD_SIZE[f],E=De.stuffBits(r,m));let Re=g-g%m;if(!(u&&E.getSize()>m*64)&&E.getSize()+o<=Re)break}}let v=De.generateCheckWords(E,g,m),I=E.getSize()/m,N=De.generateModeMessage(u,f,I),D=(u?11:14)+f*4,F=new Int32Array(D),W;if(u){W=D;for(let Z=0;Z<F.length;Z++)F[Z]=Z}else{W=D+1+2*G.truncDivision(G.truncDivision(D,2)-1,15);let Z=G.truncDivision(D,2),Re=G.truncDivision(W,2);for(let ve=0;ve<Z;ve++){let Pt=ve+G.truncDivision(ve,15);F[Z-ve-1]=Re-Pt-1,F[Z+ve]=Re+Pt+1}}let te=new _e(W);for(let Z=0,Re=0;Z<f;Z++){let ve=(f-Z)*4+(u?9:12);for(let Pt=0;Pt<ve;Pt++){let Jt=Pt*2;for(let Bt=0;Bt<2;Bt++)v.get(Re+Jt+Bt)&&te.set(F[Z*2+Bt],F[Z*2+Pt]),v.get(Re+ve*2+Jt+Bt)&&te.set(F[Z*2+Pt],F[D-1-Z*2-Bt]),v.get(Re+ve*4+Jt+Bt)&&te.set(F[D-1-Z*2-Bt],F[D-1-Z*2-Pt]),v.get(Re+ve*6+Jt+Bt)&&te.set(F[D-1-Z*2-Pt],F[Z*2+Bt])}Re+=ve*8}if(De.drawModeMessage(te,u,W,N),u)De.drawBullsEye(te,G.truncDivision(W,2),5);else{De.drawBullsEye(te,G.truncDivision(W,2),7);for(let Z=0,Re=0;Z<G.truncDivision(D,2)-1;Z+=15,Re+=16)for(let ve=G.truncDivision(W,2)&1;ve<W;ve+=2)te.set(G.truncDivision(W,2)-Re,ve),te.set(G.truncDivision(W,2)+Re,ve),te.set(ve,G.truncDivision(W,2)-Re),te.set(ve,G.truncDivision(W,2)+Re)}let ne=new Ao;return ne.setCompact(u),ne.setSize(W),ne.setLayers(f),ne.setCodeWords(I),ne.setMatrix(te),ne}static drawBullsEye(e,t,n){for(let r=0;r<n;r+=2)for(let o=t-r;o<=t+r;o++)e.set(o,t-r),e.set(o,t+r),e.set(t-r,o),e.set(t+r,o);e.set(t-n,t-n),e.set(t-n+1,t-n),e.set(t-n,t-n+1),e.set(t+n,t-n),e.set(t+n,t-n+1),e.set(t+n,t+n-1)}static generateModeMessage(e,t,n){let r=new Y;return e?(r.appendBits(t-1,2),r.appendBits(n-1,6),r=De.generateCheckWords(r,28,4)):(r.appendBits(t-1,5),r.appendBits(n-1,11),r=De.generateCheckWords(r,40,4)),r}static drawModeMessage(e,t,n,r){let o=G.truncDivision(n,2);if(t)for(let a=0;a<7;a++){let u=o-3+a;r.get(a)&&e.set(u,o-5),r.get(a+7)&&e.set(o+5,u),r.get(20-a)&&e.set(u,o+5),r.get(27-a)&&e.set(o-5,u)}else for(let a=0;a<10;a++){let u=o-5+a+G.truncDivision(a,5);r.get(a)&&e.set(u,o-7),r.get(a+10)&&e.set(o+7,u),r.get(29-a)&&e.set(u,o+7),r.get(39-a)&&e.set(o-7,u)}}static generateCheckWords(e,t,n){let r=e.getSize()/n,o=new Zi(De.getGF(n)),a=G.truncDivision(t,n),u=De.bitsToWords(e,n,a);o.encode(u,a-r);let f=t%n,g=new Y;g.appendBits(0,f);for(const m of Array.from(u))g.appendBits(m,n);return g}static bitsToWords(e,t,n){let r=new Int32Array(n),o,a;for(o=0,a=e.getSize()/t;o<a;o++){let u=0;for(let f=0;f<t;f++)u|=e.get(o*t+f)?1<<t-f-1:0;r[o]=u}return r}static getGF(e){switch(e){case 4:return Q.AZTEC_PARAM;case 6:return Q.AZTEC_DATA_6;case 8:return Q.AZTEC_DATA_8;case 10:return Q.AZTEC_DATA_10;case 12:return Q.AZTEC_DATA_12;default:throw new y("Unsupported word size "+e)}}static stuffBits(e,t){let n=new Y,r=e.getSize(),o=(1<<t)-2;for(let a=0;a<r;a+=t){let u=0;for(let f=0;f<t;f++)(a+f>=r||e.get(a+f))&&(u|=1<<t-1-f);(u&o)===o?(n.appendBits(u&o,t),a--):u&o?n.appendBits(u,t):(n.appendBits(u|1,t),a--)}return n}static totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}De.DEFAULT_EC_PERCENT=33,De.DEFAULT_AZTEC_LAYERS=0,De.MAX_NB_BITS=32,De.MAX_NB_BITS_COMPACT=4,De.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Vr{encode(e,t,n,r){return this.encodeWithHints(e,t,n,r,null)}encodeWithHints(e,t,n,r,o){let a=$i.ISO_8859_1,u=De.DEFAULT_EC_PERCENT,f=De.DEFAULT_AZTEC_LAYERS;return o!=null&&(o.has(pt.CHARACTER_SET)&&(a=Eo.forName(o.get(pt.CHARACTER_SET).toString())),o.has(pt.ERROR_CORRECTION)&&(u=G.parseInt(o.get(pt.ERROR_CORRECTION).toString())),o.has(pt.AZTEC_LAYERS)&&(f=G.parseInt(o.get(pt.AZTEC_LAYERS).toString()))),Vr.encodeLayers(e,t,n,r,a,u,f)}static encodeLayers(e,t,n,r,o,a,u){if(t!==oe.AZTEC)throw new y("Can only encode AZTEC, but got "+t);let f=De.encode(ae.getBytes(e,o),a,u);return Vr.renderResult(f,n,r)}static renderResult(e,t,n){let r=e.getMatrix();if(r==null)throw new Ae;let o=r.getWidth(),a=r.getHeight(),u=Math.max(t,o),f=Math.max(n,a),g=Math.min(u/o,f/a),m=(u-o*g)/2,E=(f-a*g)/2,v=new _e(u,f);for(let I=0,N=E;I<a;I++,N+=g)for(let D=0,F=m;D<o;D++,F+=g)r.get(D,I)&&v.setRegion(F,N,g,g);return v}}l.AbstractExpandedDecoder=Vi,l.ArgumentException=A,l.ArithmeticException=re,l.AztecCode=Ao,l.AztecCodeReader=Nr,l.AztecCodeWriter=Vr,l.AztecDecoder=Pe,l.AztecDetector=ao,l.AztecDetectorResult=so,l.AztecEncoder=De,l.AztecHighLevelEncoder=dr,l.AztecPoint=Tt,l.BarcodeFormat=oe,l.Binarizer=R,l.BinaryBitmap=P,l.BitArray=Y,l.BitMatrix=_e,l.BitSource=Wi,l.BrowserAztecCodeReader=Ec,l.BrowserBarcodeReader=Ic,l.BrowserCodeReader=$e,l.BrowserDatamatrixCodeReader=Tc,l.BrowserMultiFormatReader=Vc,l.BrowserPDF417Reader=Uc,l.BrowserQRCodeReader=jc,l.BrowserQRCodeSvgWriter=Pn,l.CharacterSetECI=z,l.ChecksumException=B,l.Code128Reader=se,l.Code39Reader=gt,l.DataMatrixDecodedBitStreamParser=yn,l.DataMatrixReader=vn,l.DecodeHintType=$,l.DecoderResult=Gt,l.DefaultGridSampler=oo,l.DetectorResult=Or,l.EAN13Reader=On,l.EncodeHintType=pt,l.Exception=p,l.FormatException=L,l.GenericGF=Q,l.GenericGFPoly=it,l.GlobalHistogramBinarizer=xe,l.GridSampler=Bi,l.GridSamplerInstance=En,l.HTMLCanvasElementLuminanceSource=Ce,l.HybridBinarizer=J,l.ITFReader=Ye,l.IllegalArgumentException=y,l.IllegalStateException=Ae,l.InvertedLuminanceSource=rt,l.LuminanceSource=Xe,l.MathUtils=Ne,l.MultiFormatOneDReader=Wn,l.MultiFormatReader=Co,l.MultiFormatWriter=Wc,l.NotFoundException=U,l.OneDReader=ft,l.PDF417DecodedBitStreamParser=H,l.PDF417DecoderErrorCorrection=go,l.PDF417Reader=Et,l.PDF417ResultMetadata=po,l.PerspectiveTransform=$t,l.PlanarYUVLuminanceSource=on,l.QRCodeByteMatrix=kr,l.QRCodeDataMask=Yt,l.QRCodeDecodedBitStreamParser=nt,l.QRCodeDecoderErrorCorrectionLevel=Ke,l.QRCodeDecoderFormatInformation=St,l.QRCodeEncoder=Qe,l.QRCodeEncoderQRCode=Dn,l.QRCodeMaskUtil=at,l.QRCodeMatrixUtil=me,l.QRCodeMode=he,l.QRCodeReader=Sn,l.QRCodeVersion=de,l.QRCodeWriter=Xn,l.RGBLuminanceSource=Ki,l.RSS14Reader=ot,l.RSSExpandedReader=q,l.ReaderException=Lr,l.ReedSolomonDecoder=ut,l.ReedSolomonEncoder=Zi,l.ReedSolomonException=pe,l.Result=We,l.ResultMetadataType=Ue,l.ResultPoint=ue,l.StringUtils=ae,l.UnsupportedOperationException=Ve,l.VideoInputDevice=Kt,l.WhiteRectangleDetector=hn,l.WriterException=qe,l.ZXingArrays=j,l.ZXingCharset=Eo,l.ZXingInteger=G,l.ZXingStandardCharsets=$i,l.ZXingStringBuilder=Ee,l.ZXingStringEncoding=ye,l.ZXingSystem=T,l.createAbstractExpandedDecoder=fo,Object.defineProperty(l,"__esModule",{value:!0})})})(Ms,Ms.exports);var Je=Ms.exports;const ug=Qc(Je),dg=Jc({__proto__:null,default:ug},[Je]);var Ea=function(){function i(s,l,d){if(this.formatMap=new Map([[ce.QR_CODE,Je.BarcodeFormat.QR_CODE],[ce.AZTEC,Je.BarcodeFormat.AZTEC],[ce.CODABAR,Je.BarcodeFormat.CODABAR],[ce.CODE_39,Je.BarcodeFormat.CODE_39],[ce.CODE_93,Je.BarcodeFormat.CODE_93],[ce.CODE_128,Je.BarcodeFormat.CODE_128],[ce.DATA_MATRIX,Je.BarcodeFormat.DATA_MATRIX],[ce.MAXICODE,Je.BarcodeFormat.MAXICODE],[ce.ITF,Je.BarcodeFormat.ITF],[ce.EAN_13,Je.BarcodeFormat.EAN_13],[ce.EAN_8,Je.BarcodeFormat.EAN_8],[ce.PDF_417,Je.BarcodeFormat.PDF_417],[ce.RSS_14,Je.BarcodeFormat.RSS_14],[ce.RSS_EXPANDED,Je.BarcodeFormat.RSS_EXPANDED],[ce.UPC_A,Je.BarcodeFormat.UPC_A],[ce.UPC_E,Je.BarcodeFormat.UPC_E],[ce.UPC_EAN_EXTENSION,Je.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!dg)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=l,this.logger=d;var c=this.createZXingFormats(s),h=new Map;h.set(Je.DecodeHintType.POSSIBLE_FORMATS,c),h.set(Je.DecodeHintType.TRY_HARDER,!1),this.hints=h}return i.prototype.decodeAsync=function(s){var l=this;return new Promise(function(d,c){try{d(l.decode(s))}catch(h){c(h)}})},i.prototype.decode=function(s){var l=new Je.MultiFormatReader(this.verbose,this.hints),d=new Je.HTMLCanvasElementLuminanceSource(s),c=new Je.BinaryBitmap(new Je.HybridBinarizer(d)),h=l.decode(c);return{text:h.text,format:Ql.create(this.toHtml5QrcodeSupportedFormats(h.format)),debugData:this.createDebugData()}},i.prototype.createReverseFormatMap=function(){var s=new Map;return this.formatMap.forEach(function(l,d,c){s.set(l,d)}),s},i.prototype.toHtml5QrcodeSupportedFormats=function(s){if(!this.reverseFormatMap.has(s))throw"reverseFormatMap doesn't have ".concat(s);return this.reverseFormatMap.get(s)},i.prototype.createZXingFormats=function(s){for(var l=[],d=0,c=s;d<c.length;d++){var h=c[d];this.formatMap.has(h)?l.push(this.formatMap.get(h)):this.logger.logError("".concat(h," is not supported by")+"ZXingHtml5QrcodeShim")}return l},i.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},i}(),fg=function(i,s,l,d){function c(h){return h instanceof l?h:new l(function(x){x(h)})}return new(l||(l=Promise))(function(h,x){function b(A){try{p(d.next(A))}catch(y){x(y)}}function w(A){try{p(d.throw(A))}catch(y){x(y)}}function p(A){A.done?h(A.value):c(A.value).then(b,w)}p((d=d.apply(i,s||[])).next())})},hg=function(i,s){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},d,c,h,x;return x={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function b(p){return function(A){return w([p,A])}}function w(p){if(d)throw new TypeError("Generator is already executing.");for(;x&&(x=0,p[0]&&(l=0)),l;)try{if(d=1,c&&(h=p[0]&2?c.return:p[0]?c.throw||((h=c.return)&&h.call(c),0):c.next)&&!(h=h.call(c,p[1])).done)return h;switch(c=0,h&&(p=[p[0]&2,h.value]),p[0]){case 0:case 1:h=p;break;case 4:return l.label++,{value:p[1],done:!1};case 5:l.label++,c=p[1],p=[0];continue;case 7:p=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(p[0]===6||p[0]===2)){l=0;continue}if(p[0]===3&&(!h||p[1]>h[0]&&p[1]<h[3])){l.label=p[1];break}if(p[0]===6&&l.label<h[1]){l.label=h[1],h=p;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(p);break}h[2]&&l.ops.pop(),l.trys.pop();continue}p=s.call(i,l)}catch(A){p=[6,A],c=0}finally{d=h=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Aa=function(){function i(s,l,d){if(this.formatMap=new Map([[ce.QR_CODE,"qr_code"],[ce.AZTEC,"aztec"],[ce.CODABAR,"codabar"],[ce.CODE_39,"code_39"],[ce.CODE_93,"code_93"],[ce.CODE_128,"code_128"],[ce.DATA_MATRIX,"data_matrix"],[ce.ITF,"itf"],[ce.EAN_13,"ean_13"],[ce.EAN_8,"ean_8"],[ce.PDF_417,"pdf417"],[ce.UPC_A,"upc_a"],[ce.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!i.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=l,this.logger=d;var c=this.createBarcodeDetectorFormats(s);if(this.detector=new BarcodeDetector(c),!this.detector)throw"BarcodeDetector detector not supported"}return i.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var s=new BarcodeDetector({formats:["qr_code"]});return typeof s<"u"},i.prototype.decodeAsync=function(s){return fg(this,void 0,void 0,function(){var l,d;return hg(this,function(c){switch(c.label){case 0:return[4,this.detector.detect(s)];case 1:if(l=c.sent(),!l||l.length===0)throw"No barcode or QR code detected.";return d=this.selectLargestBarcode(l),[2,{text:d.rawValue,format:Ql.create(this.toHtml5QrcodeSupportedFormats(d.format)),debugData:this.createDebugData()}]}})})},i.prototype.selectLargestBarcode=function(s){for(var l=null,d=0,c=0,h=s;c<h.length;c++){var x=h[c],b=x.boundingBox.width*x.boundingBox.height;b>d&&(d=b,l=x)}if(!l)throw"No largest barcode found";return l},i.prototype.createBarcodeDetectorFormats=function(s){for(var l=[],d=0,c=s;d<c.length;d++){var h=c[d];this.formatMap.has(h)?l.push(this.formatMap.get(h)):this.logger.warn("".concat(h," is not supported by")+"BarcodeDetectorDelegate")}return{formats:l}},i.prototype.toHtml5QrcodeSupportedFormats=function(s){if(!this.reverseFormatMap.has(s))throw"reverseFormatMap doesn't have ".concat(s);return this.reverseFormatMap.get(s)},i.prototype.createReverseFormatMap=function(){var s=new Map;return this.formatMap.forEach(function(l,d,c){s.set(l,d)}),s},i.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},i}(),ya=function(i,s,l,d){function c(h){return h instanceof l?h:new l(function(x){x(h)})}return new(l||(l=Promise))(function(h,x){function b(A){try{p(d.next(A))}catch(y){x(y)}}function w(A){try{p(d.throw(A))}catch(y){x(y)}}function p(A){A.done?h(A.value):c(A.value).then(b,w)}p((d=d.apply(i,s||[])).next())})},va=function(i,s){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},d,c,h,x;return x={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function b(p){return function(A){return w([p,A])}}function w(p){if(d)throw new TypeError("Generator is already executing.");for(;x&&(x=0,p[0]&&(l=0)),l;)try{if(d=1,c&&(h=p[0]&2?c.return:p[0]?c.throw||((h=c.return)&&h.call(c),0):c.next)&&!(h=h.call(c,p[1])).done)return h;switch(c=0,h&&(p=[p[0]&2,h.value]),p[0]){case 0:case 1:h=p;break;case 4:return l.label++,{value:p[1],done:!1};case 5:l.label++,c=p[1],p=[0];continue;case 7:p=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(p[0]===6||p[0]===2)){l=0;continue}if(p[0]===3&&(!h||p[1]>h[0]&&p[1]<h[3])){l.label=p[1];break}if(p[0]===6&&l.label<h[1]){l.label=h[1],h=p;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(p);break}h[2]&&l.ops.pop(),l.trys.pop();continue}p=s.call(i,l)}catch(A){p=[6,A],c=0}finally{d=h=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},gg=function(){function i(s,l,d,c){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=d,l&&Aa.isSupported()?(this.primaryDecoder=new Aa(s,d,c),this.secondaryDecoder=new Ea(s,d,c)):this.primaryDecoder=new Ea(s,d,c)}return i.prototype.decodeAsync=function(s){return ya(this,void 0,void 0,function(){var l;return va(this,function(d){switch(d.label){case 0:l=performance.now(),d.label=1;case 1:return d.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(s)];case 2:return[2,d.sent()];case 3:return this.possiblyLogPerformance(l),[7];case 4:return[2]}})})},i.prototype.decodeRobustlyAsync=function(s){return ya(this,void 0,void 0,function(){var l,d;return va(this,function(c){switch(c.label){case 0:l=performance.now(),c.label=1;case 1:return c.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(s)];case 2:return[2,c.sent()];case 3:if(d=c.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(s)];throw d;case 4:return this.possiblyLogPerformance(l),[7];case 5:return[2]}})})},i.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},i.prototype.possiblyLogPerformance=function(s){if(this.verbose){var l=performance.now()-s;this.executionResults.push(l),this.executions++,this.possiblyFlushPerformanceReport()}},i.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var s=0,l=0,d=this.executionResults;l<d.length;l++){var c=d[l];s+=c}var h=s/this.executionResults.length;console.log("".concat(h," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},i}(),to=function(){var i=function(s,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,c){d.__proto__=c}||function(d,c){for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(d[h]=c[h])},i(s,l)};return function(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");i(s,l);function d(){this.constructor=s}s.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}(),ci=function(i,s,l,d){function c(h){return h instanceof l?h:new l(function(x){x(h)})}return new(l||(l=Promise))(function(h,x){function b(A){try{p(d.next(A))}catch(y){x(y)}}function w(A){try{p(d.throw(A))}catch(y){x(y)}}function p(A){A.done?h(A.value):c(A.value).then(b,w)}p((d=d.apply(i,s||[])).next())})},ui=function(i,s){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},d,c,h,x;return x={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function b(p){return function(A){return w([p,A])}}function w(p){if(d)throw new TypeError("Generator is already executing.");for(;x&&(x=0,p[0]&&(l=0)),l;)try{if(d=1,c&&(h=p[0]&2?c.return:p[0]?c.throw||((h=c.return)&&h.call(c),0):c.next)&&!(h=h.call(c,p[1])).done)return h;switch(c=0,h&&(p=[p[0]&2,h.value]),p[0]){case 0:case 1:h=p;break;case 4:return l.label++,{value:p[1],done:!1};case 5:l.label++,c=p[1],p=[0];continue;case 7:p=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(p[0]===6||p[0]===2)){l=0;continue}if(p[0]===3&&(!h||p[1]>h[0]&&p[1]<h[3])){l.label=p[1];break}if(p[0]===6&&l.label<h[1]){l.label=h[1],h=p;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(p);break}h[2]&&l.ops.pop(),l.trys.pop();continue}p=s.call(i,l)}catch(A){p=[6,A],c=0}finally{d=h=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},ec=function(){function i(s,l){this.name=s,this.track=l}return i.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},i.prototype.apply=function(s){var l={};l[this.name]=s;var d={advanced:[l]};return this.track.applyConstraints(d)},i.prototype.value=function(){var s=this.track.getSettings();if(this.name in s){var l=s[this.name];return l}return null},i}(),xg=function(i){to(s,i);function s(l,d){return i.call(this,l,d)||this}return s.prototype.min=function(){return this.getCapabilities().min},s.prototype.max=function(){return this.getCapabilities().max},s.prototype.step=function(){return this.getCapabilities().step},s.prototype.apply=function(l){var d={};d[this.name]=l;var c={advanced:[d]};return this.track.applyConstraints(c)},s.prototype.getCapabilities=function(){this.failIfNotSupported();var l=this.track.getCapabilities(),d=l[this.name];return{min:d.min,max:d.max,step:d.step}},s.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},s}(ec),pg=function(i){to(s,i);function s(l){return i.call(this,"zoom",l)||this}return s}(xg),mg=function(i){to(s,i);function s(l){return i.call(this,"torch",l)||this}return s}(ec),wg=function(){function i(s){this.track=s}return i.prototype.zoomFeature=function(){return new pg(this.track)},i.prototype.torchFeature=function(){return new mg(this.track)},i}(),bg=function(){function i(s,l,d){this.isClosed=!1,this.parentElement=s,this.mediaStream=l,this.callbacks=d,this.surface=this.createVideoElement(this.parentElement.clientWidth),s.append(this.surface)}return i.prototype.createVideoElement=function(s){var l=document.createElement("video");return l.style.width="".concat(s,"px"),l.style.display="block",l.muted=!0,l.setAttribute("muted","true"),l.playsInline=!0,l},i.prototype.setupSurface=function(){var s=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var l=function(){var d=s.surface.clientWidth,c=s.surface.clientHeight;s.callbacks.onRenderSurfaceReady(d,c),s.surface.removeEventListener("playing",l)};this.surface.addEventListener("playing",l),this.surface.srcObject=this.mediaStream,this.surface.play()},i.create=function(s,l,d,c){return ci(this,void 0,void 0,function(){var h,x;return ui(this,function(b){switch(b.label){case 0:return h=new i(s,l,c),d.aspectRatio?(x={aspectRatio:d.aspectRatio},[4,h.getFirstTrackOrFail().applyConstraints(x)]):[3,2];case 1:b.sent(),b.label=2;case 2:return h.setupSurface(),[2,h]}})})},i.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},i.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},i.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},i.prototype.resume=function(s){this.failIfClosed();var l=this,d=function(){setTimeout(s,200),l.surface.removeEventListener("playing",d)};this.surface.addEventListener("playing",d),this.surface.play()},i.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},i.prototype.getSurface=function(){return this.failIfClosed(),this.surface},i.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},i.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},i.prototype.applyVideoConstraints=function(s){return ci(this,void 0,void 0,function(){return ui(this,function(l){if("aspectRatio"in s)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(s)]})})},i.prototype.close=function(){if(this.isClosed)return Promise.resolve();var s=this;return new Promise(function(l,d){var c=s.mediaStream.getVideoTracks(),h=c.length,x=0;s.mediaStream.getVideoTracks().forEach(function(b){s.mediaStream.removeTrack(b),b.stop(),++x,x>=h&&(s.isClosed=!0,s.parentElement.removeChild(s.surface),l())})})},i.prototype.getCapabilities=function(){return new wg(this.getFirstTrackOrFail())},i}(),Cg=function(){function i(s){this.mediaStream=s}return i.prototype.render=function(s,l,d){return ci(this,void 0,void 0,function(){return ui(this,function(c){return[2,bg.create(s,this.mediaStream,l,d)]})})},i.create=function(s){return ci(this,void 0,void 0,function(){var l,d;return ui(this,function(c){switch(c.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return l={audio:!1,video:s},[4,navigator.mediaDevices.getUserMedia(l)];case 1:return d=c.sent(),[2,new i(d)]}})})},i}(),Sa=function(i,s,l,d){function c(h){return h instanceof l?h:new l(function(x){x(h)})}return new(l||(l=Promise))(function(h,x){function b(A){try{p(d.next(A))}catch(y){x(y)}}function w(A){try{p(d.throw(A))}catch(y){x(y)}}function p(A){A.done?h(A.value):c(A.value).then(b,w)}p((d=d.apply(i,s||[])).next())})},Ia=function(i,s){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},d,c,h,x;return x={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function b(p){return function(A){return w([p,A])}}function w(p){if(d)throw new TypeError("Generator is already executing.");for(;x&&(x=0,p[0]&&(l=0)),l;)try{if(d=1,c&&(h=p[0]&2?c.return:p[0]?c.throw||((h=c.return)&&h.call(c),0):c.next)&&!(h=h.call(c,p[1])).done)return h;switch(c=0,h&&(p=[p[0]&2,h.value]),p[0]){case 0:case 1:h=p;break;case 4:return l.label++,{value:p[1],done:!1};case 5:l.label++,c=p[1],p=[0];continue;case 7:p=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(p[0]===6||p[0]===2)){l=0;continue}if(p[0]===3&&(!h||p[1]>h[0]&&p[1]<h[3])){l.label=p[1];break}if(p[0]===6&&l.label<h[1]){l.label=h[1],h=p;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(p);break}h[2]&&l.ops.pop(),l.trys.pop();continue}p=s.call(i,l)}catch(A){p=[6,A],c=0}finally{d=h=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Eg=function(){function i(){}return i.failIfNotSupported=function(){return Sa(this,void 0,void 0,function(){return Ia(this,function(s){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new i]})})},i.prototype.create=function(s){return Sa(this,void 0,void 0,function(){return Ia(this,function(l){return[2,Cg.create(s)]})})},i}(),Ag=function(i,s,l,d){function c(h){return h instanceof l?h:new l(function(x){x(h)})}return new(l||(l=Promise))(function(h,x){function b(A){try{p(d.next(A))}catch(y){x(y)}}function w(A){try{p(d.throw(A))}catch(y){x(y)}}function p(A){A.done?h(A.value):c(A.value).then(b,w)}p((d=d.apply(i,s||[])).next())})},yg=function(i,s){var l={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},d,c,h,x;return x={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function b(p){return function(A){return w([p,A])}}function w(p){if(d)throw new TypeError("Generator is already executing.");for(;x&&(x=0,p[0]&&(l=0)),l;)try{if(d=1,c&&(h=p[0]&2?c.return:p[0]?c.throw||((h=c.return)&&h.call(c),0):c.next)&&!(h=h.call(c,p[1])).done)return h;switch(c=0,h&&(p=[p[0]&2,h.value]),p[0]){case 0:case 1:h=p;break;case 4:return l.label++,{value:p[1],done:!1};case 5:l.label++,c=p[1],p=[0];continue;case 7:p=l.ops.pop(),l.trys.pop();continue;default:if(h=l.trys,!(h=h.length>0&&h[h.length-1])&&(p[0]===6||p[0]===2)){l=0;continue}if(p[0]===3&&(!h||p[1]>h[0]&&p[1]<h[3])){l.label=p[1];break}if(p[0]===6&&l.label<h[1]){l.label=h[1],h=p;break}if(h&&l.label<h[2]){l.label=h[2],l.ops.push(p);break}h[2]&&l.ops.pop(),l.trys.pop();continue}p=s.call(i,l)}catch(A){p=[6,A],c=0}finally{d=h=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},vg=function(){function i(){}return i.retrieve=function(){if(navigator.mediaDevices)return i.getCamerasFromMediaDevices();var s=MediaStreamTrack;return MediaStreamTrack&&s.getSources?i.getCamerasFromMediaStreamTrack():i.rejectWithError()},i.rejectWithError=function(){var s=Kn.unableToQuerySupportedDevices();return i.isHttpsOrLocalhost()||(s=Kn.insecureContextCameraQueryError()),Promise.reject(s)},i.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var s=location.host.split(":")[0];return s==="127.0.0.1"||s==="localhost"},i.getCamerasFromMediaDevices=function(){return Ag(this,void 0,void 0,function(){var s,l,d,c,h,x,b;return yg(this,function(w){switch(w.label){case 0:return s=function(p){for(var A=p.getVideoTracks(),y=0,P=A;y<P.length;y++){var B=P[y];B.enabled=!1,B.stop(),p.removeTrack(B)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return l=w.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(d=w.sent(),c=[],h=0,x=d;h<x.length;h++)b=x[h],b.kind==="videoinput"&&c.push({id:b.deviceId,label:b.label});return s(l),[2,c]}})})},i.getCamerasFromMediaStreamTrack=function(){return new Promise(function(s,l){var d=function(h){for(var x=[],b=0,w=h;b<w.length;b++){var p=w[b];p.kind==="video"&&x.push({id:p.id,label:p.label})}s(x)},c=MediaStreamTrack;c.getSources(d)})},i}(),lt;(function(i){i[i.UNKNOWN=0]="UNKNOWN",i[i.NOT_STARTED=1]="NOT_STARTED",i[i.SCANNING=2]="SCANNING",i[i.PAUSED=3]="PAUSED"})(lt||(lt={}));var Sg=function(){function i(){this.state=lt.NOT_STARTED,this.onGoingTransactionNewState=lt.UNKNOWN}return i.prototype.directTransition=function(s){this.failIfTransitionOngoing(),this.validateTransition(s),this.state=s},i.prototype.startTransition=function(s){return this.failIfTransitionOngoing(),this.validateTransition(s),this.onGoingTransactionNewState=s,this},i.prototype.execute=function(){if(this.onGoingTransactionNewState===lt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var s=this.onGoingTransactionNewState;this.onGoingTransactionNewState=lt.UNKNOWN,this.directTransition(s)},i.prototype.cancel=function(){if(this.onGoingTransactionNewState===lt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=lt.UNKNOWN},i.prototype.getState=function(){return this.state},i.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==lt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},i.prototype.validateTransition=function(s){switch(this.state){case lt.UNKNOWN:throw"Transition from unknown is not allowed";case lt.NOT_STARTED:this.failIfNewStateIs(s,[lt.PAUSED]);break;case lt.SCANNING:break;case lt.PAUSED:break}},i.prototype.failIfNewStateIs=function(s,l){for(var d=0,c=l;d<c.length;d++){var h=c[d];if(s===h)throw"Cannot transition from ".concat(this.state," to ").concat(s)}},i}(),Ig=function(){function i(s){this.stateManager=s}return i.prototype.startTransition=function(s){return this.stateManager.startTransition(s)},i.prototype.directTransition=function(s){this.stateManager.directTransition(s)},i.prototype.getState=function(){return this.stateManager.getState()},i.prototype.canScanFile=function(){return this.stateManager.getState()===lt.NOT_STARTED},i.prototype.isScanning=function(){return this.stateManager.getState()!==lt.NOT_STARTED},i.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===lt.SCANNING},i.prototype.isPaused=function(){return this.stateManager.getState()===lt.PAUSED},i}(),_g=function(){function i(){}return i.create=function(){return new Ig(new Sg)},i}(),Tg=function(){var i=function(s,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,c){d.__proto__=c}||function(d,c){for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(d[h]=c[h])},i(s,l)};return function(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");i(s,l);function d(){this.constructor=s}s.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}(),Ut=function(i){Tg(s,i);function s(){return i!==null&&i.apply(this,arguments)||this}return s.DEFAULT_WIDTH=300,s.DEFAULT_WIDTH_OFFSET=2,s.FILE_SCAN_MIN_HEIGHT=300,s.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,s.MIN_QR_BOX_SIZE=50,s.SHADED_LEFT=1,s.SHADED_RIGHT=2,s.SHADED_TOP=3,s.SHADED_BOTTOM=4,s.SHADED_REGION_ELEMENT_ID="qr-shaded-region",s.VERBOSE=!1,s.BORDER_SHADER_DEFAULT_COLOR="#ffffff",s.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",s}(ag),Og=function(){function i(s,l){this.logger=l,this.fps=Ut.SCAN_DEFAULT_FPS,s?(s.fps&&(this.fps=s.fps),this.disableFlip=s.disableFlip===!0,this.qrbox=s.qrbox,this.aspectRatio=s.aspectRatio,this.videoConstraints=s.videoConstraints):this.disableFlip=Ut.DEFAULT_DISABLE_FLIP}return i.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Jl.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},i.prototype.isShadedBoxEnabled=function(){return!gn(this.qrbox)},i.create=function(s,l){return new i(s,l)},i}(),Ng=function(){function i(s,l){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(s))throw"HTML Element with id=".concat(s," not found");this.elementId=s,this.verbose=!1;var d;typeof l=="boolean"?this.verbose=l===!0:l&&(d=l,this.verbose=d.verbose===!0,d.experimentalFeatures),this.logger=new cg(this.verbose),this.qrcode=new gg(this.getSupportedFormats(l),this.getUseBarCodeDetectorIfSupported(d),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=_g.create()}return i.prototype.start=function(s,l,d,c){var h=this;if(!s)throw"cameraIdOrConfig is required";if(!d||typeof d!="function")throw"qrCodeSuccessCallback is required and should be a function.";var x;c?x=c:x=this.verbose?this.logger.log:function(){};var b=Og.create(l,this.logger);this.clearElement();var w=!1;b.videoConstraints&&(b.isMediaStreamConstraintsValid()?w=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=w,A=document.getElementById(this.elementId);A.clientWidth?A.clientWidth:Ut.DEFAULT_WIDTH,A.style.position="relative",this.shouldScan=!0,this.element=A;var y=this,P=this.stateManagerProxy.startTransition(lt.SCANNING);return new Promise(function(B,R){var T=p?b.videoConstraints:y.createVideoConstraints(s);if(!T){P.cancel(),R("videoConstraints should be defined");return}var M={};(!p||b.aspectRatio)&&(M.aspectRatio=b.aspectRatio);var k={onRenderSurfaceReady:function(j,G){y.setupUi(j,G,b),y.isScanning=!0,y.foreverScan(b,d,x)}};Eg.failIfNotSupported().then(function(j){j.create(T).then(function(G){return G.render(h.element,M,k).then(function(Y){y.renderedCamera=Y,P.execute(),B(null)}).catch(function(Y){P.cancel(),R(Y)})}).catch(function(G){P.cancel(),R(Kn.errorGettingUserMedia(G))})}).catch(function(j){P.cancel(),R(Kn.cameraStreamingNotSupported())})})},i.prototype.pause=function(s){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(lt.PAUSED),this.showPausedState(),(gn(s)||s!==!0)&&(s=!1),s&&this.renderedCamera&&this.renderedCamera.pause()},i.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var s=this,l=function(){s.stateManagerProxy.directTransition(lt.SCANNING),s.hidePausedState()};if(!this.renderedCamera.isPaused()){l();return}this.renderedCamera.resume(function(){l()})},i.prototype.getState=function(){return this.stateManagerProxy.getState()},i.prototype.stop=function(){var s=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var l=this.stateManagerProxy.startTransition(lt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var d=function(){if(s.element){var h=document.getElementById(Ut.SHADED_REGION_ELEMENT_ID);h&&s.element.removeChild(h)}},c=this;return this.renderedCamera.close().then(function(){return c.renderedCamera=null,c.element&&(c.element.removeChild(c.canvasElement),c.canvasElement=null),d(),c.qrRegion&&(c.qrRegion=null),c.context&&(c.context=null),l.execute(),c.hidePausedState(),c.isScanning=!1,Promise.resolve()})},i.prototype.scanFile=function(s,l){return this.scanFileV2(s,l).then(function(d){return d.decodedText})},i.prototype.scanFileV2=function(s,l){var d=this;if(!s||!(s instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(gn(l)&&(l=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(c,h){d.possiblyCloseLastScanImageFile(),d.clearElement(),d.lastScanImageFile=URL.createObjectURL(s);var x=new Image;x.onload=function(){var b=x.width,w=x.height,p=document.getElementById(d.elementId),A=p.clientWidth?p.clientWidth:Ut.DEFAULT_WIDTH,y=Math.max(p.clientHeight?p.clientHeight:w,Ut.FILE_SCAN_MIN_HEIGHT),P=d.computeCanvasDrawConfig(b,w,A,y);if(l){var B=d.createCanvasElement(A,y,"qr-canvas-visible");B.style.display="inline-block",p.appendChild(B);var R=B.getContext("2d");if(!R)throw"Unable to get 2d context from canvas";R.canvas.width=A,R.canvas.height=y,R.drawImage(x,0,0,b,w,P.x,P.y,P.width,P.height)}var T=Ut.FILE_SCAN_HIDDEN_CANVAS_PADDING,M=Math.max(x.width,P.width),k=Math.max(x.height,P.height),j=M+2*T,G=k+2*T,Y=d.createCanvasElement(j,G);p.appendChild(Y);var ie=Y.getContext("2d");if(!ie)throw"Unable to get 2d context from canvas";ie.canvas.width=j,ie.canvas.height=G,ie.drawImage(x,0,0,b,w,T,T,M,k);try{d.qrcode.decodeRobustlyAsync(Y).then(function($){c(Ca.createFromQrcodeResult($))}).catch(h)}catch($){h("QR code parse error, error = ".concat($))}},x.onerror=h,x.onabort=h,x.onstalled=h,x.onsuspend=h,x.src=URL.createObjectURL(s)})},i.prototype.clear=function(){this.clearElement()},i.getCameras=function(){return vg.retrieve()},i.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},i.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},i.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},i.prototype.applyVideoConstraints=function(s){if(s){if(!Jl.isMediaStreamConstraintsValid(s,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(s)},i.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},i.prototype.getSupportedFormats=function(s){var l=[ce.QR_CODE,ce.AZTEC,ce.CODABAR,ce.CODE_39,ce.CODE_93,ce.CODE_128,ce.DATA_MATRIX,ce.MAXICODE,ce.ITF,ce.EAN_13,ce.EAN_8,ce.PDF_417,ce.RSS_14,ce.RSS_EXPANDED,ce.UPC_A,ce.UPC_E,ce.UPC_EAN_EXTENSION];if(!s||typeof s=="boolean"||!s.formatsToSupport)return l;if(!Array.isArray(s.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(s.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var d=[],c=0,h=s.formatsToSupport;c<h.length;c++){var x=h[c];og(x)?d.push(x):this.logger.warn("Invalid format: ".concat(x," passed in config, ignoring."))}if(d.length===0)throw"None of formatsToSupport match supported values.";return d},i.prototype.getUseBarCodeDetectorIfSupported=function(s){if(gn(s))return!0;if(!gn(s.useBarCodeDetectorIfSupported))return s.useBarCodeDetectorIfSupported!==!1;if(gn(s.experimentalFeatures))return!0;var l=s.experimentalFeatures;return gn(l.useBarCodeDetectorIfSupported)?!0:l.useBarCodeDetectorIfSupported!==!1},i.prototype.validateQrboxSize=function(s,l,d){var c=this,h=d.qrbox;this.validateQrboxConfig(h);var x=this.toQrdimensions(s,l,h),b=function(p){if(p<Ut.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Ut.MIN_QR_BOX_SIZE,"px.")},w=function(p){return p>s&&(c.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=s),p};b(x.width),b(x.height),x.width=w(x.width)},i.prototype.validateQrboxConfig=function(s){if(typeof s!="number"&&typeof s!="function"&&(s.width===void 0||s.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},i.prototype.toQrdimensions=function(s,l,d){if(typeof d=="number")return{width:d,height:d};if(typeof d=="function")try{return d(s,l)}catch(c){throw new Error("qrbox config was passed as a function but it failed with unknown error"+c)}return d},i.prototype.setupUi=function(s,l,d){d.isShadedBoxEnabled()&&this.validateQrboxSize(s,l,d);var c=gn(d.qrbox)?{width:s,height:l}:d.qrbox;this.validateQrboxConfig(c);var h=this.toQrdimensions(s,l,c);h.height>l&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var x=d.isShadedBoxEnabled()&&h.height<=l,b={x:0,y:0,width:s,height:l},w=x?this.getShadedRegionBounds(s,l,h):b,p=this.createCanvasElement(w.width,w.height),A={willReadFrequently:!0},y=p.getContext("2d",A);y.canvas.width=w.width,y.canvas.height=w.height,this.element.append(p),x&&this.possiblyInsertShadingElement(this.element,s,l,h),this.createScannerPausedUiElement(this.element),this.qrRegion=w,this.context=y,this.canvasElement=p},i.prototype.createScannerPausedUiElement=function(s){var l=document.createElement("div");l.innerText=Kn.scannerPaused(),l.style.display="none",l.style.position="absolute",l.style.top="0px",l.style.zIndex="1",l.style.background="rgba(9, 9, 9, 0.46)",l.style.color="#FFECEC",l.style.textAlign="center",l.style.width="100%",s.appendChild(l),this.scannerPausedUiElement=l},i.prototype.scanContext=function(s,l){var d=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(c){return s(c.text,Ca.createFromQrcodeResult(c)),d.possiblyUpdateShaders(!0),!0}).catch(function(c){d.possiblyUpdateShaders(!1);var h=Kn.codeParseError(c);return l(h,lg.createFrom(h)),!1})},i.prototype.foreverScan=function(s,l,d){var c=this;if(this.shouldScan&&this.renderedCamera){var h=this.renderedCamera.getSurface(),x=h.videoWidth/h.clientWidth,b=h.videoHeight/h.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var w=this.qrRegion.width*x,p=this.qrRegion.height*b,A=this.qrRegion.x*x,y=this.qrRegion.y*b;this.context.drawImage(h,A,y,w,p,0,0,this.qrRegion.width,this.qrRegion.height);var P=function(){c.foreverScanTimeout=setTimeout(function(){c.foreverScan(s,l,d)},c.getTimeoutFps(s.fps))};this.scanContext(l,d).then(function(B){!B&&s.disableFlip!==!0?(c.context.translate(c.context.canvas.width,0),c.context.scale(-1,1),c.scanContext(l,d).finally(function(){P()})):P()}).catch(function(B){c.logger.logError("Error happend while scanning context",B),P()})}},i.prototype.createVideoConstraints=function(s){if(typeof s=="string")return{deviceId:{exact:s}};if(typeof s=="object"){var l="facingMode",d="deviceId",c={user:!0,environment:!0},h="exact",x=function(R){if(R in c)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(R,"'")},b=Object.keys(s);if(b.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(b.length," keys");var w=Object.keys(s)[0];if(w!==l&&w!==d)throw"Only '".concat(l,"' and '").concat(d,"' ")+" are supported for 'cameraIdOrConfig'";if(w===l){var p=s.facingMode;if(typeof p=="string"){if(x(p))return{facingMode:p}}else if(typeof p=="object")if(h in p){if(x(p["".concat(h)]))return{facingMode:{exact:p["".concat(h)]}}}else throw"'facingMode' should be string or object with"+" ".concat(h," as key.");else{var A=typeof p;throw"Invalid type of 'facingMode' = ".concat(A)}}else{var y=s.deviceId;if(typeof y=="string")return{deviceId:y};if(typeof y=="object"){if(h in y)return{deviceId:{exact:y["".concat(h)]}};throw"'deviceId' should be string or object with"+" ".concat(h," as key.")}else{var P=typeof y;throw"Invalid type of 'deviceId' = ".concat(P)}}}var B=typeof s;throw"Invalid type of 'cameraIdOrConfig' = ".concat(B)},i.prototype.computeCanvasDrawConfig=function(s,l,d,c){if(s<=d&&l<=c){var h=(d-s)/2,x=(c-l)/2;return{x:h,y:x,width:s,height:l}}else{var b=s,w=l;return s>d&&(l=d/s*l,s=d),l>c&&(s=c/l*s,l=c),this.logger.log("Image downsampled from "+"".concat(b,"X").concat(w)+" to ".concat(s,"X").concat(l,".")),this.computeCanvasDrawConfig(s,l,d,c)}},i.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var s=document.getElementById(this.elementId);s&&(s.innerHTML="")},i.prototype.possiblyUpdateShaders=function(s){this.qrMatch!==s&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(l){l.style.backgroundColor=s?Ut.BORDER_SHADER_MATCH_COLOR:Ut.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=s)},i.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},i.prototype.createCanvasElement=function(s,l,d){var c=s,h=l,x=document.createElement("canvas");return x.style.width="".concat(c,"px"),x.style.height="".concat(h,"px"),x.style.display="none",x.id=gn(d)?"qr-canvas":d,x},i.prototype.getShadedRegionBounds=function(s,l,d){if(d.width>s||d.height>l)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(s-d.width)/2,y:(l-d.height)/2,width:d.width,height:d.height}},i.prototype.possiblyInsertShadingElement=function(s,l,d,c){if(!(l-c.width<1||d-c.height<1)){var h=document.createElement("div");h.style.position="absolute";var x=(l-c.width)/2,b=(d-c.height)/2;if(h.style.borderLeft="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderRight="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderTop="".concat(b,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderBottom="".concat(b,"px solid rgba(0, 0, 0, 0.48)"),h.style.boxSizing="border-box",h.style.top="0px",h.style.bottom="0px",h.style.left="0px",h.style.right="0px",h.id="".concat(Ut.SHADED_REGION_ELEMENT_ID),l-c.width<11||d-c.height<11)this.hasBorderShaders=!1;else{var w=5,p=40;this.insertShaderBorders(h,p,w,-w,null,0,!0),this.insertShaderBorders(h,p,w,-w,null,0,!1),this.insertShaderBorders(h,p,w,null,-w,0,!0),this.insertShaderBorders(h,p,w,null,-w,0,!1),this.insertShaderBorders(h,w,p+w,-w,null,-w,!0),this.insertShaderBorders(h,w,p+w,null,-w,-w,!0),this.insertShaderBorders(h,w,p+w,-w,null,-w,!1),this.insertShaderBorders(h,w,p+w,null,-w,-w,!1),this.hasBorderShaders=!0}s.append(h)}},i.prototype.insertShaderBorders=function(s,l,d,c,h,x,b){var w=document.createElement("div");w.style.position="absolute",w.style.backgroundColor=Ut.BORDER_SHADER_DEFAULT_COLOR,w.style.width="".concat(l,"px"),w.style.height="".concat(d,"px"),c!==null&&(w.style.top="".concat(c,"px")),h!==null&&(w.style.bottom="".concat(h,"px")),b?w.style.left="".concat(x,"px"):w.style.right="".concat(x,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(w),s.appendChild(w)},i.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},i.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},i.prototype.getTimeoutFps=function(s){return 1e3/s},i}(),_a;(function(i){i[i.STATUS_DEFAULT=0]="STATUS_DEFAULT",i[i.STATUS_SUCCESS=1]="STATUS_SUCCESS",i[i.STATUS_WARNING=2]="STATUS_WARNING",i[i.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(_a||(_a={}));const Rg=({onScanSuccess:i,onScanError:s,onScanCancel:l})=>{const[d,c]=O.useState(!1),h=async(b,w,p={})=>{try{const A=await b.scanFile(w,!0,p);return console.log("Scan attempt succeeded:",A),A}catch(A){throw console.log("Scan attempt failed:",A),A}},x=async b=>{const w=b.target.files[0];if(!w)return;c(!0);const p=new Ng("qr-reader");try{const A=[{},{bindSearchRegion:!0,maxLength:512,minLength:1},{returnDetailedScanResult:!0,maxLength:512,minLength:1},{experimentalFeatures:{useBarCodeDetectorIfSupported:!1},maxLength:512,minLength:1}];for(let y=0;y<A.length;y++)try{console.log(`Attempting scan with config ${y+1}:`,A[y]);const P=await h(p,w,A[y]);if(P){p.clear(),i(P);return}}catch(P){console.log(`Config ${y+1} failed:`,P)}throw new Error("Unable to scan QR code with any configuration")}catch(A){console.error("Final error:",A),s(A)}finally{try{await p.clear()}catch(A){console.error("Error clearing scanner:",A)}c(!1)}};return _.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:_.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-md w-full",children:[_.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Scan QR Code"}),_.jsxs("div",{className:"space-y-4",children:[_.jsx("div",{id:"qr-reader",style:{display:"none"}}),_.jsx("div",{className:"flex flex-col items-center",children:_.jsxs("label",{className:"w-full flex flex-col items-center px-4 py-6 bg-coral text-blue rounded-lg shadow-lg tracking-wide uppercase border border-blue cursor-pointer hover:bg-blue hover:text-white",children:[_.jsx("span",{className:"mt-2 text-base leading-normal",children:"Select an image"}),_.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:x,disabled:d})]})}),d&&_.jsx("div",{className:"text-center text-gray-600",children:"Processing image..."}),_.jsx("button",{onClick:l,className:"w-full mt-4 px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300",children:"Cancel"})]})]})})},It={coral:"#F38181",teal:"#4ECAC7",yellow:"#FEC43C"};function Mg(){const[i,s]=O.useState(""),[l,d]=O.useState([]),[c,h]=O.useState([]),[x,b]=O.useState(""),[w,p]=O.useState(""),[A,y]=O.useState(null),[P,B]=O.useState(""),[R,T]=O.useState([]),[M,k]=O.useState(""),[j,G]=O.useState(null);O.useState([]);const[Y,ie]=O.useState([]),[$,L]=O.useState(!1),[K,z]=O.useState(!1),[Ve,ye]=O.useState(!1),[ae,Ee]=O.useState(!1),[_e,U]=O.useState([]),[xe,J]=O.useState(!1),{language:Xe,toggleLanguage:rt}=Ir(),Ce=_r(Xe);O.useEffect(()=>{(async()=>{try{const[Q,pe,Ae]=await Promise.all([ng(),pa(),fs()]);d(Q),h(pe),T(Ae)}catch(Q){console.error("Error loading initial data:",Q)}})()},[]),O.useEffect(()=>{(async()=>{try{let Q=null;i==="return"?Q=M||null:i==="borrow"&&(Q=w||null);const pe=await pr(Q,$),Ae=await Promise.all(pe.map(async ut=>{try{const et=await ma(ut.id);return{...ut,last_reminder_date:et?et.sent_at:null}}catch(et){return console.error(`Failed to fetch reminder for loan_id ${ut.id}:`,et),{...ut,last_reminder_date:null}}}));ie(it(Ae))}catch(Q){console.error("Error fetching loan history:",Q),ie([])}})()},[$,i,M,w]);const Kt=l.map(re=>({value:re.id,label:re.parent_name})),Te=c.map(re=>({value:re.qr_code,label:re.title})),$e=async()=>{J(!0);try{const re=await Promise.all(_e.map(async Ae=>{try{const ut=await sg(Ae.id,"Book Return Reminder",{borrower_name:Ae.borrower_name,book_title:Ae.book_title,borrowed_at:Ae.borrowed_at});if(ut.success){console.log(`Reminder sent successfully for loan_id: ${Ae.id}`);const et=new Date().toISOString().slice(0,19).replace("T"," ");ie(Ne=>Ne.map(Xt=>Xt.id===Ae.id?{...Xt,last_reminder_date:et}:Xt));const Pe=await ma(Ae.id);Pe!=null&&Pe.sent_at&&ie(Ne=>Ne.map(Xt=>Xt.id===Ae.id?{...Xt,last_reminder_date:Pe.sent_at}:Xt))}else console.error(`Failed to send reminder for loan_id: ${Ae.id} - ${ut.error}`);return{success:ut.success,loanId:Ae.id,error:ut.error}}catch(ut){return console.error(`Error sending reminder for loan_id ${Ae.id}:`,ut),{success:!1,loanId:Ae.id,error:ut.message}}})),Q=re.filter(Ae=>Ae.success).length,pe=re.filter(Ae=>!Ae.success);if(Q>0&&alert(`Sent ${Q} reminders successfully!`),pe.length>0){const Ae=pe.map(ut=>`Loan ID: ${ut.loanId} - ${ut.error}`).join(`
`);alert(`Failed to send ${pe.length} reminders.

${Ae}`)}U([]),Ee(!1)}catch(re){console.error("Failed to send reminders:",re),alert("Failed to send reminders. Please check your email service configuration.")}finally{J(!1)}},We=async re=>{const Q=re.target.checked;L(Q);try{let pe=null;i==="return"?pe=M||null:i==="borrow"&&(pe=w||null);const Ae=await pr(pe,Q);ie(it(Ae))}catch(pe){console.error("Error fetching loan history:",pe),ie([])}},ee=async()=>{ye(!0),z(!0)},oe=async re=>{try{console.log("Handling scan result..."),z(!1),ye(!0);const Q=await tg(re);if(Q)if(i==="borrow"?(p(re),y(Q)):i==="return"&&(k(re),G(Q),y(Q),G(Q)),B(Q.delivery_status),Q.loan_status==="borrowed"){const pe=await pr(re);if(pe&&pe.length>0){const Ae=pe[0];alert(`The book "${Q.title}" was borrowed by ${Ae.borrower_name} on ${Ae.borrowed_at}.`)}else alert(`The book "${Q.title}" is marked as borrowed, but no loan history is available.`)}else alert(`The book "${Q.title}" is available.`);else alert("Book not found for the given QR code.")}catch(Q){console.error("Error processing scan result:",Q),alert("An error occurred while processing the QR code.")}finally{ye(!1)}},Nt=re=>{console.error("QR Scan Error:",re),z(!1),ye(!1),alert("Failed to scan QR code. Please try again.")},Ue=()=>{z(!1),ye(!1)},Gt=async()=>{if(x&&A&&P)try{if((await rg(A.qr_code,x.id,P)).message){alert("Book borrowed successfully!"),y(null),b(null),B("");const Q=await pa(),pe=await fs(),Ae=await pr(null,$);h(Q),T(pe),ie(it(Ae))}else alert("Error borrowing book.")}catch(re){console.error("Failed to borrow book:",re)}else alert("Please select a borrower, book, and book state.")},fn=async()=>{if(!M){alert("Please select a book to return.");return}try{if((await ig(M)).success){alert("Book returned successfully!"),G(null),k(""),y(null),B("");const Q=await fs(),pe=await pr(null,$);T(Q),ie(it(pe))}else alert("Failed to return the book. Please try again.")}catch(re){console.error("Error returning book:",re),alert("An error occurred while returning the book. Please try again.")}},it=re=>re.sort((Q,pe)=>!Q.return_date&&pe.return_date?-1:Q.return_date&&!pe.return_date?1:new Date(pe.loan_start_date)-new Date(Q.loan_start_date));return _.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6",children:[K&&_.jsx("div",{className:"scanner-modal",children:_.jsx(Rg,{onScanSuccess:oe,onScanError:Nt,onScanCancel:Ue})}),_.jsxs("div",{className:"flex gap-4 mb-4",children:[_.jsx("div",{className:"absolute top-4 left-4",children:_.jsx("button",{className:"w-12 h-12 flex items-center justify-center rounded-full border border-teal-500 bg-white text-teal-500 shadow-md",onClick:rt,children:Xe==="en"?"HE":"EN"})}),_.jsx("button",{className:`flex-1 py-2 px-4 rounded ${i==="borrow"?"text-white":"text-gray-800"}`,style:{backgroundColor:i==="borrow"?It.coral:"transparent",borderColor:It.coral,borderWidth:"1px"},onClick:()=>s("borrow"),children:Ce.borrow}),_.jsx("button",{className:`flex-1 py-2 px-4 rounded ${i==="return"?"text-white":"text-gray-800"}`,style:{backgroundColor:i==="return"?It.coral:"transparent",borderColor:It.coral,borderWidth:"1px"},onClick:()=>s("return"),children:Ce.return})]}),i==="borrow"&&_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"flex gap-4",children:[_.jsx(xa,{options:Kt,placeholder:Ce.borrower,value:x?{value:x.id,label:x.parent_name}:null,onChange:re=>{if(re){const Q=l.find(pe=>pe.id===re.value);b(Q)}else b(null)},isClearable:!0,styles:{control:re=>({...re,borderColor:It.coral,borderRadius:"4px",boxShadow:"none","&:hover":{borderColor:It.teal}})},className:"w-full",classNamePrefix:"borrower-select"}),_.jsx(xa,{options:Te,placeholder:Ce.Select_Book,value:A?{value:A.qr_code,label:A.title}:null,onChange:re=>{if(re){const Q=c.find(pe=>pe.qr_code===re.value);y(Q),p(re.value),Q&&B(Q.delivery_status||"")}else y(null),p("")},isClearable:!0,styles:{control:re=>({...re,borderColor:It.coral,borderRadius:"4px",boxShadow:"none","&:hover":{borderColor:It.teal}})},className:"w-full",classNamePrefix:"book-select"})]}),A&&_.jsxs("select",{className:"w-full p-2 border rounded mt-2",style:{borderColor:It.coral},onChange:re=>B(re.target.value),value:P,children:[_.jsx("option",{value:"",children:Ce.Select_Book_State}),_.jsx("option",{value:"כמו חדש",children:"כמו חדש"}),_.jsx("option",{value:"מצויין - בלאי בלתי מורגש",children:"מצויין - בלאי בלתי מורגש"}),_.jsx("option",{value:"טוב - בלאי קל",children:"טוב - בלאי קל"})]}),A&&_.jsxs("div",{className:"bg-gray-100 p-4 rounded mt-4",children:[_.jsx("h3",{className:"font-bold text-lg",children:A.title}),_.jsxs("p",{className:"text-sm",children:[Ce.author,": ",A.author]}),_.jsxs("p",{className:"text-sm",children:[Ce.year_of_publication,": ",A.year_of_publication]}),_.jsxs("p",{className:"text-sm",children:[Ce.cover_type,": ",A.cover_type]}),_.jsxs("p",{className:"text-sm",children:[Ce.pages,": ",A.pages]}),_.jsxs("p",{className:"text-sm",children:[Ce.recommended_age,": ",A.recommended_age]}),_.jsxs("p",{className:"text-sm",children:[Ce.Select_Book_State,": ",A.book_condition]})]}),_.jsxs("button",{className:"w-full flex items-center justify-center py-2 px-4 rounded text-white",style:{backgroundColor:It.coral},onClick:ee,children:[_.jsx(Ns,{className:"w-4 h-4 mr-2"}),Ce.ScanQR]}),_.jsx("button",{className:"w-full py-2 px-4 rounded text-white mt-2",style:{backgroundColor:It.coral},onClick:Gt,children:Ce.borrow}),_.jsx("div",{className:`loan-history-container ${Xe==="he"?"rtl":""}`,children:Y.map(re=>_.jsxs("div",{className:`loan-history-card ${re.returned_at?"":"active-loan flex items-center"} ${Xe==="he"?"rtl":""}`,children:[_.jsx("div",{className:"loan-history-card-title",children:re.book_title}),_.jsxs("div",{className:"loan-history-card-detail",children:[Ce.borrowed_by,": ",re.borrower_name]}),_.jsxs("div",{className:"loan-history-card-detail",children:[Ce.borrow_date,": ",re.borrowed_at]}),_.jsxs("div",{className:"loan-history-card-detail",children:[Ce.return_date,": ",re.returned_at||"Not Returned"]}),_.jsxs("div",{className:"loan-history-card-detail",children:[Ce.delivery_status,": ",re.book_state||"N/A"]})]},re.id))})]}),i==="return"&&_.jsxs("div",{className:"mt-6",children:[_.jsx("div",{className:"mt-4",children:_.jsxs("select",{value:M||"",onChange:re=>{const Q=re.target.value;k(Q);const pe=R.find(Ae=>Ae.qr_code===Q);pe&&(y(pe),B(pe.delivery_status||""))},className:"w-full p-2 border rounded",style:{borderColor:It.coral},children:[_.jsx("option",{value:"",children:Ce.Select_Book}),R.map(re=>_.jsx("option",{value:re.qr_code,children:re.title},re.qr_code))]})}),_.jsxs("div",{className:"mt-4",children:[_.jsxs("button",{className:"w-full flex items-center justify-center py-2 px-4 rounded text-white",style:{backgroundColor:It.coral},onClick:ee,children:[_.jsx(Ns,{className:"w-4 h-4 mr-2"}),Ce.ScanQR]}),_.jsx("button",{className:"w-full py-2 px-4 rounded text-white mt-2",style:{backgroundColor:It.coral},onClick:fn,disabled:!j,children:Ce.return}),_.jsxs("button",{className:"w-full flex items-center justify-center py-2 px-4 rounded text-white mt-2",style:{backgroundColor:It.teal},onClick:()=>Ee(!ae),children:[_.jsx(Jh,{className:"w-4 h-4 mr-2"}),Ce.SendReminders]})]}),_.jsx("div",{className:"flex items-center my-4",children:_.jsxs("label",{className:"ml-4 flex items-center",children:[_.jsx("input",{id:"checkbox_showall",type:"checkbox",checked:$,onChange:We,className:"mr-2"}),Ce.ShowAllLoans]})}),ae&&Y.filter(re=>!re.returned_at).length>0&&_.jsxs("div",{className:"reminder-section bg-gray-100 p-4 rounded-lg mb-4",children:[_.jsxs("div",{className:"flex items-center justify-between mb-2",children:[_.jsx("h3",{className:"text-lg font-semibold",children:"Send Reminders"}),_.jsxs("label",{className:"flex items-center",children:[_.jsx("input",{type:"checkbox",checked:_e.length===Y.filter(re=>!re.returned_at).length,onChange:re=>{if(re.target.checked){const Q=Y.filter(pe=>!pe.returned_at);U(Q)}else U([])},className:"mr-2"}),"Select All"]})]}),_.jsx("button",{className:"w-full py-2 px-4 rounded text-white",style:{backgroundColor:It.coral},onClick:$e,disabled:_e.length===0||xe,children:xe?"Sending...":`Send ${_e.length} Reminders`})]}),Y.length>0&&_.jsx("div",{className:`loan-history-container ${Xe==="he"?"rtl":""}`,children:Y.map(re=>_.jsxs("div",{className:`loan-history-card ${re.returned_at?"":"active-loan"} ${Xe==="he"?"rtl":""}`,onClick:()=>{if(!re.returned_at){console.log("Current loan:",re),console.log("All borrowed books:",R);const Q=R.find(pe=>(console.log("Comparing book:",{"loan book_id":re.book_id,"book id":pe.id,match:pe.id===re.book_id}),pe.id===re.book_id));console.log("Matching book result:",Q),Q?(G(Q),k(Q.qr_code),y(Q),B(Q.delivery_status||"")):alert("Book not found in borrowed books."),window.scrollTo({top:0,behavior:"smooth"})}},style:{cursor:"pointer"},children:[ae&&!re.returned_at&&_.jsx("input",{type:"checkbox",checked:_e.some(Q=>Q.id===re.id),onChange:Q=>{Q.target.checked?U([..._e,re]):U(_e.filter(pe=>pe.id!==re.id)),Q.stopPropagation()},className:"mr-2 ml-2 flex-shrink-0"}),_.jsxs("div",{className:"flex-grow",children:[_.jsx("div",{className:"loan-history-card-title",children:re.book_title}),_.jsxs("div",{className:"loan-history-card-detail",children:[Ce.borrowed_by,": ",re.borrower_name]}),_.jsxs("div",{className:"loan-history-card-detail",children:[Ce.borrow_date,": ",re.borrowed_at]}),_.jsxs("div",{className:"loan-history-card-detail",children:[Ce.return_date,": ",re.returned_at||"Not Returned"]}),_.jsxs("div",{className:"loan-history-card-detail",children:[Ce.delivery_status,": ",re.book_state||"N/A"]}),_.jsxs("div",{className:"loan-history-card-detail",children:[Ce.last_reminder,": ",re.last_reminder_date||"No Reminders Sent"]})]})]},re.id))})]})]})}const tc=navigator.language||"en-US",Dg=async(i="desc",s="title",l=!0)=>{try{const d=new URLSearchParams({order_by:i,sort_column:s,include_history:l.toString()});return(await He.get(`${tn}/api/generate_books_report?${d.toString()}`,{headers:{"Accept-Language":tc},responseType:"blob"})).data}catch(d){throw console.error("Error generating books report:",d),d}},Pg=async(i="desc",s="title",l=!1)=>{try{const d=new URLSearchParams({order_by:i,sort_column:s,include_borrowed:l.toString()});return(await He.get(`${tn}/api/generate_inventory_report?${d.toString()}`,{headers:{"Accept-Language":tc},responseType:"blob"})).data}catch(d){throw console.error("Error generating inventory report:",d),d}},Bg=()=>{const{language:i,toggleLanguage:s}=Ir(),l=_r(i),[d,c]=O.useState(!1),[h,x]=O.useState(!0),[b,w]=O.useState("desc"),[p,A]=O.useState(""),[y,P]=O.useState(""),B={inventory:[{value:"title",label:l.book_title},{value:"author",label:l.author},{value:"id",label:l.id},{value:"loan_status",label:l.loan_status}],loans:[{value:"title",label:l.book_title},{value:"author",label:l.author},{value:"id",label:l.id}]},R=async()=>{try{let T;y==="inventory"?T=await Pg(b,p,h):y==="loans"&&(T=await Dg(b,p,d));const M=window.URL.createObjectURL(new Blob([T])),k=document.createElement("a");k.href=M,k.setAttribute("download",`${y}_report.xlsx`),document.body.appendChild(k),k.click()}catch(T){console.error("Error generating report:",T),alert(l.error_generating_report)}};return _.jsxs("div",{className:`report-container ${i==="he"?"rtl":""}`,children:[_.jsx("button",{className:"w-12 h-12 flex items-center justify-center rounded-full border border-teal-500 bg-white text-teal-500 shadow-md absolute top-4 left-4",onClick:s,children:i==="en"?"HE":"EN"}),_.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-md",children:[_.jsxs("div",{className:"flex items-center justify-center mb-4",children:[_.jsx(Zh,{className:"w-6 h-6 mr-2 text-teal-500"}),_.jsx("h2",{className:"text-xl font-bold text-gray-800",children:l.reports})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[_.jsxs("h3",{className:"text-md font-semibold text-teal-600 mb-3 flex items-center",children:[_.jsx($h,{className:"w-4 h-4 mr-2"}),l.select_report_type]}),_.jsx("div",{className:"space-y-2",children:["inventory","loans"].map(T=>_.jsx("button",{onClick:()=>P(T),className:`w-full p-2 rounded-lg text-left text-sm ${y===T?"bg-teal-500 text-white shadow-md":"bg-white text-gray-700 hover:bg-gray-100 border border-gray-200"}`,children:T==="inventory"?l.inventory_report:l.loans_report},T))})]}),_.jsx("div",{className:`bg-white p-4 rounded-lg border border-gray-100 ${y?"":"opacity-50 pointer-events-none"}`,children:y&&_.jsxs("div",{className:"space-y-3",children:[_.jsxs("h3",{className:"text-md font-semibold text-teal-600 mb-3 flex items-center",children:[_.jsx(Qh,{className:"w-4 h-4 mr-2"}),l.report_options]}),_.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[y==="loans"&&_.jsxs("div",{className:"flex items-center col-span-2",children:[_.jsx("input",{type:"checkbox",checked:d,onChange:T=>c(T.target.checked),className:"mr-2"}),_.jsx("label",{children:l.include_history})]}),y==="inventory"&&_.jsxs("div",{className:"flex items-center col-span-2",children:[_.jsx("input",{type:"checkbox",checked:h,onChange:T=>x(T.target.checked),className:"mr-2"}),_.jsx("label",{children:l.include_borrowed})]}),_.jsxs("div",{className:"flex flex-col",children:[_.jsx("label",{children:l.sort_by}),_.jsxs("select",{value:p,onChange:T=>A(T.target.value),className:"border rounded-md",children:[_.jsx("option",{value:"",children:l.select_field}),B[y].map(T=>_.jsx("option",{value:T.value,children:T.label},T.value))]})]}),_.jsxs("div",{className:"flex flex-col",children:[_.jsx("label",{children:l.order}),_.jsxs("select",{value:b,onChange:T=>w(T.target.value),className:"border rounded-md",children:[_.jsx("option",{value:"asc",children:l.ascending}),_.jsx("option",{value:"desc",children:l.descending})]})]})]}),_.jsxs("button",{onClick:R,disabled:!p,className:"w-full p-2 bg-teal-500 text-white rounded-md",children:[_.jsx(Kh,{className:"w-4 h-4 mr-2"}),l.generate_report_button]})]})})]})]})]})};function pn(i,s,{checkForDefaultPrevented:l=!0}={}){return function(c){if(i==null||i(c),l===!1||!c.defaultPrevented)return s==null?void 0:s(c)}}function Lg(i,s=[]){let l=[];function d(h,x){const b=O.createContext(x),w=l.length;l=[...l,x];const p=y=>{var k;const{scope:P,children:B,...R}=y,T=((k=P==null?void 0:P[i])==null?void 0:k[w])||b,M=O.useMemo(()=>R,Object.values(R));return _.jsx(T.Provider,{value:M,children:B})};p.displayName=h+"Provider";function A(y,P){var T;const B=((T=P==null?void 0:P[i])==null?void 0:T[w])||b,R=O.useContext(B);if(R)return R;if(x!==void 0)return x;throw new Error(`\`${y}\` must be used within \`${h}\``)}return[p,A]}const c=()=>{const h=l.map(x=>O.createContext(x));return function(b){const w=(b==null?void 0:b[i])||h;return O.useMemo(()=>({[`__scope${i}`]:{...b,[i]:w}}),[b,w])}};return c.scopeName=i,[d,kg(c,...s)]}function kg(...i){const s=i[0];if(i.length===1)return s;const l=()=>{const d=i.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(h){const x=d.reduce((b,{useScope:w,scopeName:p})=>{const y=w(h)[`__scope${p}`];return{...b,...y}},{});return O.useMemo(()=>({[`__scope${s.scopeName}`]:x}),[x])}};return l.scopeName=s.scopeName,l}function Fg(i,s=[]){let l=[];function d(h,x){const b=O.createContext(x),w=l.length;l=[...l,x];function p(y){const{scope:P,children:B,...R}=y,T=(P==null?void 0:P[i][w])||b,M=O.useMemo(()=>R,Object.values(R));return _.jsx(T.Provider,{value:M,children:B})}function A(y,P){const B=(P==null?void 0:P[i][w])||b,R=O.useContext(B);if(R)return R;if(x!==void 0)return x;throw new Error(`\`${y}\` must be used within \`${h}\``)}return p.displayName=h+"Provider",[p,A]}const c=()=>{const h=l.map(x=>O.createContext(x));return function(b){const w=(b==null?void 0:b[i])||h;return O.useMemo(()=>({[`__scope${i}`]:{...b,[i]:w}}),[b,w])}};return c.scopeName=i,[d,Vg(c,...s)]}function Vg(...i){const s=i[0];if(i.length===1)return s;const l=()=>{const d=i.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(h){const x=d.reduce((b,{useScope:w,scopeName:p})=>{const y=w(h)[`__scope${p}`];return{...b,...y}},{});return O.useMemo(()=>({[`__scope${s.scopeName}`]:x}),[x])}};return l.scopeName=s.scopeName,l}function Ug(i,s){typeof i=="function"?i(s):i!=null&&(i.current=s)}function nc(...i){return s=>i.forEach(l=>Ug(l,s))}function di(...i){return O.useCallback(nc(...i),i)}var fi=O.forwardRef((i,s)=>{const{children:l,...d}=i,c=O.Children.toArray(l),h=c.find(Hg);if(h){const x=h.props.children,b=c.map(w=>w===h?O.Children.count(x)>1?O.Children.only(null):O.isValidElement(x)?x.props.children:null:w);return _.jsx(Ds,{...d,ref:s,children:O.isValidElement(x)?O.cloneElement(x,void 0,b):null})}return _.jsx(Ds,{...d,ref:s,children:l})});fi.displayName="Slot";var Ds=O.forwardRef((i,s)=>{const{children:l,...d}=i;if(O.isValidElement(l)){const c=Gg(l);return O.cloneElement(l,{...Wg(d,l.props),ref:s?nc(s,c):c})}return O.Children.count(l)>1?O.Children.only(null):null});Ds.displayName="SlotClone";var jg=({children:i})=>_.jsx(_.Fragment,{children:i});function Hg(i){return O.isValidElement(i)&&i.type===jg}function Wg(i,s){const l={...s};for(const d in s){const c=i[d],h=s[d];/^on[A-Z]/.test(d)?c&&h?l[d]=(...b)=>{h(...b),c(...b)}:c&&(l[d]=c):d==="style"?l[d]={...c,...h}:d==="className"&&(l[d]=[c,h].filter(Boolean).join(" "))}return{...i,...l}}function Gg(i){var d,c;let s=(d=Object.getOwnPropertyDescriptor(i.props,"ref"))==null?void 0:d.get,l=s&&"isReactWarning"in s&&s.isReactWarning;return l?i.ref:(s=(c=Object.getOwnPropertyDescriptor(i,"ref"))==null?void 0:c.get,l=s&&"isReactWarning"in s&&s.isReactWarning,l?i.props.ref:i.props.ref||i.ref)}function Xg(i){const s=i+"CollectionProvider",[l,d]=Fg(s),[c,h]=l(s,{collectionRef:{current:null},itemMap:new Map}),x=B=>{const{scope:R,children:T}=B,M=Bn.useRef(null),k=Bn.useRef(new Map).current;return _.jsx(c,{scope:R,itemMap:k,collectionRef:M,children:T})};x.displayName=s;const b=i+"CollectionSlot",w=Bn.forwardRef((B,R)=>{const{scope:T,children:M}=B,k=h(b,T),j=di(R,k.collectionRef);return _.jsx(fi,{ref:j,children:M})});w.displayName=b;const p=i+"CollectionItemSlot",A="data-radix-collection-item",y=Bn.forwardRef((B,R)=>{const{scope:T,children:M,...k}=B,j=Bn.useRef(null),G=di(R,j),Y=h(p,T);return Bn.useEffect(()=>(Y.itemMap.set(j,{ref:j,...k}),()=>void Y.itemMap.delete(j))),_.jsx(fi,{[A]:"",ref:G,children:M})});y.displayName=p;function P(B){const R=h(i+"CollectionConsumer",B);return Bn.useCallback(()=>{const M=R.collectionRef.current;if(!M)return[];const k=Array.from(M.querySelectorAll(`[${A}]`));return Array.from(R.itemMap.values()).sort((Y,ie)=>k.indexOf(Y.ref.current)-k.indexOf(ie.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:x,Slot:w,ItemSlot:y},P,d]}function zg(i,s=[]){let l=[];function d(h,x){const b=O.createContext(x),w=l.length;l=[...l,x];function p(y){const{scope:P,children:B,...R}=y,T=(P==null?void 0:P[i][w])||b,M=O.useMemo(()=>R,Object.values(R));return _.jsx(T.Provider,{value:M,children:B})}function A(y,P){const B=(P==null?void 0:P[i][w])||b,R=O.useContext(B);if(R)return R;if(x!==void 0)return x;throw new Error(`\`${y}\` must be used within \`${h}\``)}return p.displayName=h+"Provider",[p,A]}const c=()=>{const h=l.map(x=>O.createContext(x));return function(b){const w=(b==null?void 0:b[i])||h;return O.useMemo(()=>({[`__scope${i}`]:{...b,[i]:w}}),[b,w])}};return c.scopeName=i,[d,Yg(c,...s)]}function Yg(...i){const s=i[0];if(i.length===1)return s;const l=()=>{const d=i.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(h){const x=d.reduce((b,{useScope:w,scopeName:p})=>{const y=w(h)[`__scope${p}`];return{...b,...y}},{});return O.useMemo(()=>({[`__scope${s.scopeName}`]:x}),[x])}};return l.scopeName=s.scopeName,l}var Ps=globalThis!=null&&globalThis.document?O.useLayoutEffect:()=>{},qg=gs.useId||(()=>{}),Zg=0;function rc(i){const[s,l]=O.useState(qg());return Ps(()=>{i||l(d=>d??String(Zg++))},[i]),i||(s?`radix-${s}`:"")}var Kg=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],nr=Kg.reduce((i,s)=>{const l=O.forwardRef((d,c)=>{const{asChild:h,...x}=d,b=h?fi:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),_.jsx(b,{...x,ref:c})});return l.displayName=`Primitive.${s}`,{...i,[s]:l}},{});function no(i){const s=O.useRef(i);return O.useEffect(()=>{s.current=i}),O.useMemo(()=>(...l)=>{var d;return(d=s.current)==null?void 0:d.call(s,...l)},[])}function ic({prop:i,defaultProp:s,onChange:l=()=>{}}){const[d,c]=$g({defaultProp:s,onChange:l}),h=i!==void 0,x=h?i:d,b=no(l),w=O.useCallback(p=>{if(h){const y=typeof p=="function"?p(i):p;y!==i&&b(y)}else c(p)},[h,i,c,b]);return[x,w]}function $g({defaultProp:i,onChange:s}){const l=O.useState(i),[d]=l,c=O.useRef(d),h=no(s);return O.useEffect(()=>{c.current!==d&&(h(d),c.current=d)},[d,c,h]),l}var Qg=O.createContext(void 0);function sc(i){const s=O.useContext(Qg);return i||s||"ltr"}var hs="rovingFocusGroup.onEntryFocus",Jg={bubbles:!1,cancelable:!0},Pi="RovingFocusGroup",[Bs,oc,e2]=Xg(Pi),[t2,ac]=zg(Pi,[e2]),[n2,r2]=t2(Pi),lc=O.forwardRef((i,s)=>_.jsx(Bs.Provider,{scope:i.__scopeRovingFocusGroup,children:_.jsx(Bs.Slot,{scope:i.__scopeRovingFocusGroup,children:_.jsx(i2,{...i,ref:s})})}));lc.displayName=Pi;var i2=O.forwardRef((i,s)=>{const{__scopeRovingFocusGroup:l,orientation:d,loop:c=!1,dir:h,currentTabStopId:x,defaultCurrentTabStopId:b,onCurrentTabStopIdChange:w,onEntryFocus:p,preventScrollOnEntryFocus:A=!1,...y}=i,P=O.useRef(null),B=di(s,P),R=sc(h),[T=null,M]=ic({prop:x,defaultProp:b,onChange:w}),[k,j]=O.useState(!1),G=no(p),Y=oc(l),ie=O.useRef(!1),[$,L]=O.useState(0);return O.useEffect(()=>{const K=P.current;if(K)return K.addEventListener(hs,G),()=>K.removeEventListener(hs,G)},[G]),_.jsx(n2,{scope:l,orientation:d,dir:R,loop:c,currentTabStopId:T,onItemFocus:O.useCallback(K=>M(K),[M]),onItemShiftTab:O.useCallback(()=>j(!0),[]),onFocusableItemAdd:O.useCallback(()=>L(K=>K+1),[]),onFocusableItemRemove:O.useCallback(()=>L(K=>K-1),[]),children:_.jsx(nr.div,{tabIndex:k||$===0?-1:0,"data-orientation":d,...y,ref:B,style:{outline:"none",...i.style},onMouseDown:pn(i.onMouseDown,()=>{ie.current=!0}),onFocus:pn(i.onFocus,K=>{const z=!ie.current;if(K.target===K.currentTarget&&z&&!k){const Ve=new CustomEvent(hs,Jg);if(K.currentTarget.dispatchEvent(Ve),!Ve.defaultPrevented){const ye=Y().filter(xe=>xe.focusable),ae=ye.find(xe=>xe.active),Ee=ye.find(xe=>xe.id===T),U=[ae,Ee,...ye].filter(Boolean).map(xe=>xe.ref.current);dc(U,A)}}ie.current=!1}),onBlur:pn(i.onBlur,()=>j(!1))})})}),cc="RovingFocusGroupItem",uc=O.forwardRef((i,s)=>{const{__scopeRovingFocusGroup:l,focusable:d=!0,active:c=!1,tabStopId:h,...x}=i,b=rc(),w=h||b,p=r2(cc,l),A=p.currentTabStopId===w,y=oc(l),{onFocusableItemAdd:P,onFocusableItemRemove:B}=p;return O.useEffect(()=>{if(d)return P(),()=>B()},[d,P,B]),_.jsx(Bs.ItemSlot,{scope:l,id:w,focusable:d,active:c,children:_.jsx(nr.span,{tabIndex:A?0:-1,"data-orientation":p.orientation,...x,ref:s,onMouseDown:pn(i.onMouseDown,R=>{d?p.onItemFocus(w):R.preventDefault()}),onFocus:pn(i.onFocus,()=>p.onItemFocus(w)),onKeyDown:pn(i.onKeyDown,R=>{if(R.key==="Tab"&&R.shiftKey){p.onItemShiftTab();return}if(R.target!==R.currentTarget)return;const T=a2(R,p.orientation,p.dir);if(T!==void 0){if(R.metaKey||R.ctrlKey||R.altKey||R.shiftKey)return;R.preventDefault();let k=y().filter(j=>j.focusable).map(j=>j.ref.current);if(T==="last")k.reverse();else if(T==="prev"||T==="next"){T==="prev"&&k.reverse();const j=k.indexOf(R.currentTarget);k=p.loop?l2(k,j+1):k.slice(j+1)}setTimeout(()=>dc(k))}})})})});uc.displayName=cc;var s2={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function o2(i,s){return s!=="rtl"?i:i==="ArrowLeft"?"ArrowRight":i==="ArrowRight"?"ArrowLeft":i}function a2(i,s,l){const d=o2(i.key,l);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(d))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(d)))return s2[d]}function dc(i,s=!1){const l=document.activeElement;for(const d of i)if(d===l||(d.focus({preventScroll:s}),document.activeElement!==l))return}function l2(i,s){return i.map((l,d)=>i[(s+d)%i.length])}var c2=lc,u2=uc;function d2(i,s){return O.useReducer((l,d)=>s[l][d]??l,i)}var fc=i=>{const{present:s,children:l}=i,d=f2(s),c=typeof l=="function"?l({present:d.isPresent}):O.Children.only(l),h=di(d.ref,h2(c));return typeof l=="function"||d.isPresent?O.cloneElement(c,{ref:h}):null};fc.displayName="Presence";function f2(i){const[s,l]=O.useState(),d=O.useRef({}),c=O.useRef(i),h=O.useRef("none"),x=i?"mounted":"unmounted",[b,w]=d2(x,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return O.useEffect(()=>{const p=Xr(d.current);h.current=b==="mounted"?p:"none"},[b]),Ps(()=>{const p=d.current,A=c.current;if(A!==i){const P=h.current,B=Xr(p);i?w("MOUNT"):B==="none"||(p==null?void 0:p.display)==="none"?w("UNMOUNT"):w(A&&P!==B?"ANIMATION_OUT":"UNMOUNT"),c.current=i}},[i,w]),Ps(()=>{if(s){let p;const A=s.ownerDocument.defaultView??window,y=B=>{const T=Xr(d.current).includes(B.animationName);if(B.target===s&&T&&(w("ANIMATION_END"),!c.current)){const M=s.style.animationFillMode;s.style.animationFillMode="forwards",p=A.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=M)})}},P=B=>{B.target===s&&(h.current=Xr(d.current))};return s.addEventListener("animationstart",P),s.addEventListener("animationcancel",y),s.addEventListener("animationend",y),()=>{A.clearTimeout(p),s.removeEventListener("animationstart",P),s.removeEventListener("animationcancel",y),s.removeEventListener("animationend",y)}}else w("ANIMATION_END")},[s,w]),{isPresent:["mounted","unmountSuspended"].includes(b),ref:O.useCallback(p=>{p&&(d.current=getComputedStyle(p)),l(p)},[])}}function Xr(i){return(i==null?void 0:i.animationName)||"none"}function h2(i){var d,c;let s=(d=Object.getOwnPropertyDescriptor(i.props,"ref"))==null?void 0:d.get,l=s&&"isReactWarning"in s&&s.isReactWarning;return l?i.ref:(s=(c=Object.getOwnPropertyDescriptor(i,"ref"))==null?void 0:c.get,l=s&&"isReactWarning"in s&&s.isReactWarning,l?i.props.ref:i.props.ref||i.ref)}var ro="Tabs",[g2,b2]=Lg(ro,[ac]),hc=ac(),[x2,io]=g2(ro),gc=O.forwardRef((i,s)=>{const{__scopeTabs:l,value:d,onValueChange:c,defaultValue:h,orientation:x="horizontal",dir:b,activationMode:w="automatic",...p}=i,A=sc(b),[y,P]=ic({prop:d,onChange:c,defaultProp:h});return _.jsx(x2,{scope:l,baseId:rc(),value:y,onValueChange:P,orientation:x,dir:A,activationMode:w,children:_.jsx(nr.div,{dir:A,"data-orientation":x,...p,ref:s})})});gc.displayName=ro;var xc="TabsList",pc=O.forwardRef((i,s)=>{const{__scopeTabs:l,loop:d=!0,...c}=i,h=io(xc,l),x=hc(l);return _.jsx(c2,{asChild:!0,...x,orientation:h.orientation,dir:h.dir,loop:d,children:_.jsx(nr.div,{role:"tablist","aria-orientation":h.orientation,...c,ref:s})})});pc.displayName=xc;var mc="TabsTrigger",wr=O.forwardRef((i,s)=>{const{__scopeTabs:l,value:d,disabled:c=!1,...h}=i,x=io(mc,l),b=hc(l),w=bc(x.baseId,d),p=Cc(x.baseId,d),A=d===x.value;return _.jsx(u2,{asChild:!0,...b,focusable:!c,active:A,children:_.jsx(nr.button,{type:"button",role:"tab","aria-selected":A,"aria-controls":p,"data-state":A?"active":"inactive","data-disabled":c?"":void 0,disabled:c,id:w,...h,ref:s,onMouseDown:pn(i.onMouseDown,y=>{!c&&y.button===0&&y.ctrlKey===!1?x.onValueChange(d):y.preventDefault()}),onKeyDown:pn(i.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&x.onValueChange(d)}),onFocus:pn(i.onFocus,()=>{const y=x.activationMode!=="manual";!A&&!c&&y&&x.onValueChange(d)})})})});wr.displayName=mc;var wc="TabsContent",br=O.forwardRef((i,s)=>{const{__scopeTabs:l,value:d,forceMount:c,children:h,...x}=i,b=io(wc,l),w=bc(b.baseId,d),p=Cc(b.baseId,d),A=d===b.value,y=O.useRef(A);return O.useEffect(()=>{const P=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(P)},[]),_.jsx(fc,{present:c||A,children:({present:P})=>_.jsx(nr.div,{"data-state":A?"active":"inactive","data-orientation":b.orientation,role:"tabpanel","aria-labelledby":w,hidden:!P,id:p,tabIndex:0,...x,ref:s,style:{...i.style,animationDuration:y.current?"0s":void 0},children:P&&h})})});br.displayName=wc;function bc(i,s){return`${i}-trigger-${s}`}function Cc(i,s){return`${i}-content-${s}`}function p2(){const[i,s]=O.useState(!1),l=()=>{s(!0)};return _.jsx(U1,{children:i?_.jsx(m2,{}):_.jsx(B1,{onLogin:l})})}function m2(){const{language:i}=Ir(),s=_r(i);return _.jsxs("div",{className:"app-container min-h-screen bg-blend-screen max-w-md mx-auto",children:[_.jsx("header",{className:"bg-white",children:_.jsxs("div",{className:"max-w-md mx-auto flex items-start justify-items-center p-4",children:[_.jsx("img",{src:nl,alt:"ICM Library Logo",className:"max-h-16 sm:max-h-20"}),_.jsx("div",{className:"logo",children:_.jsx("p",{className:"text-sm text-gray-600",children:s.app_title})})]})}),_.jsx("div",{className:"max-w-md mx-auto",children:_.jsxs(gc,{defaultValue:"inventory",className:"w-full",children:[_.jsxs(pc,{className:"tabs-list w-full bg-white shadow-md rounded-lg grid grid-cols-4",children:[_.jsxs(wr,{value:"inventory",className:"tab-item flex items-center justify-center data-[state=active]:bg-teal-500 data-[state=active]:text-white text-gray-800 py-2 rounded-t-lg hover:bg-gray-100",children:[_.jsx(Yh,{className:"w-4 h-4 mr-2"}),s.books]}),_.jsxs(wr,{value:"members",className:"tab-item flex items-center justify-center data-[state=active]:bg-[#FDB813] data-[state=active]:text-white text-gray-800 py-2 rounded-t-lg hover:bg-gray-100",children:[_.jsx(eg,{className:"w-4 h-4 mr-2"}),s.members]}),_.jsxs(wr,{value:"loans",className:"tab-item flex items-center justify-center data-[state=active]:bg-red-500 data-[state=active]:text-white text-gray-800 py-2 rounded-t-lg hover:bg-gray-100",children:[_.jsx(Ns,{className:"w-4 h-4 mr-2"}),s.loans]}),_.jsxs(wr,{value:"reports",className:"tab-item flex items-center justify-center data-[state=active]:bg-purple-500 data-[state=active]:text-white text-gray-800 py-2 rounded-t-lg hover:bg-gray-100",children:[_.jsx(qh,{className:"w-4 h-4 mr-2"}),s.reports]})]}),_.jsx(br,{value:"inventory",children:_.jsx(W1,{})}),_.jsx(br,{value:"members",children:_.jsx(G1,{})}),_.jsx(br,{value:"loans",children:_.jsx(Mg,{})}),_.jsx(br,{value:"reports",children:_.jsx(Bg,{})})]})})]})}Ra(document.getElementById("root")).render(_.jsx(O.StrictMode,{children:_.jsx(p2,{})}));
